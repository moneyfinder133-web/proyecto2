(function (n) { function t(r) { if (i[r]) return i[r].exports; var u = i[r] = { i: r, l: !1, exports: {} }; return n[r].call(u.exports, u, u.exports, t), u.l = !0, u.exports } var i = {}; return t.m = n, t.c = i, t.i = function (n) { return n }, t.d = function (n, i, r) { t.o(n, i) || Object.defineProperty(n, i, { configurable: !1, enumerable: !0, get: r }) }, t.n = function (n) { var i = n && n.__esModule ? function () { return n["default"] } : function () { return n }; return t.d(i, "a", i), i }, t.o = function (n, t) { return Object.prototype.hasOwnProperty.call(n, t) }, t.p = "/assets/", t(t.s = 24) })([function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ./events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _row = __webpack_require__(/*! ../components/row */ 15);\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _column = __webpack_require__(/*! ../components/column */ 12);\n\nvar _column2 = _interopRequireDefault(_column);\n\nvar _field = __webpack_require__(/*! ../components/field */ 14);\n\nvar _field2 = _interopRequireDefault(_field);\n\nvar _animation = __webpack_require__(/*! ./animation */ 8);\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nvar _data2 = __webpack_require__(/*! ./data */ 2);\n\nvar _utils = __webpack_require__(/*! ./utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DOM = function () {\n  function DOM() {\n    _classCallCheck(this, DOM);\n\n    this.stages = new Map();\n    this.rows = new Map();\n    this.columns = new Map();\n    this.fields = new Map();\n    this.styleSheet = function () {\n      var style = document.createElement('style');\n      style.setAttribute('media', 'screen');\n      style.setAttribute('type', 'text/css');\n      style.appendChild(document.createTextNode(''));\n      document.head.appendChild(style);\n      return style.sheet;\n    }();\n  }\n\n  DOM.prototype.processTagName = function processTagName(elem) {\n    var tagName = void 0;\n    if (typeof elem === 'string') {\n      tagName = elem;\n      elem = { tag: tagName };\n    }\n    if (elem.attrs) {\n      var tag = elem.attrs.tag;\n      if (tag) {\n        var selectedTag = tag.filter(function (t) {\n          return t.selected === true;\n        });\n        if (selectedTag.length) {\n          tagName = selectedTag[0].value;\n        }\n      }\n    }\n\n    elem.tag = tagName || elem.tag;\n\n    return elem;\n  };\n\n  DOM.prototype.create = function create(elem) {\n    var isPreview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    elem = this.processTagName(elem);\n    var _this = this;\n    var contentType = void 0;\n    var _elem = elem,\n        tag = _elem.tag;\n\n    var processed = [];\n    var i = void 0;\n    var wrap = {\n      tag: 'div',\n      attrs: {},\n      className: [_helpers2.default.get(elem, 'config.inputWrap') || 'f-field-group'],\n      content: [],\n      config: {}\n    };\n    var requiredMark = {\n      tag: 'span',\n      className: 'text-error',\n      content: '*'\n    };\n    var element = document.createElement(tag);\n    var required = _helpers2.default.get(elem, 'attrs.required');\n\n    var appendContent = {\n      string: function string(content) {\n        element.innerHTML += content;\n      },\n      object: function object(content) {\n        return element.appendChild(_this.create(content));\n      },\n      node: function node(content) {\n        return element.appendChild(content);\n      },\n      array: function array(content) {\n        for (var _i = 0; _i < content.length; _i++) {\n          contentType = _this.contentType(content[_i]);\n          appendContent[contentType](content[_i]);\n        }\n      },\n      function: function _function(content) {\n        content = content();\n        contentType = _this.contentType(content);\n        appendContent[contentType](content);\n      },\n      undefined: function undefined() {\n        return null;\n      }\n    };\n\n    processed.push('tag');\n\n    if (elem.className) {\n      var _elem2 = elem,\n          className = _elem2.className;\n\n      elem.attrs = Object.assign({}, elem.attrs, { className: className });\n      delete elem.className;\n    }\n\n    if (elem.options) {\n      var _elem3 = elem,\n          options = _elem3.options;\n\n      options = this.processOptions(options, elem, isPreview);\n      if (this.holdsContent(element) && tag !== 'button') {\n        appendContent.array.call(this, options);\n        delete elem.content;\n      } else {\n        _helpers2.default.forEach(options, function (option) {\n          wrap.content.push(_this.create(option, isPreview));\n        });\n\n        if (elem.attrs.className) {\n          wrap.className = elem.attrs.className;\n        }\n\n        wrap.config = Object.assign({}, elem.config);\n        wrap.className.push = _helpers2.default.get(elem, 'attrs.className');\n\n        if (required) {\n          wrap.attrs.required = required;\n        }\n\n        return this.create(wrap, isPreview);\n      }\n\n      processed.push('options');\n    }\n\n    if (elem.attrs) {\n      _this.processAttrs(elem, element, isPreview);\n      processed.push('attrs');\n    }\n\n    if (elem.config) {\n      var editablePreview = elem.config.editable && isPreview;\n      if (elem.config.label && tag !== 'button') {\n        var label = void 0;\n\n        if (isPreview) {\n          label = _this.label(elem, 'config.label');\n        } else {\n          label = _this.label(elem);\n        }\n\n        if (!elem.config.hideLabel) {\n          if (_this.labelAfter(elem)) {\n            wrap.className = 'f-' + elem.attrs.type;\n\n            label.insertBefore(element, label.firstChild);\n            wrap.content.push(label);\n            if (required) {\n              wrap.content.push(requiredMark);\n            }\n          } else {\n            wrap.content.push(label);\n            if (required) {\n              wrap.content.push(requiredMark);\n            }\n            wrap.content.push(element);\n          }\n        } else if (editablePreview) {\n          element.contentEditable = true;\n        }\n      } else if (editablePreview) {\n        element.contentEditable = true;\n      }\n\n      processed.push('config');\n    }\n\n    if (elem.content) {\n      contentType = _this.contentType(elem.content);\n      appendContent[contentType].call(this, elem.content);\n      processed.push('content');\n    }\n\n    if (elem.dataset) {\n      for (var _data in elem.dataset) {\n        if (elem.dataset.hasOwnProperty(_data)) {\n          element.dataset[_data] = elem.dataset[_data];\n        }\n      }\n      processed.push('dataset');\n    }\n\n    if (elem.action) {\n      var actions = Object.keys(elem.action);\n\n      var _loop = function _loop() {\n        var event = actions[i];\n        var action = elem.action[event];\n        if (typeof action === 'string') {\n          action = eval('(' + elem.action[event] + ')');\n        }\n        var useCaptureEvts = ['focus', 'blur'];\n\n        if (event === 'onRender') {\n          setTimeout(function () {\n            action(element);\n          }, 10);\n        } else {\n          var useCapture = _helpers2.default.inArray(event, useCaptureEvts);\n          element.addEventListener(event, action, useCapture);\n        }\n      };\n\n      for (i = actions.length - 1; i >= 0; i--) {\n        _loop();\n      }\n      processed.push('action');\n    }\n\n    var fieldDataBindings = ['stage', 'row', 'column', 'field'];\n\n    if (_helpers2.default.inArray(elem.fType, fieldDataBindings)) {\n      var dataType = elem.fType + 'Data';\n      element[dataType] = elem;\n      if (dataType === 'fieldData') {\n        element.panelNav = elem.panelNav;\n      }\n      processed.push(dataType);\n    }\n\n    var remaining = _helpers2.default.subtract(processed, Object.keys(elem));\n    for (i = remaining.length - 1; i >= 0; i--) {\n      element[remaining[i]] = elem[remaining[i]];\n    }\n\n    if (wrap.content.length) {\n      element = this.create(wrap);\n    }\n\n    return element;\n  };\n\n  DOM.prototype.icon = function icon(name) {\n    var iconLink = document.getElementById('icon-' + name);\n    var icon = void 0;\n\n    if (iconLink) {\n      icon = '<svg class=\"svg-icon icon-' + name + '\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-' + name + '\"><\/use><\/svg>';\n    } else {\n      icon = '<span class=\"glyphicon glyphicon-' + name + '\" aria-hidden=\"true\"><\/span>';\n    }\n    return icon;\n  };\n\n  DOM.prototype.processAttrs = function processAttrs(elem, element, isPreview) {\n    var _elem$attrs = elem.attrs,\n        attrs = _elem$attrs === undefined ? {} : _elem$attrs;\n\n    delete attrs.tag;\n\n    if (!isPreview) {\n      if (!attrs.name && this.isInput(elem.tag)) {\n        element.setAttribute('name', (0, _utils.uuid)(elem));\n      }\n    }\n\n    Object.keys(attrs).forEach(function (attr) {\n      var name = _helpers2.default.safeAttrName(attr);\n      var value = attrs[attr] || '';\n\n      if (Array.isArray(value)) {\n        if (_typeof(value[0]) === 'object') {\n          var selected = value.filter(function (t) {\n            return t.selected === true;\n          });\n          value = selected.length ? selected[0].value : value[0].value;\n        } else {\n          value = value.join(' ');\n        }\n      }\n\n      if (value) {\n        element.setAttribute(name, value);\n      }\n    });\n  };\n\n  DOM.prototype.checkbox = function checkbox(elem, isPreview) {\n    var label = _helpers2.default.get(elem, 'elem.config.label') || '';\n    var checkable = {\n      tag: 'span',\n      className: 'checkable',\n      content: label\n    };\n    var optionLabel = {\n      tag: 'label',\n      attrs: {},\n      content: [elem, checkable]\n    };\n\n    return optionLabel;\n  };\n\n  DOM.prototype.processOptions = function processOptions(options, elem, isPreview) {\n    var action = elem.action,\n        attrs = elem.attrs;\n\n    var fieldType = attrs.type || elem.tag;\n    var id = attrs.id || elem.id;\n\n    var optionMap = function optionMap(option, i) {\n      var defaultInput = function defaultInput() {\n        var input = {\n          tag: 'input',\n          attrs: {\n            id: id,\n            type: fieldType,\n            value: option.value || ''\n          },\n          action: action\n        };\n        var checkable = {\n          tag: 'span',\n          className: 'checkable',\n          content: option.label\n        };\n        var optionLabel = {\n          tag: 'label',\n          attrs: {},\n          config: {\n            inputWrap: 'form-check'\n          },\n          content: [option.label]\n        };\n        var inputWrap = {\n          tag: 'div',\n          content: [optionLabel],\n          className: ['f-' + fieldType]\n        };\n\n        if (elem.attrs.className) {\n          elem.config.inputWrap = elem.attrs.className;\n        }\n\n        if (elem.config.inline) {\n          inputWrap.className.push('f-${fieldType}-inline');\n        }\n\n        if (option.selected) {\n          input.attrs.checked = true;\n        }\n\n        if (isPreview) {\n          input.fMap = 'options[' + i + '].selected';\n          optionLabel.attrs.contenteditable = true;\n          optionLabel.fMap = 'options[' + i + '].label';\n          checkable.content = undefined;\n          var checkableLabel = {\n            tag: 'label',\n            content: [input, checkable]\n          };\n          inputWrap.content.unshift(checkableLabel);\n        } else {\n          input.attrs.name = id;\n          optionLabel.content = checkable;\n          optionLabel = dom.create(optionLabel);\n          input = dom.create(input);\n          optionLabel.insertBefore(input, optionLabel.firstChild);\n          inputWrap.content = optionLabel;\n        }\n\n        return inputWrap;\n      };\n\n      var optionMarkup = {\n        select: function select() {\n          return {\n            tag: 'option',\n            attrs: option,\n            content: option.label\n          };\n        },\n        button: function button(option) {\n          var type = option.type,\n              label = option.label,\n              className = option.className,\n              id = option.id;\n\n          return Object.assign({}, elem, {\n            attrs: {\n              type: type\n            },\n            className: className,\n            id: id || (0, _utils.uuid)(),\n            options: undefined,\n            content: label,\n            action: elem.action\n          });\n        },\n        checkbox: defaultInput,\n        radio: defaultInput\n      };\n\n      return optionMarkup[fieldType](option);\n    };\n\n    var mappedOptions = options.map(optionMap);\n\n    return mappedOptions;\n  };\n\n  DOM.prototype.holdsContent = function holdsContent(element) {\n    return element.outerHTML.indexOf('/') !== -1;\n  };\n\n  DOM.prototype.isBlockInput = function isBlockInput(element) {\n    return !this.isInput(element) && this.holdsContent(element);\n  };\n\n  DOM.prototype.isInput = function isInput(tag) {\n    if (typeof tag !== 'string') {\n      tag = tag.tagName;\n    }\n    return ['input', 'textarea', 'select'].indexOf(tag) !== -1;\n  };\n\n  DOM.prototype.parsedHtml = function parsedHtml(html) {\n    var escapeElement = document.createElement('textarea');\n    escapeElement.innerHTML = html;\n    return escapeElement.textContent;\n  };\n\n  DOM.prototype.labelAfter = function labelAfter(elem) {\n    var type = _helpers2.default.get(elem, 'attrs.type');\n    var isCB = type === 'checkbox' || type === 'radio';\n    return isCB || _helpers2.default.get(elem, 'config.labelAfter');\n  };\n\n  DOM.prototype.label = function label(elem, fMap) {\n    var fieldLabel = {\n      tag: 'label',\n      attrs: {},\n      className: [],\n      content: elem.config.label,\n      action: {}\n    };\n\n    if (this.labelAfter(elem)) {\n      var checkable = {\n        tag: 'span',\n        className: 'checkable',\n        content: elem.config.label\n      };\n      fieldLabel.content = checkable;\n    }\n\n    if (elem.id) {\n      fieldLabel.attrs.for = elem.id;\n    }\n\n    if (fMap) {\n      delete fieldLabel.attrs.for;\n      fieldLabel.attrs.contenteditable = true;\n      fieldLabel.fMap = fMap;\n    }\n\n    return dom.create(fieldLabel);\n  };\n\n  DOM.prototype.contentType = function contentType(content) {\n    var type = typeof content === 'undefined' ? 'undefined' : _typeof(content);\n    if (content instanceof Node || content instanceof HTMLElement) {\n      type = 'node';\n    } else if (Array.isArray(content)) {\n      type = 'array';\n    }\n\n    return type;\n  };\n\n  DOM.prototype.getStyle = function getStyle(elem) {\n    var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var style = void 0;\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(elem, null);\n    } else if (elem.currentStyle) {\n      style = elem.currentStyle;\n    }\n\n    return property ? style[property] : style;\n  };\n\n  DOM.prototype.getElement = function getElement(elem) {\n    var getElement = {\n      node: function node() {\n        return elem;\n      },\n      object: function object() {\n        return document.getElementById(elem.id);\n      },\n      string: function string() {\n        return document.getElementById(elem);\n      }\n    };\n    var type = this.contentType(elem);\n    var element = getElement[type]();\n\n    return element;\n  };\n\n  DOM.prototype.empty = function empty(elem) {\n    while (elem.firstChild) {\n      this.remove(elem.firstChild);\n    }\n    return elem;\n  };\n\n  DOM.prototype.actionButtons = function actionButtons(id) {\n    var item = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'column';\n\n    var _this = this;\n    var tag = item === 'column' ? 'li' : 'div';\n    var btnWrap = {\n      tag: 'div',\n      className: 'action-btn-wrap'\n    };\n    var actions = {\n      tag: tag,\n      className: item + '-actions group-actions',\n      action: {\n        mouseenter: function mouseenter(evt) {\n          var element = document.getElementById(id);\n          element.classList.add('hovering-' + item);\n          evt.target.parentReference = element;\n        },\n        mouseleave: function mouseleave(evt) {\n          evt.target.parentReference.classList.remove('hovering-' + item);\n        },\n        onRender: function onRender(elem) {\n          var buttons = elem.getElementsByTagName('button');\n          var btnWidth = parseInt(_this.getStyle(buttons[0], 'width')) + 1;\n          var expandedWidth = buttons.length * btnWidth + 'px';\n          var woh = item === 'row' ? 'height' : 'width';\n          var rules = [['.hovering-' + item + ' .' + item + '-actions', [woh, expandedWidth, true]]];\n\n          _this.insertRule(rules);\n        }\n      }\n    };\n\n    btnWrap.content = this.config[item + 's'].actionButtons.buttons;\n    actions.content = btnWrap;\n\n    return actions;\n  };\n\n  DOM.prototype.clone = function clone(elem, parent) {\n    var _this = this;\n    var id = elem.id,\n        fType = elem.fType;\n\n    var dataClone = (0, _utils.clone)(_data2.formData[fType].get(id));\n    var newIndex = _helpers2.default.indexOfNode(elem) + 1;\n    var noParent = false;\n    dataClone.id = (0, _utils.uuid)();\n    _data2.formData[fType].set(dataClone.id, dataClone);\n    if (!parent) {\n      parent = elem.parentElement;\n      noParent = true;\n    }\n    var cloneType = {\n      rows: function rows() {\n        dataClone.columns = [];\n        var stage = _this.activeStage;\n        var newRow = _this.addRow(null, dataClone.id);\n        var columns = elem.getElementsByClassName('stage-columns');\n\n        stage.insertBefore(newRow, stage.childNodes[newIndex]);\n        _helpers2.default.forEach(columns, function (column) {\n          return _this.clone(column, newRow);\n        });\n        _data2.data.saveRowOrder();\n        return newRow;\n      },\n      columns: function columns() {\n        dataClone.fields = [];\n        var newColumn = _this.addColumn(parent.id, dataClone.id);\n        parent.insertBefore(newColumn, parent.childNodes[newIndex]);\n        var fields = elem.getElementsByClassName('stage-fields');\n\n        if (noParent) {\n          dom.columnWidths(parent);\n        }\n        _helpers2.default.forEach(fields, function (field) {\n          return _this.clone(field, newColumn);\n        });\n        return newColumn;\n      },\n      fields: function fields() {\n        var newField = _this.addField(parent.id, dataClone.id);\n        parent.insertBefore(newField, parent.childNodes[newIndex]);\n        return newField;\n      }\n    };\n\n    return cloneType[fType]();\n  };\n\n  DOM.prototype.removeEmpty = function removeEmpty(element) {\n    var _this = this;\n    var parent = element.parentElement;\n    var type = element.fType;\n    var children = void 0;\n    _this.remove(element);\n    children = parent.getElementsByClassName('stage-' + type);\n    if (!children.length) {\n      if (parent.fType !== 'stages') {\n        return _this.removeEmpty(parent);\n      } else {\n        this.emptyClass(parent);\n      }\n    }\n    if (type === 'columns') {\n      _this.columnWidths(parent);\n    }\n    return _data2.data.save();\n  };\n\n  DOM.prototype.remove = function remove(elem) {\n    var fType = elem.fType,\n        id = elem.id;\n\n    if (fType) {\n      var parent = elem.parentElement;\n      var pData = _data2.formData[parent.fType].get(parent.id);\n      _data2.data.empty(fType, id);\n      this[fType].delete(id);\n      _data2.formData[fType].delete(id);\n      (0, _utils.remove)(pData[fType], id);\n    }\n    return elem.parentElement.removeChild(elem);\n  };\n\n  DOM.prototype.removeClasses = function removeClasses(nodeList, className) {\n    var _this = this;\n    var removeClass = {\n      string: function string(elem) {\n        elem.className = elem.className.replace(className, '');\n      },\n      array: function array(elem) {\n        for (var i = className.length - 1; i >= 0; i--) {\n          elem.classList.remove(className[i]);\n        }\n      }\n    };\n    removeClass.object = removeClass.string;\n    _helpers2.default.forEach(nodeList, removeClass[_this.contentType(className)]);\n  };\n\n  DOM.prototype.addClasses = function addClasses(nodeList, className) {\n    var _this = this;\n    var addClass = {\n      string: function string(elem) {\n        elem.classList.add(className);\n      },\n      array: function array(elem) {\n        for (var i = className.length - 1; i >= 0; i--) {\n          elem.classList.add(className[i]);\n        }\n      }\n    };\n    _helpers2.default.forEach(nodeList, addClass[_this.contentType(className)]);\n  };\n\n  DOM.prototype.fieldOrderClass = function fieldOrderClass(column) {\n    var fields = column.querySelectorAll('.stage-fields');\n\n    if (fields.length) {\n      this.removeClasses(fields, ['first-field', 'last-field']);\n      fields[0].classList.add('first-field');\n      fields[fields.length - 1].classList.add('last-field');\n    }\n  };\n\n  DOM.prototype.columnWidths = function columnWidths(row) {\n    var _this = this;\n    var fields = [];\n    var columns = row.getElementsByClassName('stage-columns');\n    if (!columns.length) {\n      return;\n    }\n    var width = parseFloat((100 / columns.length).toFixed(1)) / 1;\n    var bsGridRegEx = /\\bcol-\\w+-\\d+/g;\n\n    _this.removeClasses(columns, bsGridRegEx);\n\n    _helpers2.default.forEach(columns, function (column) {\n      var columnData = _data2.formData.columns.get(column.id);\n      fields.push.apply(fields, columnData.fields);\n\n      var colWidth = (0, _utils.numToPercent)(width);\n\n      column.style.width = colWidth;\n      column.style.float = 'left';\n      columnData.config.width = colWidth;\n      column.dataset.colWidth = colWidth;\n      document.dispatchEvent(_events2.default.columnResized);\n    });\n\n    setTimeout(function () {\n      fields.forEach(function (fieldID) {\n        var field = dom.fields.get(fieldID);\n        if (field.instance.panels) {\n          field.instance.panels.nav.refresh();\n        }\n      });\n    }, 250);\n\n    dom.updateColumnPreset(row);\n  };\n\n  DOM.prototype.formGroup = function formGroup(content) {\n    var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    return {\n      tag: 'div',\n      className: ['f-field-group', className],\n      content: content\n    };\n  };\n\n  DOM.prototype.columnPresetControl = function columnPresetControl(rowID) {\n    var _this2 = this;\n\n    var _this = this;\n    var rowData = _data2.formData.rows.get(rowID);\n    var layoutPreset = {\n      tag: 'select',\n      attrs: {\n        ariaLabel: 'Define a column layout',\n        className: 'column-preset'\n      },\n      action: {\n        change: function change(e) {\n          var dRow = _this2.rows.get(rowID);\n          _this.setColumnWidths(dRow.row, e.target.value);\n          _data2.data.save();\n        }\n      }\n    };\n    var pMap = new Map();\n    var custom = { value: 'custom', label: 'Custom' };\n\n    pMap.set(1, [{ value: '100.0', label: '100%' }]);\n    pMap.set(2, [{ value: '50.0,50.0', label: '50 | 50' }, { value: '33.3,66.6', label: '33 | 66' }, { value: '66.6,33.3', label: '66 | 33' }, custom]);\n    pMap.set(3, [{ value: '33.3,33.3,33.3', label: '33 | 33 | 33' }, { value: '25.0,25.0,50.0', label: '25 | 25 | 50' }, { value: '50.0,25.0,25.0', label: '50 | 25 | 25' }, { value: '25.0,50.0,25.0', label: '25 | 50 | 25' }, custom]);\n    pMap.set(4, [{ value: '25.0,25.0,25.0,25.0', label: '25 | 25 | 25 | 25' }, custom]);\n    pMap.set('custom', [custom]);\n\n    if (rowData && rowData.columns.length) {\n      var columns = rowData.columns;\n      var pMapVal = pMap.get(columns.length);\n      layoutPreset.options = pMapVal || pMap.get('custom');\n      var curVal = columns.map(function (columnID, i) {\n        var colData = _data2.formData.columns.get(columnID);\n        return colData.config.width.replace('%', '');\n      }).join(',');\n      if (pMapVal) {\n        pMapVal.forEach(function (val, i) {\n          var options = layoutPreset.options;\n          if (val.value === curVal) {\n            options[i].selected = true;\n          } else {\n            delete options[i].selected;\n            options[options.length - 1].selected = true;\n          }\n        });\n      }\n    } else {\n      layoutPreset.options = pMap.get(1);\n    }\n\n    return layoutPreset;\n  };\n\n  DOM.prototype.setColumnWidths = function setColumnWidths(row, widths) {\n    if (widths === 'custom') {\n      return;\n    }\n    widths = widths.split(',');\n    var columns = row.getElementsByClassName('stage-columns');\n    _helpers2.default.forEach(columns, function (column, i) {\n      var percentWidth = widths[i] + '%';\n      column.dataset.colWidth = percentWidth;\n      column.style.width = percentWidth;\n      _data2.formData.columns.get(column.id).config.width = percentWidth;\n    });\n  };\n\n  DOM.prototype.updateColumnPreset = function updateColumnPreset(row) {\n    var _this = this;\n    var oldColumnPreset = row.querySelector('.column-preset');\n    var rowEdit = oldColumnPreset.parentElement;\n    var columnPresetConfig = _this.columnPresetControl(row.id);\n    var newColumnPreset = _this.create(columnPresetConfig);\n\n    rowEdit.replaceChild(newColumnPreset, oldColumnPreset);\n    return columnPresetConfig;\n  };\n\n  DOM.prototype.coords = function coords(element) {\n    var elemPosition = element.getBoundingClientRect();\n    var bodyRect = document.body.getBoundingClientRect();\n\n    return {\n      pageX: elemPosition.left + elemPosition.width / 2,\n      pageY: elemPosition.top - bodyRect.top - elemPosition.height / 2\n    };\n  };\n\n  DOM.prototype.loadRows = function loadRows(stage) {\n    var _this3 = this;\n\n    if (!stage) {\n      stage = this.activeStage;\n    }\n\n    var rows = _data2.formData.stages.get(stage.id).rows;\n    return rows.forEach(function (rowID) {\n      var row = _this3.addRow(stage.id, rowID);\n      _this3.loadColumns(row);\n      dom.updateColumnPreset(row);\n      stage.appendChild(row);\n    });\n  };\n\n  DOM.prototype.loadColumns = function loadColumns(row) {\n    var _this4 = this;\n\n    var columns = _data2.formData.rows.get(row.id).columns;\n    columns.forEach(function (columnID) {\n      var column = _this4.addColumn(row.id, columnID);\n      _this4.loadFields(column);\n    });\n  };\n\n  DOM.prototype.loadFields = function loadFields(column) {\n    var _this5 = this;\n\n    var fields = _data2.formData.columns.get(column.id).fields;\n    fields.forEach(function (fieldID) {\n      return _this5.addField(column.id, fieldID);\n    });\n    this.fieldOrderClass(column);\n  };\n\n  DOM.prototype.createColumn = function createColumn(evt) {\n    var fType = evt.from.fType;\n    var field = fType === 'columns' ? evt.item : new _field2.default(evt.item.id);\n    var column = new _column2.default();\n\n    field.classList.add('first-field');\n    column.appendChild(field);\n    _data2.formData.columns.get(column.id).fields.push(field.id);\n    return column;\n  };\n\n  DOM.prototype.processColumnConfig = function processColumnConfig(columnData) {\n    if (columnData.className) {\n      columnData.className.push('f-render-column');\n    }\n    var colWidth = columnData.config.width || '100%';\n    columnData.style = 'width: ' + colWidth;\n    columnData.attrs = { 'style': 'width:' + colWidth };\n    console.log(columnData);\n    return columnData;\n  };\n\n  DOM.prototype.renderForm = function renderForm(renderTarget) {\n    var _this6 = this;\n\n    this.empty(renderTarget);\n    var renderData = _data2.data.prepData;\n    var renderCount = document.getElementsByClassName('formeo-render').length;\n    var content = Object.keys(renderData.stages).map(function (stageData) {\n      var _renderData$stages$st = renderData.stages[stageData],\n          rows = _renderData$stages$st.rows,\n          stage = _objectWithoutProperties(_renderData$stages$st, ['rows']);\n\n      rows = rows.map(function (rowID) {\n        var _renderData$rows$rowI = renderData.rows[rowID],\n            columns = _renderData$rows$rowI.columns,\n            row = _objectWithoutProperties(_renderData$rows$rowI, ['columns']);\n\n        var cols = columns.map(function (columnID) {\n          var col = _this6.processColumnConfig(renderData.columns[columnID]);\n          var fields = col.fields.map(function (fieldID) {\n            return renderData.fields[fieldID];\n          });\n          col.tag = 'div';\n          if (fields && fields[0] && fields[0].meta && fields[0].meta.id === 'html-summernote') {\n            var htmlDom = document.createElement('div');\n            htmlDom.innerHTML = fields[0].attrs.html;\n            fields[0].content = htmlDom;\n\n            console.log(fields[0].content);\n          }\n          col.content = fields;\n          return col;\n        });\n        row.tag = 'div';\n        row.content = [cols];\n        var rowData = (0, _utils.clone)(row);\n        if (row.config.inputGroup) {\n          var removeButton = {\n            tag: 'button',\n            className: 'remove-input-group',\n            content: dom.icon('remove'),\n            action: {\n              mouseover: function mouseover(e) {\n                e.target.parentElement.classList.add('will-remove');\n              },\n              mouseleave: function mouseleave(e) {\n                e.target.parentElement.classList.remove('will-remove');\n              },\n              click: function click(e) {\n                var currentInputGroup = e.target.parentElement;\n                var iGWrap = currentInputGroup.parentElement;\n                var iG = iGWrap.getElementsByClassName('f-input-group');\n                if (iG.length > 1) {\n                  dom.remove(currentInputGroup);\n                } else {\n                  console.log('Need at least 1 group');\n                }\n              }\n            }\n          };\n          rowData.content.unshift(removeButton);\n          var inputGroupWrap = {\n            tag: 'div',\n            id: (0, _utils.uuid)(),\n            className: 'f-input-group-wrap'\n          };\n          if (rowData.attrs.className) {\n            if (typeof rowData.attrs.className === 'string') {\n              rowData.attrs.className += ' f-input-group';\n            } else {\n              rowData.attrs.className.push('f-input-group');\n            }\n          }\n          var addButton = {\n            tag: 'button',\n            attrs: {\n              className: 'add-input-group btn pull-right',\n              type: 'button'\n            },\n            content: 'Add +',\n            action: {\n              click: function click(e) {\n                var fInputGroup = e.target.parentElement;\n                var newRow = dom.create(rowData);\n                fInputGroup.insertBefore(newRow, fInputGroup.lastChild);\n              }\n            }\n          };\n\n          row.content.unshift(removeButton);\n          inputGroupWrap.content = [rowData, addButton];\n          row = inputGroupWrap;\n        }\n        return row;\n      });\n      stage.tag = 'div';\n      stage.content = rows;\n      stage.className = 'f-stage';\n      return stage;\n    });\n\n    var config = {\n      tag: 'div',\n      id: 'formeo-rendered-' + renderCount,\n      className: 'formeo-render formeo',\n      content: content\n    };\n\n    renderTarget.appendChild(this.create(config));\n  };\n\n  DOM.prototype.clearForm = function clearForm(evt) {\n    var _this7 = this;\n\n    this.stages.forEach(function (dStage) {\n      return _this7.clearStage(dStage.stage);\n    });\n  };\n\n  DOM.prototype.clearStage = function clearStage(stage) {\n    stage.classList.add('removing-all-fields');\n\n    var resetStage = function resetStage() {\n      dom.empty(stage);\n      stage.classList.remove('removing-all-fields');\n      _data2.data.save();\n      dom.emptyClass(stage);\n      _animation2.default.slideDown(stage, 300);\n    };\n\n    _animation2.default.slideUp(stage, 600, resetStage);\n  };\n\n  DOM.prototype.addRow = function addRow(stageID, rowID) {\n    var row = new _row2.default(rowID);\n    var stage = stageID ? this.stages.get(stageID).stage : this.activeStage;\n    stage.appendChild(row);\n    _data2.data.saveRowOrder(stage);\n    this.emptyClass(stage);\n    _events2.default.formeoUpdated = new CustomEvent('formeoUpdated', {\n      data: {\n        updateType: 'added',\n        changed: 'row',\n        oldValue: undefined,\n        newValue: _data2.formData.rows.get(row.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return row;\n  };\n\n  DOM.prototype.addColumn = function addColumn(rowID, columnID) {\n    var column = new _column2.default(columnID);\n    var row = this.rows.get(rowID).row;\n    row.appendChild(column);\n    _data2.data.saveColumnOrder(row);\n    this.emptyClass(row);\n    _events2.default.formeoUpdated = new CustomEvent('formeoUpdated', {\n      data: {\n        updateType: 'added',\n        changed: 'column',\n        oldValue: undefined,\n        newValue: _data2.formData.columns.get(column.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return column;\n  };\n\n  DOM.prototype.toggleSortable = function toggleSortable(elem, state) {\n    var fType = elem.fType;\n\n    if (!fType) {\n      return;\n    }\n    var pFtype = elem.parentElement.fType;\n    var sortable = dom[fType].get(elem.id).sortable;\n    if (state === undefined) {\n      state = !sortable.option('disabled');\n    }\n    sortable.option('disabled', state);\n    if (pFtype && _helpers2.default.inArray(pFtype, ['rows', 'columns', 'stages'])) {\n      this.toggleSortable(elem.parentElement, state);\n    }\n  };\n\n  DOM.prototype.addField = function addField(columnID, fieldID) {\n    var field = new _field2.default(fieldID);\n    if (columnID) {\n      var column = this.columns.get(columnID).column;\n      column.appendChild(field);\n      _data2.data.saveFieldOrder(column);\n      this.emptyClass(column);\n    }\n    _events2.default.formeoUpdated = new CustomEvent('formeoUpdated', {\n      data: {\n        updateType: 'add',\n        changed: 'field',\n        oldValue: undefined,\n        newValue: _data2.formData.fields.get(field.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n\n    var fieldData = _data2.formData.fields.get(fieldID) || (0, _utils.clone)(_data2.registeredFields[fieldID]);\n\n    if (fieldData.meta.id === 'html-summernote') addSummernote(field, fieldID, _data2.formData, _helpers2.default, _data2.data);\n\n    return field;\n  };\n\n  DOM.prototype.emptyClass = function emptyClass(elem) {\n    var type = elem.fType;\n    if (type) {\n      var childMap = new Map();\n      childMap.set('rows', 'columns');\n      childMap.set('columns', 'fields');\n      childMap.set('stages', 'rows');\n      var children = elem.getElementsByClassName('stage-' + childMap.get(type));\n      elem.classList.toggle('empty-' + type, !children.length);\n    }\n  };\n\n  DOM.prototype.h = function h(tag, attrs, content) {\n    return this.create({ tag: tag, attrs: attrs, content: content });\n  };\n\n  DOM.prototype.insertRule = function insertRule(rules) {\n    var styleSheet = this.styleSheet;\n    var rulesLength = styleSheet.cssRules.length;\n    for (var i = 0, rl = rules.length; i < rl; i++) {\n      var j = 1;\n      var rule = rules[i];\n      var selector = rules[i][0];\n      var propStr = '';\n\n      if (Object.prototype.toString.call(rule[1][0]) === '[object Array]') {\n        rule = rule[1];\n        j = 0;\n      }\n\n      for (var pl = rule.length; j < pl; j++) {\n        var prop = rule[j];\n        var important = prop[2] ? ' !important' : '';\n        propStr += prop[0] + ':' + prop[1] + important + ';';\n      }\n\n      return styleSheet.insertRule(selector + ' { ' + propStr + ' }', rulesLength);\n    }\n  };\n\n  _createClass(DOM, [{\n    key: 'setConfig',\n    set: function set(userConfig) {\n      var _this = this;\n      var icon = _this.icon;\n      var btnTemplate = {\n        tag: 'button',\n        content: [],\n        attrs: {\n          className: ['btn'],\n          type: 'button'\n        }\n      };\n\n      var handle = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: [icon('move'), icon('handle')],\n        attrs: {\n          className: ['item-handle']\n        },\n        meta: {\n          id: 'handle'\n        }\n      });\n\n      var edit = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon('edit'),\n        attrs: {\n          className: ['item-edit-toggle']\n        },\n        meta: {\n          id: 'edit'\n        },\n        action: {\n          click: function click(evt) {\n            var element = (0, _utils.closestFtype)(evt.target);\n            var fType = element.fType;\n\n            fType = fType.replace(/s$/, '');\n            var editClass = 'editing-' + fType;\n            var editWindow = element.querySelector('.' + fType + '-edit');\n\n            _animation2.default.slideToggle(editWindow, 333);\n\n            if (fType === 'field') {\n              _animation2.default.slideToggle(editWindow.nextSibling, 333);\n              element.parentElement.classList.toggle('column-' + editClass);\n            }\n            element.classList.toggle(editClass);\n          }\n        }\n      });\n\n      var remove = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon('remove'),\n        attrs: {\n          className: ['item-remove']\n        },\n        meta: {\n          id: 'remove'\n        },\n        action: {\n          click: function click(evt, id) {\n            var element = (0, _utils.closestFtype)(evt.target);\n            _animation2.default.slideUp(element, 250, function (elem) {\n              _this.removeEmpty(elem);\n            });\n          }\n        }\n      });\n\n      var cloneItem = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon('copy'),\n        attrs: {\n          className: ['item-clone']\n        },\n        meta: {\n          id: 'clone'\n        },\n        action: {\n          click: function click(evt) {\n            _this.clone((0, _utils.closestFtype)(evt.target));\n            _data2.data.save();\n          }\n        }\n      });\n\n      var defaultConfig = {\n        rows: {\n          actionButtons: {\n            buttons: [(0, _utils.clone)(handle), edit, cloneItem, remove],\n            order: [],\n            disabled: []\n          }\n        },\n        columns: {\n          actionButtons: {\n            buttons: [(0, _utils.clone)(cloneItem), (0, _utils.clone)(handle), remove],\n            order: [],\n            disabled: []\n          }\n        },\n        fields: {\n          actionButtons: {\n            buttons: [handle, edit, cloneItem, remove],\n            order: [],\n            disabled: []\n          }\n        }\n      };\n\n      defaultConfig.rows.actionButtons.buttons[0].content = [icon('move-vertical'), icon('handle')];\n      defaultConfig.columns.actionButtons.buttons[0].content = [icon('copy'), icon('handle')];\n\n      var mergedConfig = _helpers2.default.merge(defaultConfig, userConfig);\n\n      Object.keys(mergedConfig).forEach(function (key) {\n        if (mergedConfig[key].actionButtons) {\n          var aButtons = mergedConfig[key].actionButtons;\n          var disabled = aButtons.disabled;\n          var buttons = aButtons.buttons;\n\n          aButtons.buttons = _helpers2.default.orderObjectsBy(buttons, aButtons.order, 'meta.id');\n\n          aButtons.buttons = aButtons.buttons.filter(function (button) {\n            var metaId = _helpers2.default.get(button, 'meta.id');\n            return !_helpers2.default.inArray(metaId, disabled);\n          });\n        }\n      });\n\n      if (mergedConfig.dir) {\n        this.dir = mergedConfig.dir;\n      }\n\n      this.config = mergedConfig;\n\n      return this.config;\n    }\n  }]);\n\n  return DOM;\n}();\n\nvar dom = new DOM();\n\nexports.default = dom;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2RvbS5qcz9hOTZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoIGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMnO1xyXG5pbXBvcnQgUm93IGZyb20gJy4uL2NvbXBvbmVudHMvcm93JztcclxuaW1wb3J0IENvbHVtbiBmcm9tICcuLi9jb21wb25lbnRzL2NvbHVtbic7XHJcbmltcG9ydCBGaWVsZCBmcm9tICcuLi9jb21wb25lbnRzL2ZpZWxkJztcclxuaW1wb3J0IGFuaW1hdGUgZnJvbSAnLi9hbmltYXRpb24nO1xyXG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4vZGF0YSc7XHJcbmltcG9ydCB7dXVpZCwgY2xvbmUsIG51bVRvUGVyY2VudCwgcmVtb3ZlLCBjbG9zZXN0RnR5cGV9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYWwgcHVycG9zZSBtYXJrdXAgdXRpbGl0aWVzIGFuZCBnZW5lcmF0b3IuXHJcbiAqL1xyXG4gY2xhc3MgRE9NIHtcclxuICAvKipcclxuICAgKiBTZXQgZGVmYXVsdHMsIHN0b3JlIHJlZmVyZW5jZXMgdG8ga2V5IGVsZW1lbnRzXHJcbiAgICogbGlrZSBzdGFnZXMsIHJvd3MsIGNvbHVtbnMgZXRjXHJcbiAgICovXHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gTWFpbnRhaW4gcmVmZXJlbmNlcyB0byBET00gbm9kZXNcclxuICAgIC8vIHNvIHdlIGRvbid0IGhhdmUgdG8ga2VlcCBkb2luZyBnZXRFbGVtZW50QnlJZFxyXG4gICAgdGhpcy5zdGFnZXMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLnJvd3MgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLmNvbHVtbnMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLmZpZWxkcyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMuc3R5bGVTaGVldCA9ICgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsICdzY3JlZW4nKTtcclxuICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XHJcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gICAgICByZXR1cm4gc3R5bGUuc2hlZXQ7XHJcbiAgICB9KSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWVyZ2VzIGEgdXNlcidzIGNvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSB1c2VyQ29uZmlnXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBjb25maWdcclxuICAgKi9cclxuICAgc2V0IHNldENvbmZpZyh1c2VyQ29uZmlnKSB7XHJcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcbiAgICBjb25zdCBpY29uID0gX3RoaXMuaWNvbjtcclxuICAgIGxldCBidG5UZW1wbGF0ZSA9IHtcclxuICAgICAgdGFnOiAnYnV0dG9uJyxcclxuICAgICAgY29udGVudDogW10sXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBbJ2J0biddLFxyXG4gICAgICAgIHR5cGU6ICdidXR0b24nXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbGV0IGhhbmRsZSA9IGgubWVyZ2UoT2JqZWN0LmFzc2lnbih7fSwgYnRuVGVtcGxhdGUpLCB7XHJcbiAgICAgIGNvbnRlbnQ6IFtpY29uKCdtb3ZlJyksIGljb24oJ2hhbmRsZScpXSxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICBjbGFzc05hbWU6IFsnaXRlbS1oYW5kbGUnXSxcclxuICAgICAgfSxcclxuICAgICAgbWV0YToge1xyXG4gICAgICAgIGlkOiAnaGFuZGxlJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgZWRpdCA9IGgubWVyZ2UoT2JqZWN0LmFzc2lnbih7fSwgYnRuVGVtcGxhdGUpLCB7XHJcbiAgICAgIGNvbnRlbnQ6IGljb24oJ2VkaXQnKSxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICBjbGFzc05hbWU6IFsnaXRlbS1lZGl0LXRvZ2dsZSddLFxyXG4gICAgICB9LFxyXG4gICAgICBtZXRhOiB7XHJcbiAgICAgICAgaWQ6ICdlZGl0J1xyXG4gICAgICB9LFxyXG4gICAgICBhY3Rpb246IHtcclxuICAgICAgICBjbGljazogZXZ0ID0+IHtcclxuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjbG9zZXN0RnR5cGUoZXZ0LnRhcmdldCk7XHJcbiAgICAgICAgICBsZXQge2ZUeXBlfSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICBmVHlwZSA9IGZUeXBlLnJlcGxhY2UoL3MkLywgJycpO1xyXG4gICAgICAgICAgbGV0IGVkaXRDbGFzcyA9ICdlZGl0aW5nLScgKyBmVHlwZTtcclxuICAgICAgICAgIGxldCBlZGl0V2luZG93ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtmVHlwZX0tZWRpdGApO1xyXG5cclxuICAgICAgICAgIGFuaW1hdGUuc2xpZGVUb2dnbGUoZWRpdFdpbmRvdywgMzMzKTtcclxuXHJcbiAgICAgICAgICBpZiAoZlR5cGUgPT09ICdmaWVsZCcpIHtcclxuICAgICAgICAgICAgYW5pbWF0ZS5zbGlkZVRvZ2dsZShlZGl0V2luZG93Lm5leHRTaWJsaW5nLCAzMzMpO1xyXG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnY29sdW1uLScgKyBlZGl0Q2xhc3MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKGVkaXRDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgcmVtb3ZlID0gaC5tZXJnZShPYmplY3QuYXNzaWduKHt9LCBidG5UZW1wbGF0ZSksIHtcclxuICAgICAgY29udGVudDogaWNvbigncmVtb3ZlJyksXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBbJ2l0ZW0tcmVtb3ZlJ10sXHJcbiAgICAgIH0sXHJcbiAgICAgIG1ldGE6IHtcclxuICAgICAgICBpZDogJ3JlbW92ZSdcclxuICAgICAgfSxcclxuICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgY2xpY2s6IChldnQsIGlkKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2xvc2VzdEZ0eXBlKGV2dC50YXJnZXQpO1xyXG4gICAgICAgICAgYW5pbWF0ZS5zbGlkZVVwKGVsZW1lbnQsIDI1MCwgZWxlbSA9PiB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZUVtcHR5KGVsZW0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgY2xvbmVJdGVtID0gaC5tZXJnZShPYmplY3QuYXNzaWduKHt9LCBidG5UZW1wbGF0ZSksIHtcclxuICAgICAgY29udGVudDogaWNvbignY29weScpLFxyXG4gICAgICBhdHRyczoge1xyXG4gICAgICAgIGNsYXNzTmFtZTogWydpdGVtLWNsb25lJ10sXHJcbiAgICAgIH0sXHJcbiAgICAgIG1ldGE6IHtcclxuICAgICAgICBpZDogJ2Nsb25lJ1xyXG4gICAgICB9LFxyXG4gICAgICBhY3Rpb246IHtcclxuICAgICAgICBjbGljazogZXZ0ID0+IHtcclxuICAgICAgICAgIF90aGlzLmNsb25lKGNsb3Nlc3RGdHlwZShldnQudGFyZ2V0KSk7XHJcbiAgICAgICAgICBkYXRhLnNhdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICByb3dzOiB7XHJcbiAgICAgICAgYWN0aW9uQnV0dG9uczoge1xyXG4gICAgICAgICAgYnV0dG9uczogW1xyXG4gICAgICAgICAgY2xvbmUoaGFuZGxlKSxcclxuICAgICAgICAgIGVkaXQsXHJcbiAgICAgICAgICBjbG9uZUl0ZW0sXHJcbiAgICAgICAgICByZW1vdmVcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBvcmRlcjogW10sXHJcbiAgICAgICAgICBkaXNhYmxlZDogW11cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbHVtbnM6IHtcclxuICAgICAgICBhY3Rpb25CdXR0b25zOiB7XHJcbiAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICBjbG9uZShjbG9uZUl0ZW0pLFxyXG4gICAgICAgICAgY2xvbmUoaGFuZGxlKSxcclxuICAgICAgICAgIHJlbW92ZVxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIG9yZGVyOiBbXSxcclxuICAgICAgICAgIGRpc2FibGVkOiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZmllbGRzOiB7XHJcbiAgICAgICAgYWN0aW9uQnV0dG9uczoge1xyXG4gICAgICAgICAgYnV0dG9uczogW1xyXG4gICAgICAgICAgaGFuZGxlLFxyXG4gICAgICAgICAgZWRpdCxcclxuICAgICAgICAgIGNsb25lSXRlbSxcclxuICAgICAgICAgIHJlbW92ZVxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIG9yZGVyOiBbXSxcclxuICAgICAgICAgIGRpc2FibGVkOiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZhdWx0Q29uZmlnLnJvd3MuYWN0aW9uQnV0dG9ucy5idXR0b25zWzBdLmNvbnRlbnQgPSBbXHJcbiAgICBpY29uKCdtb3ZlLXZlcnRpY2FsJyksXHJcbiAgICBpY29uKCdoYW5kbGUnKVxyXG4gICAgXTtcclxuICAgIGRlZmF1bHRDb25maWcuY29sdW1ucy5hY3Rpb25CdXR0b25zLmJ1dHRvbnNbMF0uY29udGVudCA9IFtcclxuICAgIGljb24oJ2NvcHknKSxcclxuICAgIGljb24oJ2hhbmRsZScpLFxyXG4gICAgXTtcclxuXHJcbiAgICBsZXQgbWVyZ2VkQ29uZmlnID0gaC5tZXJnZShkZWZhdWx0Q29uZmlnLCB1c2VyQ29uZmlnKTtcclxuXHJcbiAgICBPYmplY3Qua2V5cyhtZXJnZWRDb25maWcpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgaWYgKG1lcmdlZENvbmZpZ1trZXldLmFjdGlvbkJ1dHRvbnMpIHtcclxuICAgICAgICBjb25zdCBhQnV0dG9ucyA9IG1lcmdlZENvbmZpZ1trZXldLmFjdGlvbkJ1dHRvbnM7XHJcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBhQnV0dG9ucy5kaXNhYmxlZDtcclxuICAgICAgICBsZXQgYnV0dG9ucyA9IGFCdXR0b25zLmJ1dHRvbnM7XHJcblxyXG4gICAgICAgIC8vIE9yZGVyIGJ1dHRvbnNcclxuICAgICAgICBhQnV0dG9ucy5idXR0b25zID0gaC5vcmRlck9iamVjdHNCeShidXR0b25zLCBhQnV0dG9ucy5vcmRlciwgJ21ldGEuaWQnKTtcclxuICAgICAgICAvLyBmaWx0ZXIgZGlzYWJsZWQgYnV0dG9uc1xyXG4gICAgICAgIGFCdXR0b25zLmJ1dHRvbnMgPSBhQnV0dG9ucy5idXR0b25zLmZpbHRlcihidXR0b24gPT4ge1xyXG4gICAgICAgICAgbGV0IG1ldGFJZCA9IGguZ2V0KGJ1dHRvbiwgJ21ldGEuaWQnKTtcclxuICAgICAgICAgIHJldHVybiAhaC5pbkFycmF5KG1ldGFJZCwgZGlzYWJsZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBvdmVycmlkZXMgbGFuZ3VhZ2Ugc2V0IGRpclxyXG4gICAgaWYgKG1lcmdlZENvbmZpZy5kaXIpIHtcclxuICAgICAgdGhpcy5kaXIgPSBtZXJnZWRDb25maWcuZGlyO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29uZmlnID0gbWVyZ2VkQ29uZmlnO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmNvbmZpZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuc3VyZSBlbGVtZW50cyBoYXZlIHByb3BlciB0YWdOYW1lXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gZWxlbVxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gdmFsaWQgZWxlbWVudCBvYmplY3RcclxuICAgKi9cclxuICAgcHJvY2Vzc1RhZ05hbWUoZWxlbSkge1xyXG4gICAgbGV0IHRhZ05hbWU7XHJcbiAgICBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRhZ05hbWUgPSBlbGVtO1xyXG4gICAgICBlbGVtID0ge3RhZzogdGFnTmFtZX07XHJcbiAgICB9XHJcbiAgICBpZiAoZWxlbS5hdHRycykge1xyXG4gICAgICBsZXQgdGFnID0gZWxlbS5hdHRycy50YWc7XHJcbiAgICAgIGlmICh0YWcpIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRUYWcgPSB0YWcuZmlsdGVyKHQgPT4gKHQuc2VsZWN0ZWQgPT09IHRydWUpKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRUYWcubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0YWdOYW1lID0gc2VsZWN0ZWRUYWdbMF0udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbS50YWcgPSB0YWdOYW1lIHx8IGVsZW0udGFnO1xyXG5cclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBET00gZWxlbWVudHNcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBlbGVtICAgICAgZWxlbWVudCBjb25maWcgb2JqZWN0XHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNQcmV2aWV3IGdlbmVyYXRpbmcgZWxlbWVudCBmb3IgcHJldmlldyBvciByZW5kZXI/XHJcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgIERPTSBPYmplY3RcclxuICAgKi9cclxuICAgY3JlYXRlKGVsZW0sIGlzUHJldmlldyA9IGZhbHNlKSB7XHJcbiAgICBlbGVtID0gdGhpcy5wcm9jZXNzVGFnTmFtZShlbGVtKTtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgY29udGVudFR5cGU7XHJcbiAgICBsZXQge3RhZ30gPSBlbGVtO1xyXG4gICAgbGV0IHByb2Nlc3NlZCA9IFtdO1xyXG4gICAgbGV0IGk7XHJcbiAgICBsZXQgd3JhcCA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgYXR0cnM6IHt9LFxyXG4gICAgICBjbGFzc05hbWU6IFtoLmdldChlbGVtLCAnY29uZmlnLmlucHV0V3JhcCcpIHx8ICdmLWZpZWxkLWdyb3VwJ10sXHJcbiAgICAgIGNvbnRlbnQ6IFtdLFxyXG4gICAgICBjb25maWc6IHt9XHJcbiAgICB9O1xyXG4gICAgbGV0IHJlcXVpcmVkTWFyayA9IHtcclxuICAgICAgdGFnOiAnc3BhbicsXHJcbiAgICAgIGNsYXNzTmFtZTogJ3RleHQtZXJyb3InLFxyXG4gICAgICBjb250ZW50OiAnKidcclxuICAgIH07XHJcbiAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIGxldCByZXF1aXJlZCA9IGguZ2V0KGVsZW0sICdhdHRycy5yZXF1aXJlZCcpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2JqZWN0IGZvciBtYXBwaW5nIGNvbnRlbnRUeXBlIHRvIGl0cyBmdW5jdGlvblxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgIGxldCBhcHBlbmRDb250ZW50ID0ge1xyXG4gICAgICBzdHJpbmc6IGNvbnRlbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MICs9IGNvbnRlbnQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9iamVjdDogY29udGVudCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMuY3JlYXRlKGNvbnRlbnQpKTtcclxuICAgICAgfSxcclxuICAgICAgbm9kZTogY29udGVudCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFycmF5OiBjb250ZW50ID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnRlbnRUeXBlID0gX3RoaXMuY29udGVudFR5cGUoY29udGVudFtpXSk7XHJcbiAgICAgICAgICBhcHBlbmRDb250ZW50W2NvbnRlbnRUeXBlXShjb250ZW50W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uOiBjb250ZW50ID0+IHtcclxuICAgICAgICBjb250ZW50ID0gY29udGVudCgpO1xyXG4gICAgICAgIGNvbnRlbnRUeXBlID0gX3RoaXMuY29udGVudFR5cGUoY29udGVudCk7XHJcbiAgICAgICAgYXBwZW5kQ29udGVudFtjb250ZW50VHlwZV0oY29udGVudCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVuZGVmaW5lZDogKCkgPT4gbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICBwcm9jZXNzZWQucHVzaCgndGFnJyk7XHJcblxyXG5cclxuICAgIC8vIGNoZWNrIGZvciByb290IGNsYXNzTmFtZSBwcm9wZXJ0eVxyXG4gICAgaWYgKGVsZW0uY2xhc3NOYW1lKSB7XHJcbiAgICAgIGxldCB7Y2xhc3NOYW1lfSA9IGVsZW07XHJcbiAgICAgIGVsZW0uYXR0cnMgPSBPYmplY3QuYXNzaWduKHt9LCBlbGVtLmF0dHJzLCB7Y2xhc3NOYW1lfSk7XHJcbiAgICAgIGRlbGV0ZSBlbGVtLmNsYXNzTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcHBlbmQgRWxlbWVudCBDb250ZW50XHJcbiAgICBpZiAoZWxlbS5vcHRpb25zKSB7XHJcbiAgICAgIGxldCB7b3B0aW9uc30gPSBlbGVtO1xyXG4gICAgICBvcHRpb25zID0gdGhpcy5wcm9jZXNzT3B0aW9ucyhvcHRpb25zLCBlbGVtLCBpc1ByZXZpZXcpO1xyXG4gICAgICBpZiAodGhpcy5ob2xkc0NvbnRlbnQoZWxlbWVudCkgJiYgdGFnICE9PSAnYnV0dG9uJykge1xyXG4gICAgICAgIC8vIG1haW5seSB1c2VkIGZvciA8c2VsZWN0PiB0YWdcclxuICAgICAgICBhcHBlbmRDb250ZW50LmFycmF5LmNhbGwodGhpcywgb3B0aW9ucyk7XHJcbiAgICAgICAgZGVsZXRlIGVsZW0uY29udGVudDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBoLmZvckVhY2gob3B0aW9ucywgb3B0aW9uID0+IHtcclxuICAgICAgICAgIHdyYXAuY29udGVudC5wdXNoKF90aGlzLmNyZWF0ZShvcHRpb24sIGlzUHJldmlldykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZWxlbS5hdHRycy5jbGFzc05hbWUpIHtcclxuICAgICAgICAgIHdyYXAuY2xhc3NOYW1lID0gZWxlbS5hdHRycy5jbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3cmFwLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGVsZW0uY29uZmlnKTtcclxuICAgICAgICB3cmFwLmNsYXNzTmFtZS5wdXNoID0gaC5nZXQoZWxlbSwgJ2F0dHJzLmNsYXNzTmFtZScpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlcXVpcmVkKSB7XHJcbiAgICAgICAgICB3cmFwLmF0dHJzLnJlcXVpcmVkID0gcmVxdWlyZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUod3JhcCwgaXNQcmV2aWV3KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcHJvY2Vzc2VkLnB1c2goJ29wdGlvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgZWxlbWVudCBhdHRyaWJ1dGVzXHJcbiAgICBpZiAoZWxlbS5hdHRycykge1xyXG4gICAgICBfdGhpcy5wcm9jZXNzQXR0cnMoZWxlbSwgZWxlbWVudCwgaXNQcmV2aWV3KTtcclxuICAgICAgcHJvY2Vzc2VkLnB1c2goJ2F0dHJzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVsZW0uY29uZmlnKSB7XHJcbiAgICAgIGxldCBlZGl0YWJsZVByZXZpZXcgPSAoZWxlbS5jb25maWcuZWRpdGFibGUgJiYgaXNQcmV2aWV3KTtcclxuICAgICAgaWYgKGVsZW0uY29uZmlnLmxhYmVsICYmIHRhZyAhPT0gJ2J1dHRvbicpIHtcclxuICAgICAgICBsZXQgbGFiZWw7XHJcblxyXG4gICAgICAgIGlmIChpc1ByZXZpZXcpIHtcclxuICAgICAgICAgIGxhYmVsID0gX3RoaXMubGFiZWwoZWxlbSwgJ2NvbmZpZy5sYWJlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsYWJlbCA9IF90aGlzLmxhYmVsKGVsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFlbGVtLmNvbmZpZy5oaWRlTGFiZWwpIHtcclxuICAgICAgICAgIGlmIChfdGhpcy5sYWJlbEFmdGVyKGVsZW0pKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCBjaGVjayBmb3IgaW5saW5lIGNoZWNrYm94XHJcbiAgICAgICAgICAgIHdyYXAuY2xhc3NOYW1lID0gYGYtJHtlbGVtLmF0dHJzLnR5cGV9YDtcclxuXHJcbiAgICAgICAgICAgIGxhYmVsLmluc2VydEJlZm9yZShlbGVtZW50LCBsYWJlbC5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgd3JhcC5jb250ZW50LnB1c2gobGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAocmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICB3cmFwLmNvbnRlbnQucHVzaChyZXF1aXJlZE1hcmspO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3cmFwLmNvbnRlbnQucHVzaChsYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChyZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgIHdyYXAuY29udGVudC5wdXNoKHJlcXVpcmVkTWFyayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd3JhcC5jb250ZW50LnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0YWJsZVByZXZpZXcpIHtcclxuICAgICAgICAgIGVsZW1lbnQuY29udGVudEVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGVQcmV2aWV3KSB7XHJcbiAgICAgICAgZWxlbWVudC5jb250ZW50RWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwcm9jZXNzZWQucHVzaCgnY29uZmlnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBwZW5kIEVsZW1lbnQgQ29udGVudFxyXG4gICAgaWYgKGVsZW0uY29udGVudCkge1xyXG4gICAgICBjb250ZW50VHlwZSA9IF90aGlzLmNvbnRlbnRUeXBlKGVsZW0uY29udGVudCk7XHJcbiAgICAgIGFwcGVuZENvbnRlbnRbY29udGVudFR5cGVdLmNhbGwodGhpcywgZWxlbS5jb250ZW50KTtcclxuICAgICAgcHJvY2Vzc2VkLnB1c2goJ2NvbnRlbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIG5ldyBlbGVtZW50J3MgZGF0YXNldFxyXG4gICAgaWYgKGVsZW0uZGF0YXNldCkge1xyXG4gICAgICBmb3IgKGNvbnN0IGRhdGEgaW4gZWxlbS5kYXRhc2V0KSB7XHJcbiAgICAgICAgaWYgKGVsZW0uZGF0YXNldC5oYXNPd25Qcm9wZXJ0eShkYXRhKSkge1xyXG4gICAgICAgICAgZWxlbWVudC5kYXRhc2V0W2RhdGFdID0gZWxlbS5kYXRhc2V0W2RhdGFdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBwcm9jZXNzZWQucHVzaCgnZGF0YXNldCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgZm9yIGRlZmluZWQgYWN0aW9uc1xyXG4gICAgaWYgKGVsZW0uYWN0aW9uKSB7XHJcbiAgICAgIGxldCBhY3Rpb25zID0gT2JqZWN0LmtleXMoZWxlbS5hY3Rpb24pO1xyXG4gICAgICBmb3IgKGkgPSBhY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50ID0gYWN0aW9uc1tpXTtcclxuICAgICAgICBsZXQgYWN0aW9uID0gZWxlbS5hY3Rpb25bZXZlbnRdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgYWN0aW9uID0gZXZhbChgKCR7ZWxlbS5hY3Rpb25bZXZlbnRdfSlgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHVzZUNhcHR1cmVFdnRzID0gW1xyXG4gICAgICAgICdmb2N1cycsXHJcbiAgICAgICAgJ2JsdXInXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gZGlydHkgaGFjayB0byBoYW5kbGUgb25SZW5kZXIgY2FsbGJhY2tcclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdvblJlbmRlcicpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBhY3Rpb24oZWxlbWVudCk7XHJcbiAgICAgICAgICB9LCAxMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxldCB1c2VDYXB0dXJlID0gaC5pbkFycmF5KGV2ZW50LCB1c2VDYXB0dXJlRXZ0cyk7XHJcbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGFjdGlvbiwgdXNlQ2FwdHVyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdhY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmllbGREYXRhQmluZGluZ3MgPSBbXHJcbiAgICAnc3RhZ2UnLFxyXG4gICAgJ3JvdycsXHJcbiAgICAnY29sdW1uJyxcclxuICAgICdmaWVsZCdcclxuICAgIF07XHJcblxyXG4gICAgaWYgKGguaW5BcnJheShlbGVtLmZUeXBlLCBmaWVsZERhdGFCaW5kaW5ncykpIHtcclxuICAgICAgbGV0IGRhdGFUeXBlID0gZWxlbS5mVHlwZSArICdEYXRhJztcclxuICAgICAgZWxlbWVudFtkYXRhVHlwZV0gPSBlbGVtO1xyXG4gICAgICBpZiAoZGF0YVR5cGUgPT09ICdmaWVsZERhdGEnKSB7XHJcbiAgICAgICAgZWxlbWVudC5wYW5lbE5hdiA9IGVsZW0ucGFuZWxOYXY7XHJcbiAgICAgIH1cclxuICAgICAgcHJvY2Vzc2VkLnB1c2goZGF0YVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN1YnRyYWN0IHByb2Nlc3NlZCBhbmQgaWdub3JlZCBhbmQgYXR0YWNoIHRoZSByZXN0XHJcbiAgICBsZXQgcmVtYWluaW5nID0gaC5zdWJ0cmFjdChwcm9jZXNzZWQsIE9iamVjdC5rZXlzKGVsZW0pKTtcclxuICAgIGZvciAoaSA9IHJlbWFpbmluZy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBlbGVtZW50W3JlbWFpbmluZ1tpXV0gPSBlbGVtW3JlbWFpbmluZ1tpXV07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHdyYXAuY29udGVudC5sZW5ndGgpIHtcclxuICAgICAgZWxlbWVudCA9IHRoaXMuY3JlYXRlKHdyYXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGFuZCBTVkcgb3IgZm9udCBpY29uLlxyXG4gICAqIFNpbXBsZSBzdHJpbmcgY29uY2F0ZW5hdGlvbiBpbnN0ZWFkIG9mIERPTS5jcmVhdGUgYmVjYXVzZTpcclxuICAgKiAgLSB3ZSBkb24ndCBuZWVkIHRoZSBwZXJrcyBvZiBoYXZpbmcgaWNvbnMgYmUgRE9NIG9iamVjdHMgYXQgdGhpcyBzdGFnZVxyXG4gICAqICAtIGl0IGZvcmNlcyB0aGUgaWNvbiB0byBiZSBhcHBlbmRlZCB1c2luZyBpbm5lckhUTUwgd2hpY2ggaGVscHMgc3ZnIHJlbmRlclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAtIGljb24gbmFtZVxyXG4gICAqIEByZXR1cm4ge1N0cmluZ30gaWNvbiBtYXJrdXBcclxuICAgKi9cclxuICAgaWNvbihuYW1lKSB7XHJcbiAgICBsZXQgaWNvbkxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWNvbi0nICsgbmFtZSk7XHJcbiAgICBsZXQgaWNvbjtcclxuXHJcbiAgICBpZiAoaWNvbkxpbmspIHtcclxuICAgICAgaWNvbiA9IGA8c3ZnIGNsYXNzPVwic3ZnLWljb24gaWNvbi0ke25hbWV9XCI+PHVzZSB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bGluazpocmVmPVwiI2ljb24tJHtuYW1lfVwiPjwvdXNlPjwvc3ZnPmA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICBpY29uID0gYDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi0ke25hbWV9XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaWNvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEpTIE9iamVjdCB0byBET00gYXR0cmlidXRlc1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbSAgICBlbGVtZW50IGNvbmZpZyBvYmplY3RcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2UgYXJlIGJ1aWxkaW5nXHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNQcmV2aWV3XHJcbiAgICogQHJldHVybiB7dm9pZH1cclxuICAgKi9cclxuICAgcHJvY2Vzc0F0dHJzKGVsZW0sIGVsZW1lbnQsIGlzUHJldmlldykge1xyXG4gICAgbGV0IHthdHRycyA9IHt9fSA9IGVsZW07XHJcbiAgICBkZWxldGUgYXR0cnMudGFnO1xyXG5cclxuICAgIGlmICghaXNQcmV2aWV3KSB7XHJcbiAgICAgIGlmICghYXR0cnMubmFtZSAmJiB0aGlzLmlzSW5wdXQoZWxlbS50YWcpKSB7XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB1dWlkKGVsZW0pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCBlbGVtZW50IGF0dHJpYnV0ZXNcclxuICAgIE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGF0dHIgPT4ge1xyXG4gICAgICBsZXQgbmFtZSA9IGguc2FmZUF0dHJOYW1lKGF0dHIpO1xyXG4gICAgICBsZXQgdmFsdWUgPSBhdHRyc1thdHRyXSB8fCAnJztcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSB2YWx1ZS5maWx0ZXIodCA9PiAodC5zZWxlY3RlZCA9PT0gdHJ1ZSkpO1xyXG4gICAgICAgICAgdmFsdWUgPSBzZWxlY3RlZC5sZW5ndGggPyBzZWxlY3RlZFswXS52YWx1ZSA6IHZhbHVlWzBdLnZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhIGZhbmN5IGNoZWNrYm94IG9yIHJhZGlvXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxlbVxyXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUHJldmlld1xyXG4gICAqIEByZXR1cm4ge09iamVjdH0gY2hlY2thYmxlXHJcbiAgICovXHJcbiAgIGNoZWNrYm94KGVsZW0sIGlzUHJldmlldykge1xyXG4gICAgbGV0IGxhYmVsID0gaC5nZXQoZWxlbSwgJ2VsZW0uY29uZmlnLmxhYmVsJykgfHwgJyc7XHJcbiAgICBsZXQgY2hlY2thYmxlID0ge1xyXG4gICAgICB0YWc6ICdzcGFuJyxcclxuICAgICAgY2xhc3NOYW1lOiAnY2hlY2thYmxlJyxcclxuICAgICAgY29udGVudDogbGFiZWxcclxuICAgIH07XHJcbiAgICBsZXQgb3B0aW9uTGFiZWwgPSB7XHJcbiAgICAgIHRhZzogJ2xhYmVsJyxcclxuICAgICAgYXR0cnM6IHt9LFxyXG4gICAgICBjb250ZW50OiBbZWxlbSwgY2hlY2thYmxlXVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBpZiAoaXNQcmV2aWV3KSB7XHJcbiAgICAvLyAgIGlucHV0LmZNYXAgPSBgb3B0aW9uc1ske2l9XS5zZWxlY3RlZGA7XHJcbiAgICAvLyAgIG9wdGlvbkxhYmVsLmF0dHJzLmNvbnRlbnRlZGl0YWJsZSA9IHRydWU7XHJcbiAgICAvLyAgIG9wdGlvbkxhYmVsLmZNYXAgPSBgb3B0aW9uc1ske2l9XS5sYWJlbGA7XHJcbiAgICAvLyAgIGNoZWNrYWJsZS5jb250ZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgLy8gICBsZXQgY2hlY2thYmxlTGFiZWwgPSB7XHJcbiAgICAvLyAgICAgdGFnOiAnbGFiZWwnLFxyXG4gICAgLy8gICAgIGNvbnRlbnQ6IFtpbnB1dCwgY2hlY2thYmxlXVxyXG4gICAgLy8gICB9O1xyXG4gICAgLy8gICBpbnB1dFdyYXAuY29udGVudC51bnNoaWZ0KGNoZWNrYWJsZUxhYmVsKTtcclxuICAgIC8vICAgLy8gaW5wdXRXcmFwLmNvbnRlbnQudW5zaGlmdChpbnB1dCk7XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICBpbnB1dC5hdHRycy5uYW1lID0gZWxlbS5pZDtcclxuICAgIC8vICAgb3B0aW9uTGFiZWwuY29udGVudCA9IGNoZWNrYWJsZTtcclxuICAgIC8vICAgb3B0aW9uTGFiZWwgPSBkb20uY3JlYXRlKG9wdGlvbkxhYmVsKTtcclxuICAgIC8vICAgaW5wdXQgPSBkb20uY3JlYXRlKGlucHV0KTtcclxuICAgIC8vICAgb3B0aW9uTGFiZWwuaW5zZXJ0QmVmb3JlKGlucHV0LCBvcHRpb25MYWJlbC5maXJzdENoaWxkKTtcclxuICAgIC8vICAgaW5wdXRXcmFwLmNvbnRlbnQgPSBvcHRpb25MYWJlbDtcclxuICAgIC8vIH1cclxuXHJcbiAgICByZXR1cm4gb3B0aW9uTGFiZWw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeHRlbmQgQXJyYXkgb2Ygb3B0aW9uIGNvbmZpZyBvYmplY3RzXHJcbiAgICogQHBhcmFtICB7QXJyYXl9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gZWxlbWVudCBjb25maWcgb2JqZWN0XHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNQcmV2aWV3XHJcbiAgICogQHJldHVybiB7QXJyYXl9IG9wdGlvbiBjb25maWcgb2JqZWN0c1xyXG4gICAqL1xyXG4gICBwcm9jZXNzT3B0aW9ucyhvcHRpb25zLCBlbGVtLCBpc1ByZXZpZXcpIHtcclxuICAgIGxldCB7YWN0aW9uLCBhdHRyc30gPSBlbGVtO1xyXG4gICAgbGV0IGZpZWxkVHlwZSA9IGF0dHJzLnR5cGUgfHwgZWxlbS50YWc7XHJcbiAgICBsZXQgaWQgPSBhdHRycy5pZCB8fCBlbGVtLmlkO1xyXG5cclxuICAgIGxldCBvcHRpb25NYXAgPSAob3B0aW9uLCBpKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlZmF1bHRJbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgaW5wdXQgPSB7XHJcbiAgICAgICAgICB0YWc6ICdpbnB1dCcsXHJcbiAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IGZpZWxkVHlwZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSB8fCAnJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGFjdGlvblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGNoZWNrYWJsZSA9IHtcclxuICAgICAgICAgIHRhZzogJ3NwYW4nLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiAnY2hlY2thYmxlJyxcclxuICAgICAgICAgIGNvbnRlbnQ6IG9wdGlvbi5sYWJlbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IG9wdGlvbkxhYmVsID0ge1xyXG4gICAgICAgICAgdGFnOiAnbGFiZWwnLFxyXG4gICAgICAgICAgYXR0cnM6IHt9LFxyXG4gICAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgIGlucHV0V3JhcDogJ2Zvcm0tY2hlY2snXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY29udGVudDogW29wdGlvbi5sYWJlbF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBpbnB1dFdyYXAgPSB7XHJcbiAgICAgICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICAgICAgY29udGVudDogW29wdGlvbkxhYmVsXSxcclxuICAgICAgICAgIGNsYXNzTmFtZTogW2BmLSR7ZmllbGRUeXBlfWBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGVsZW0uYXR0cnMuY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICBlbGVtLmNvbmZpZy5pbnB1dFdyYXAgPSBlbGVtLmF0dHJzLmNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlbGVtLmNvbmZpZy5pbmxpbmUpIHtcclxuICAgICAgICAgIGlucHV0V3JhcC5jbGFzc05hbWUucHVzaCgnZi0ke2ZpZWxkVHlwZX0taW5saW5lJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICBpbnB1dC5hdHRycy5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1ByZXZpZXcpIHtcclxuICAgICAgICAgIGlucHV0LmZNYXAgPSBgb3B0aW9uc1ske2l9XS5zZWxlY3RlZGA7XHJcbiAgICAgICAgICBvcHRpb25MYWJlbC5hdHRycy5jb250ZW50ZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgb3B0aW9uTGFiZWwuZk1hcCA9IGBvcHRpb25zWyR7aX1dLmxhYmVsYDtcclxuICAgICAgICAgIGNoZWNrYWJsZS5jb250ZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgbGV0IGNoZWNrYWJsZUxhYmVsID0ge1xyXG4gICAgICAgICAgICB0YWc6ICdsYWJlbCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IFtpbnB1dCwgY2hlY2thYmxlXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGlucHV0V3JhcC5jb250ZW50LnVuc2hpZnQoY2hlY2thYmxlTGFiZWwpO1xyXG4gICAgICAgICAgLy8gaW5wdXRXcmFwLmNvbnRlbnQudW5zaGlmdChpbnB1dCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlucHV0LmF0dHJzLm5hbWUgPSBpZDtcclxuICAgICAgICAgIG9wdGlvbkxhYmVsLmNvbnRlbnQgPSBjaGVja2FibGU7XHJcbiAgICAgICAgICBvcHRpb25MYWJlbCA9IGRvbS5jcmVhdGUob3B0aW9uTGFiZWwpO1xyXG4gICAgICAgICAgaW5wdXQgPSBkb20uY3JlYXRlKGlucHV0KTtcclxuICAgICAgICAgIG9wdGlvbkxhYmVsLmluc2VydEJlZm9yZShpbnB1dCwgb3B0aW9uTGFiZWwuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICBpbnB1dFdyYXAuY29udGVudCA9IG9wdGlvbkxhYmVsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0V3JhcDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBvcHRpb25NYXJrdXAgPSB7XHJcbiAgICAgICAgc2VsZWN0OiAoKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YWc6ICdvcHRpb24nLFxyXG4gICAgICAgICAgICBhdHRyczogb3B0aW9uLFxyXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb24ubGFiZWxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBidXR0b246IG9wdGlvbiA9PiB7XHJcbiAgICAgICAgICBsZXQge3R5cGUsIGxhYmVsLCBjbGFzc05hbWUsIGlkfSA9IG9wdGlvbjtcclxuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlbGVtLCB7XHJcbiAgICAgICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICAgICAgdHlwZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjbGFzc05hbWUsXHJcbiAgICAgICAgICAgIGlkOiBpZCB8fCB1dWlkKCksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgY29udGVudDogbGFiZWwsXHJcbiAgICAgICAgICAgIGFjdGlvbjogZWxlbS5hY3Rpb25cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tib3g6IGRlZmF1bHRJbnB1dCxcclxuICAgICAgICByYWRpbzogZGVmYXVsdElucHV0XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gb3B0aW9uTWFya3VwW2ZpZWxkVHlwZV0ob3B0aW9uKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbWFwcGVkT3B0aW9ucyA9IG9wdGlvbnMubWFwKG9wdGlvbk1hcCk7XHJcblxyXG4gICAgcmV0dXJuIG1hcHBlZE9wdGlvbnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3MgaWYgdGhlcmUgaXMgYSBjbG9zaW5nIHRhZywgaWYgc28gaXQgY2FuIGhvbGQgY29udGVudFxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudCBET00gZWxlbWVudFxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGhvbGRzQ29udGVudFxyXG4gICAqL1xyXG4gICBob2xkc0NvbnRlbnQoZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIChlbGVtZW50Lm91dGVySFRNTC5pbmRleE9mKCcvJykgIT09IC0xKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElzIHRoaXMgYSB0ZXh0YXJlYSwgc2VsZWN0IG9yIG90aGVyIGJsb2NrIGlucHV0XHJcbiAgICogYWxzbyBpc0NvbnRlbnRFZGl0YWJsZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gIGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gICBpc0Jsb2NrSW5wdXQoZWxlbWVudCkge1xyXG4gICAgcmV0dXJuICghdGhpcy5pc0lucHV0KGVsZW1lbnQpICYmIHRoaXMuaG9sZHNDb250ZW50KGVsZW1lbnQpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZSBpZiBhbiBlbGVtZW50IGlzIGFuIGlucHV0IGZpZWxkXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gdGFnIHRhZ05hbWUgb3IgRE9NIGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBpc0lucHV0XHJcbiAgICovXHJcbiAgIGlzSW5wdXQodGFnKSB7XHJcbiAgICBpZiAodHlwZW9mIHRhZyAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGFnID0gdGFnLnRhZ05hbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFsnaW5wdXQnLCAndGV4dGFyZWEnLCAnc2VsZWN0J10uaW5kZXhPZih0YWcpICE9PSAtMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyBlc2NhcGVkIEhUTUwgaW50byB1c2FibGUgSFRNTFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaHRtbCBlc2NhcGVkIEhUTUxcclxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgcGFyc2VkIEhUTUxcclxuICAgKi9cclxuICAgcGFyc2VkSHRtbChodG1sKSB7XHJcbiAgICBsZXQgZXNjYXBlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICBlc2NhcGVFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICByZXR1cm4gZXNjYXBlRWxlbWVudC50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRlc3QgaWYgbGFiZWwgc2hvdWxkIGJlIGRpc3BsYXkgYmVmb3JlIG9yIGFmdGVyIGFuIGVsZW1lbnRcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gY29uZmlnXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gbGFiZWxBZnRlclxyXG4gICAqL1xyXG4gICBsYWJlbEFmdGVyKGVsZW0pIHtcclxuICAgIGxldCB0eXBlID0gaC5nZXQoZWxlbSwgJ2F0dHJzLnR5cGUnKTtcclxuICAgIGxldCBpc0NCID0gKHR5cGUgPT09ICdjaGVja2JveCcgfHwgdHlwZSA9PT0gJ3JhZGlvJyk7XHJcbiAgICByZXR1cm4gaXNDQiB8fCBoLmdldChlbGVtLCAnY29uZmlnLmxhYmVsQWZ0ZXInKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGEgbGFiZWxcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gY29uZmlnIG9iamVjdFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZk1hcCBtYXAgdG8gbGFiZWwncyB2YWx1ZSBpbiBmb3JtRGF0YVxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICBjb25maWcgb2JqZWN0XHJcbiAgICovXHJcbiAgIGxhYmVsKGVsZW0sIGZNYXApIHtcclxuICAgIGxldCBmaWVsZExhYmVsID0ge1xyXG4gICAgICB0YWc6ICdsYWJlbCcsXHJcbiAgICAgIGF0dHJzOiB7fSxcclxuICAgICAgY2xhc3NOYW1lOiBbXSxcclxuICAgICAgY29udGVudDogZWxlbS5jb25maWcubGFiZWwsXHJcbiAgICAgIGFjdGlvbjoge31cclxuICAgIH07XHJcblxyXG4gICAgaWYgKHRoaXMubGFiZWxBZnRlcihlbGVtKSkge1xyXG4gICAgICBsZXQgY2hlY2thYmxlID0ge1xyXG4gICAgICAgIHRhZzogJ3NwYW4nLFxyXG4gICAgICAgIGNsYXNzTmFtZTogJ2NoZWNrYWJsZScsXHJcbiAgICAgICAgY29udGVudDogZWxlbS5jb25maWcubGFiZWxcclxuICAgICAgfTtcclxuICAgICAgZmllbGRMYWJlbC5jb250ZW50ID0gY2hlY2thYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbGVtLmlkKSB7XHJcbiAgICAgIGZpZWxkTGFiZWwuYXR0cnMuZm9yID0gZWxlbS5pZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZk1hcCkge1xyXG4gICAgICAvLyBmb3IgYXR0cmlidXRlIHdpbGwgcHJldmVudCBsYWJlbCBmb2N1c1xyXG4gICAgICBkZWxldGUgZmllbGRMYWJlbC5hdHRycy5mb3I7XHJcbiAgICAgIGZpZWxkTGFiZWwuYXR0cnMuY29udGVudGVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgZmllbGRMYWJlbC5mTWFwID0gZk1hcDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZG9tLmNyZWF0ZShmaWVsZExhYmVsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZSBjb250ZW50IHR5cGVcclxuICAgKiBAcGFyYW0gIHtOb2RlIHwgU3RyaW5nIHwgQXJyYXkgfCBPYmplY3R9IGNvbnRlbnRcclxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgIGNvbnRlbnRUeXBlKGNvbnRlbnQpIHtcclxuICAgIGxldCB0eXBlID0gdHlwZW9mIGNvbnRlbnQ7XHJcbiAgICBpZiAoY29udGVudCBpbnN0YW5jZW9mIE5vZGUgfHwgY29udGVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgIHR5cGUgPSAnbm9kZSc7XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcclxuICAgICAgdHlwZSA9ICdhcnJheSc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHR5cGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGNvbXB1dGVkIHN0eWxlIGZvciBET00gZWxlbWVudFxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gIGVsZW0gICAgIGRvbSBlbGVtZW50XHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gcHJvcGVydHkgc3R5bGUgZWcuIHdpZHRoLCBoZWlnaHQsIG9wYWNpdHlcclxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgICBjb21wdXRlZCBzdHlsZVxyXG4gICAqL1xyXG4gICBnZXRTdHlsZShlbGVtLCBwcm9wZXJ0eSA9IGZhbHNlKSB7XHJcbiAgICBsZXQgc3R5bGU7XHJcbiAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcclxuICAgICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBudWxsKTtcclxuICAgIH0gZWxzZSBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHtcclxuICAgICAgc3R5bGUgPSBlbGVtLmN1cnJlbnRTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcHJvcGVydHkgPyBzdHlsZVtwcm9wZXJ0eV0gOiBzdHlsZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlcyBhbiBlbGVtZW50IGJ5IGNvbmZpZyBvYmplY3QsIHN0cmluZyBpZCxcclxuICAgKiBvciBleGlzdGluZyByZWZlcmVuY2VcclxuICAgKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfE5vZGV9IGVsZW1cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgIERPTSBlbGVtZW50XHJcbiAgICovXHJcbiAgIGdldEVsZW1lbnQoZWxlbSkge1xyXG4gICAgbGV0IGdldEVsZW1lbnQgPSB7XHJcbiAgICAgIG5vZGU6ICgpID0+IGVsZW0sXHJcbiAgICAgIG9iamVjdDogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbS5pZCksXHJcbiAgICAgIHN0cmluZzogKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbSlcclxuICAgIH07XHJcbiAgICBsZXQgdHlwZSA9IHRoaXMuY29udGVudFR5cGUoZWxlbSk7XHJcbiAgICBsZXQgZWxlbWVudCA9IGdldEVsZW1lbnRbdHlwZV0oKTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFV0aWwgdG8gcmVtb3ZlIGNvbnRlbnRzIG9mIERPTSBPYmplY3RcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGVsZW1lbnQgd2l0aCBpdHMgY2hpbGRyZW4gcmVtb3ZlZFxyXG4gICAqL1xyXG4gICBlbXB0eShlbGVtKSB7XHJcbiAgICB3aGlsZSAoZWxlbS5maXJzdENoaWxkKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlKGVsZW0uZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWxlbTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmUsIGNsb3NlLCBhbmQgZWRpdCBidXR0b25zIGZvciByb3csIGNvbHVtbiBhbmQgZmllbGRcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgZWxlbWVudCBpZFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaXRlbSB0eXBlIG9mIGVsZW1lbnQgZWcuIHJvdywgY29sdW1uLCBmaWVsZFxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICBlbGVtZW50IGNvbmZpZyBvYmplY3RcclxuICAgKi9cclxuICAgYWN0aW9uQnV0dG9ucyhpZCwgaXRlbSA9ICdjb2x1bW4nKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IHRhZyA9IChpdGVtID09PSAnY29sdW1uJyA/ICdsaScgOiAnZGl2Jyk7XHJcbiAgICBsZXQgYnRuV3JhcCA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiAnYWN0aW9uLWJ0bi13cmFwJ1xyXG4gICAgfTtcclxuICAgIGxldCBhY3Rpb25zID0ge1xyXG4gICAgICB0YWcsXHJcbiAgICAgIGNsYXNzTmFtZTogaXRlbSArICctYWN0aW9ucyBncm91cC1hY3Rpb25zJyxcclxuICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgbW91c2VlbnRlcjogZXZ0ID0+IHtcclxuICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdob3ZlcmluZy0nICsgaXRlbSk7XHJcbiAgICAgICAgICBldnQudGFyZ2V0LnBhcmVudFJlZmVyZW5jZSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VzZWxlYXZlOiBldnQgPT4ge1xyXG4gICAgICAgICAgZXZ0LnRhcmdldC5wYXJlbnRSZWZlcmVuY2UuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctJyArIGl0ZW0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25SZW5kZXI6IGVsZW0gPT4ge1xyXG4gICAgICAgICAgY29uc3QgYnV0dG9ucyA9IGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgbGV0IGJ0bldpZHRoID0gcGFyc2VJbnQoX3RoaXMuZ2V0U3R5bGUoYnV0dG9uc1swXSwgJ3dpZHRoJykpICsgMTtcclxuICAgICAgICAgIGNvbnN0IGV4cGFuZGVkV2lkdGggPSAoYnV0dG9ucy5sZW5ndGggKiBidG5XaWR0aCkgKyAncHgnO1xyXG4gICAgICAgICAgY29uc3Qgd29oID0gaXRlbSA9PT0gJ3JvdycgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XHJcbiAgICAgICAgICBsZXQgcnVsZXMgPSBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICBgLmhvdmVyaW5nLSR7aXRlbX0gLiR7aXRlbX0tYWN0aW9uc2AsXHJcbiAgICAgICAgICBbd29oLCBleHBhbmRlZFdpZHRoLCB0cnVlXVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICBfdGhpcy5pbnNlcnRSdWxlKHJ1bGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgYnRuV3JhcC5jb250ZW50ID0gdGhpcy5jb25maWdbYCR7aXRlbX1zYF0uYWN0aW9uQnV0dG9ucy5idXR0b25zO1xyXG4gICAgYWN0aW9ucy5jb250ZW50ID0gYnRuV3JhcDtcclxuXHJcbiAgICByZXR1cm4gYWN0aW9ucztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb25lcyBhbiBlbGVtZW50LCBpdCdzIGRhdGEgYW5kXHJcbiAgICogaXQncyBuZXN0ZWQgZWxlbWVudHMgYW5kIGRhdGFcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbSBlbGVtZW50IHdlIGFyZSBjbG9uaW5nXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gY2xvbmVkIGVsZW1lbnRcclxuICAgKi9cclxuICAgY2xvbmUoZWxlbSwgcGFyZW50KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IHtpZCwgZlR5cGV9ID0gZWxlbTtcclxuICAgIGxldCBkYXRhQ2xvbmUgPSBjbG9uZShmb3JtRGF0YVtmVHlwZV0uZ2V0KGlkKSk7XHJcbiAgICBjb25zdCBuZXdJbmRleCA9IGguaW5kZXhPZk5vZGUoZWxlbSkgKyAxO1xyXG4gICAgbGV0IG5vUGFyZW50ID0gZmFsc2U7XHJcbiAgICBkYXRhQ2xvbmUuaWQgPSB1dWlkKCk7XHJcbiAgICBmb3JtRGF0YVtmVHlwZV0uc2V0KGRhdGFDbG9uZS5pZCwgZGF0YUNsb25lKTtcclxuICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgIHBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudDtcclxuICAgICAgbm9QYXJlbnQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY2xvbmVUeXBlID0ge1xyXG4gICAgICByb3dzOiAoKSA9PiB7XHJcbiAgICAgICAgZGF0YUNsb25lLmNvbHVtbnMgPSBbXTtcclxuICAgICAgICBjb25zdCBzdGFnZSA9IF90aGlzLmFjdGl2ZVN0YWdlO1xyXG4gICAgICAgIGNvbnN0IG5ld1JvdyA9IF90aGlzLmFkZFJvdyhudWxsLCBkYXRhQ2xvbmUuaWQpO1xyXG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSBlbGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLWNvbHVtbnMnKTtcclxuXHJcbiAgICAgICAgc3RhZ2UuaW5zZXJ0QmVmb3JlKG5ld1Jvdywgc3RhZ2UuY2hpbGROb2Rlc1tuZXdJbmRleF0pO1xyXG4gICAgICAgIGguZm9yRWFjaChjb2x1bW5zLCBjb2x1bW4gPT4gX3RoaXMuY2xvbmUoY29sdW1uLCBuZXdSb3cpKTtcclxuICAgICAgICBkYXRhLnNhdmVSb3dPcmRlcigpO1xyXG4gICAgICAgIHJldHVybiBuZXdSb3c7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbHVtbnM6ICgpID0+IHtcclxuICAgICAgICBkYXRhQ2xvbmUuZmllbGRzID0gW107XHJcbiAgICAgICAgY29uc3QgbmV3Q29sdW1uID0gX3RoaXMuYWRkQ29sdW1uKHBhcmVudC5pZCwgZGF0YUNsb25lLmlkKTtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld0NvbHVtbiwgcGFyZW50LmNoaWxkTm9kZXNbbmV3SW5kZXhdKTtcclxuICAgICAgICBsZXQgZmllbGRzID0gZWxlbS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1maWVsZHMnKTtcclxuXHJcbiAgICAgICAgaWYgKG5vUGFyZW50KSB7XHJcbiAgICAgICAgICBkb20uY29sdW1uV2lkdGhzKHBhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGguZm9yRWFjaChmaWVsZHMsIGZpZWxkID0+IF90aGlzLmNsb25lKGZpZWxkLCBuZXdDb2x1bW4pKTtcclxuICAgICAgICByZXR1cm4gbmV3Q29sdW1uO1xyXG4gICAgICB9LFxyXG4gICAgICBmaWVsZHM6ICgpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdGaWVsZCA9IF90aGlzLmFkZEZpZWxkKHBhcmVudC5pZCwgZGF0YUNsb25lLmlkKTtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld0ZpZWxkLCBwYXJlbnQuY2hpbGROb2Rlc1tuZXdJbmRleF0pO1xyXG4gICAgICAgIHJldHVybiBuZXdGaWVsZDtcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGNsb25lVHlwZVtmVHlwZV0oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBlbGVtZW50cyB3aXRob3V0IGYgY2hpbGRyZW5cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgRE9NIGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1EYXRhXHJcbiAgICovXHJcbiAgIHJlbW92ZUVtcHR5KGVsZW1lbnQpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgbGV0IHR5cGUgPSBlbGVtZW50LmZUeXBlO1xyXG4gICAgbGV0IGNoaWxkcmVuO1xyXG4gICAgX3RoaXMucmVtb3ZlKGVsZW1lbnQpO1xyXG4gICAgY2hpbGRyZW4gPSBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtJyArIHR5cGUpO1xyXG4gICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgaWYgKHBhcmVudC5mVHlwZSAhPT0gJ3N0YWdlcycpIHtcclxuICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlRW1wdHkocGFyZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVtcHR5Q2xhc3MocGFyZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGUgPT09ICdjb2x1bW5zJykge1xyXG4gICAgICBfdGhpcy5jb2x1bW5XaWR0aHMocGFyZW50KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhLnNhdmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgZWxlbWVudCBmcm9tIERPTSBhbmQgZGF0YVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbVxyXG4gICAqIEByZXR1cm4gIHtPYmplY3R9IHBhcmVudCBlbGVtZW50XHJcbiAgICovXHJcbiAgIHJlbW92ZShlbGVtKSB7XHJcbiAgICBsZXQge2ZUeXBlLCBpZH0gPSBlbGVtO1xyXG4gICAgaWYgKGZUeXBlKSB7XHJcbiAgICAgIGxldCBwYXJlbnQgPSBlbGVtLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIGxldCBwRGF0YSA9IGZvcm1EYXRhW3BhcmVudC5mVHlwZV0uZ2V0KHBhcmVudC5pZCk7XHJcbiAgICAgIGRhdGEuZW1wdHkoZlR5cGUsIGlkKTtcclxuICAgICAgdGhpc1tmVHlwZV0uZGVsZXRlKGlkKTtcclxuICAgICAgZm9ybURhdGFbZlR5cGVdLmRlbGV0ZShpZCk7XHJcbiAgICAgIHJlbW92ZShwRGF0YVtmVHlwZV0sIGlkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlbGVtLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmVzIGEgY2xhc3Mgb3IgY2xhc3NlcyBmcm9tIG5vZGVMaXN0XHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtOb2RlTGlzdH0gbm9kZUxpc3RcclxuICAgKiBAcGFyYW0gIHtTdHJpbmcgfCBBcnJheX0gY2xhc3NOYW1lXHJcbiAgICovXHJcbiAgIHJlbW92ZUNsYXNzZXMobm9kZUxpc3QsIGNsYXNzTmFtZSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCByZW1vdmVDbGFzcyA9IHtcclxuICAgICAgc3RyaW5nOiBlbGVtID0+IHtcclxuICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoY2xhc3NOYW1lLCAnJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGFycmF5OiBlbGVtID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gY2xhc3NOYW1lLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICByZW1vdmVDbGFzcy5vYmplY3QgPSByZW1vdmVDbGFzcy5zdHJpbmc7IC8vIGhhbmRsZXMgcmVnZXggbWFwXHJcbiAgICBoLmZvckVhY2gobm9kZUxpc3QsIHJlbW92ZUNsYXNzW190aGlzLmNvbnRlbnRUeXBlKGNsYXNzTmFtZSldKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBjbGFzcyBvciBjbGFzc2VzIGZyb20gbm9kZUxpc3RcclxuICAgKlxyXG4gICAqIEBwYXJhbSAge05vZGVMaXN0fSBub2RlTGlzdFxyXG4gICAqIEBwYXJhbSAge1N0cmluZyB8IEFycmF5fSBjbGFzc05hbWVcclxuICAgKi9cclxuICAgYWRkQ2xhc3Nlcyhub2RlTGlzdCwgY2xhc3NOYW1lKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFkZENsYXNzID0ge1xyXG4gICAgICBzdHJpbmc6IGVsZW0gPT4ge1xyXG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBhcnJheTogZWxlbSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGNsYXNzTmFtZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgaC5mb3JFYWNoKG5vZGVMaXN0LCBhZGRDbGFzc1tfdGhpcy5jb250ZW50VHlwZShjbGFzc05hbWUpXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBbZmllbGRPcmRlckNsYXNzIGRlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gY29sdW1uIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICAgZmllbGRPcmRlckNsYXNzKGNvbHVtbikge1xyXG4gICAgbGV0IGZpZWxkcyA9IGNvbHVtbi5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZ2UtZmllbGRzJyk7XHJcblxyXG4gICAgaWYgKGZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5yZW1vdmVDbGFzc2VzKGZpZWxkcywgWydmaXJzdC1maWVsZCcsICdsYXN0LWZpZWxkJ10pO1xyXG4gICAgICBmaWVsZHNbMF0uY2xhc3NMaXN0LmFkZCgnZmlyc3QtZmllbGQnKTtcclxuICAgICAgZmllbGRzW2ZpZWxkcy5sZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKCdsYXN0LWZpZWxkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkIGNvbHVtbnMgYW5kIGdlbmVyYXRlIGJvb3RzdHJhcCBjb2xzXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgcm93ICAgIERPTSBlbGVtZW50XHJcbiAgICovXHJcbiAgIGNvbHVtbldpZHRocyhyb3cpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgZmllbGRzID0gW107XHJcbiAgICBsZXQgY29sdW1ucyA9IHJvdy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1jb2x1bW5zJyk7XHJcbiAgICBpZiAoIWNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoKDEwMCAvIGNvbHVtbnMubGVuZ3RoKS50b0ZpeGVkKDEpKS8xO1xyXG4gICAgbGV0IGJzR3JpZFJlZ0V4ID0gL1xcYmNvbC1cXHcrLVxcZCsvZztcclxuXHJcbiAgICBfdGhpcy5yZW1vdmVDbGFzc2VzKGNvbHVtbnMsIGJzR3JpZFJlZ0V4KTtcclxuXHJcbiAgICBoLmZvckVhY2goY29sdW1ucywgY29sdW1uID0+IHtcclxuICAgICAgbGV0IGNvbHVtbkRhdGEgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpO1xyXG4gICAgICBmaWVsZHMucHVzaCguLi5jb2x1bW5EYXRhLmZpZWxkcyk7XHJcblxyXG4gICAgICBsZXQgY29sV2lkdGggPSBudW1Ub1BlcmNlbnQod2lkdGgpO1xyXG5cclxuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gY29sV2lkdGg7XHJcbiAgICAgIGNvbHVtbi5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcclxuICAgICAgY29sdW1uRGF0YS5jb25maWcud2lkdGggPSBjb2xXaWR0aDtcclxuICAgICAgY29sdW1uLmRhdGFzZXQuY29sV2lkdGggPSBjb2xXaWR0aDtcclxuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuY29sdW1uUmVzaXplZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZmllbGRzLmZvckVhY2goZmllbGRJRCA9PiB7XHJcbiAgICAgICAgbGV0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoZmllbGRJRCk7XHJcbiAgICAgICAgaWYgKGZpZWxkLmluc3RhbmNlLnBhbmVscykge1xyXG4gICAgICAgICAgZmllbGQuaW5zdGFuY2UucGFuZWxzLm5hdi5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0sIDI1MCk7XHJcblxyXG4gICAgZG9tLnVwZGF0ZUNvbHVtblByZXNldChyb3cpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV3JhcCBjb250ZW50IGluIGEgZm9ybUdyb3VwXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fEFycmF5fFN0cmluZ30gY29udGVudFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gY2xhc3NOYW1lXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBmb3JtR3JvdXAgY29uZmlnXHJcbiAgICovXHJcbiAgIGZvcm1Hcm91cChjb250ZW50LCBjbGFzc05hbWUgPSAnJykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiBbJ2YtZmllbGQtZ3JvdXAnLCBjbGFzc05hbWVdLFxyXG4gICAgICBjb250ZW50OiBjb250ZW50XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGVzIHRoZSBlbGVtZW50IGNvbmZpZyBmb3IgY29sdW1uIGxheW91dCBpbiByb3dcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHJvd0lEIFtkZXNjcmlwdGlvbl1cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICAgY29sdW1uUHJlc2V0Q29udHJvbChyb3dJRCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCByb3dEYXRhID0gZm9ybURhdGEucm93cy5nZXQocm93SUQpO1xyXG4gICAgbGV0IGxheW91dFByZXNldCA9IHtcclxuICAgICAgdGFnOiAnc2VsZWN0JyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICBhcmlhTGFiZWw6ICdEZWZpbmUgYSBjb2x1bW4gbGF5b3V0JyxcclxuICAgICAgICBjbGFzc05hbWU6ICdjb2x1bW4tcHJlc2V0J1xyXG4gICAgICB9LFxyXG4gICAgICBhY3Rpb246IHtcclxuICAgICAgICBjaGFuZ2U6IGUgPT4ge1xyXG4gICAgICAgICAgbGV0IGRSb3cgPSB0aGlzLnJvd3MuZ2V0KHJvd0lEKTtcclxuICAgICAgICAgIF90aGlzLnNldENvbHVtbldpZHRocyhkUm93LnJvdywgZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgZGF0YS5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGV0IHBNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICBsZXQgY3VzdG9tID0ge3ZhbHVlOiAnY3VzdG9tJywgbGFiZWw6ICdDdXN0b20nfTtcclxuXHJcbiAgICBwTWFwLnNldCgxLCBbe3ZhbHVlOiAnMTAwLjAnLCBsYWJlbDogJzEwMCUnfV0pO1xyXG4gICAgcE1hcC5zZXQoMiwgW1xyXG4gICAgICB7dmFsdWU6ICc1MC4wLDUwLjAnLCBsYWJlbDogJzUwIHwgNTAnfSxcclxuICAgICAge3ZhbHVlOiAnMzMuMyw2Ni42JywgbGFiZWw6ICczMyB8IDY2J30sXHJcbiAgICAgIHt2YWx1ZTogJzY2LjYsMzMuMycsIGxhYmVsOiAnNjYgfCAzMyd9LFxyXG4gICAgICBjdXN0b21cclxuICAgICAgXSk7XHJcbiAgICBwTWFwLnNldCgzLCBbXHJcbiAgICAgIHt2YWx1ZTogJzMzLjMsMzMuMywzMy4zJywgbGFiZWw6ICczMyB8IDMzIHwgMzMnfSxcclxuICAgICAge3ZhbHVlOiAnMjUuMCwyNS4wLDUwLjAnLCBsYWJlbDogJzI1IHwgMjUgfCA1MCd9LFxyXG4gICAgICB7dmFsdWU6ICc1MC4wLDI1LjAsMjUuMCcsIGxhYmVsOiAnNTAgfCAyNSB8IDI1J30sXHJcbiAgICAgIHt2YWx1ZTogJzI1LjAsNTAuMCwyNS4wJywgbGFiZWw6ICcyNSB8IDUwIHwgMjUnfSxcclxuICAgICAgY3VzdG9tXHJcbiAgICAgIF0pO1xyXG4gICAgcE1hcC5zZXQoNCwgW1xyXG4gICAgICB7dmFsdWU6ICcyNS4wLDI1LjAsMjUuMCwyNS4wJywgbGFiZWw6ICcyNSB8IDI1IHwgMjUgfCAyNSd9LFxyXG4gICAgICBjdXN0b21cclxuICAgICAgXSk7XHJcbiAgICBwTWFwLnNldCgnY3VzdG9tJywgW2N1c3RvbV0pO1xyXG5cclxuICAgIGlmIChyb3dEYXRhICYmIHJvd0RhdGEuY29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgbGV0IGNvbHVtbnMgPSByb3dEYXRhLmNvbHVtbnM7XHJcbiAgICAgIGxldCBwTWFwVmFsID0gcE1hcC5nZXQoY29sdW1ucy5sZW5ndGgpO1xyXG4gICAgICBsYXlvdXRQcmVzZXQub3B0aW9ucyA9IHBNYXBWYWwgfHwgcE1hcC5nZXQoJ2N1c3RvbScpO1xyXG4gICAgICBsZXQgY3VyVmFsID0gY29sdW1ucy5tYXAoKGNvbHVtbklELCBpKSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbERhdGEgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW5JRCk7XHJcbiAgICAgICAgcmV0dXJuIGNvbERhdGEuY29uZmlnLndpZHRoLnJlcGxhY2UoJyUnLCAnJyk7XHJcbiAgICAgIH0pLmpvaW4oJywnKTtcclxuICAgICAgaWYgKHBNYXBWYWwpIHtcclxuICAgICAgICBwTWFwVmFsLmZvckVhY2goKHZhbCwgaSkgPT4ge1xyXG4gICAgICAgICAgbGV0IG9wdGlvbnMgPSBsYXlvdXRQcmVzZXQub3B0aW9ucztcclxuICAgICAgICAgIGlmICh2YWwudmFsdWUgPT09IGN1clZhbCkge1xyXG4gICAgICAgICAgICBvcHRpb25zW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW2ldLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICBvcHRpb25zW29wdGlvbnMubGVuZ3RoLTFdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGF5b3V0UHJlc2V0Lm9wdGlvbnMgPSBwTWFwLmdldCgxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGF5b3V0UHJlc2V0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB3aWR0aHMgb2YgY29sdW1ucyBpbiBhIHJvd1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByb3cgRE9NIGVsZW1lbnRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gd2lkdGhzXHJcbiAgICovXHJcbiAgIHNldENvbHVtbldpZHRocyhyb3csIHdpZHRocykge1xyXG4gICAgaWYgKHdpZHRocyA9PT0gJ2N1c3RvbScpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgd2lkdGhzID0gd2lkdGhzLnNwbGl0KCcsJyk7XHJcbiAgICBsZXQgY29sdW1ucyA9IHJvdy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1jb2x1bW5zJyk7XHJcbiAgICBoLmZvckVhY2goY29sdW1ucywgKGNvbHVtbiwgaSkgPT4ge1xyXG4gICAgICBsZXQgcGVyY2VudFdpZHRoID0gd2lkdGhzW2ldICsgJyUnO1xyXG4gICAgICBjb2x1bW4uZGF0YXNldC5jb2xXaWR0aCA9IHBlcmNlbnRXaWR0aDtcclxuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gcGVyY2VudFdpZHRoO1xyXG4gICAgICBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpLmNvbmZpZy53aWR0aCA9IHBlcmNlbnRXaWR0aDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgY29sdW1uIHByZXNldCA8c2VsZWN0PlxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gcm93XHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBjb2x1bW5QcmVzZXRDb25maWdcclxuICAgKi9cclxuICAgdXBkYXRlQ29sdW1uUHJlc2V0KHJvdykge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBvbGRDb2x1bW5QcmVzZXQgPSByb3cucXVlcnlTZWxlY3RvcignLmNvbHVtbi1wcmVzZXQnKTtcclxuICAgIGxldCByb3dFZGl0ID0gb2xkQ29sdW1uUHJlc2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICBsZXQgY29sdW1uUHJlc2V0Q29uZmlnID0gX3RoaXMuY29sdW1uUHJlc2V0Q29udHJvbChyb3cuaWQpO1xyXG4gICAgbGV0IG5ld0NvbHVtblByZXNldCA9IF90aGlzLmNyZWF0ZShjb2x1bW5QcmVzZXRDb25maWcpO1xyXG5cclxuICAgIHJvd0VkaXQucmVwbGFjZUNoaWxkKG5ld0NvbHVtblByZXNldCwgb2xkQ29sdW1uUHJlc2V0KTtcclxuICAgIHJldHVybiBjb2x1bW5QcmVzZXRDb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSB7eCwgeX0gY29vcmRpbmF0ZXMgZm9yIHRoZVxyXG4gICAqIGNlbnRlciBvZiBhIGdpdmVuIGVsZW1lbnRcclxuICAgKiBAcGFyYW0gIHtET019IGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAge3gseX0gY29vcmRpbmF0ZXNcclxuICAgKi9cclxuICAgY29vcmRzKGVsZW1lbnQpIHtcclxuICAgIGxldCBlbGVtUG9zaXRpb24gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYWdlWDogZWxlbVBvc2l0aW9uLmxlZnQgKyAoZWxlbVBvc2l0aW9uLndpZHRoIC8gMiksXHJcbiAgICAgIHBhZ2VZOiAoZWxlbVBvc2l0aW9uLnRvcCAtIGJvZHlSZWN0LnRvcCkgLSAoZWxlbVBvc2l0aW9uLmhlaWdodCAvIDIpXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9vcCB0aHJvdWdoIHRoZSBmb3JtRGF0YSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBzdGFnZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gc3RhZ2UgRE9NIGVsZW1lbnRcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gIGxvYWRlZCByb3dzXHJcbiAgICovXHJcbiAgIGxvYWRSb3dzKHN0YWdlKSB7XHJcbiAgICBpZiAoIXN0YWdlKSB7XHJcbiAgICAgIHN0YWdlID0gdGhpcy5hY3RpdmVTdGFnZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcm93cyA9IGZvcm1EYXRhLnN0YWdlcy5nZXQoc3RhZ2UuaWQpLnJvd3M7XHJcbiAgICByZXR1cm4gcm93cy5mb3JFYWNoKHJvd0lEID0+IHtcclxuICAgICAgbGV0IHJvdyA9IHRoaXMuYWRkUm93KHN0YWdlLmlkLCByb3dJRCk7XHJcbiAgICAgIHRoaXMubG9hZENvbHVtbnMocm93KTtcclxuICAgICAgZG9tLnVwZGF0ZUNvbHVtblByZXNldChyb3cpO1xyXG4gICAgICBzdGFnZS5hcHBlbmRDaGlsZChyb3cpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIGNvbHVtbnMgdG8gcm93XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSByb3dcclxuICAgKi9cclxuICAgbG9hZENvbHVtbnMocm93KSB7XHJcbiAgICBsZXQgY29sdW1ucyA9IGZvcm1EYXRhLnJvd3MuZ2V0KHJvdy5pZCkuY29sdW1ucztcclxuICAgIGNvbHVtbnMuZm9yRWFjaChjb2x1bW5JRCA9PiB7XHJcbiAgICAgIGxldCBjb2x1bW4gPSB0aGlzLmFkZENvbHVtbihyb3cuaWQsIGNvbHVtbklEKTtcclxuICAgICAgdGhpcy5sb2FkRmllbGRzKGNvbHVtbik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgYSBjb2x1bW5zIGZpZWxkc1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29sdW1uIGNvbHVtbiBjb25maWcgb2JqZWN0XHJcbiAgICovXHJcbiAgIGxvYWRGaWVsZHMoY29sdW1uKSB7XHJcbiAgICBsZXQgZmllbGRzID0gZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKS5maWVsZHM7XHJcbiAgICBmaWVsZHMuZm9yRWFjaChmaWVsZElEID0+IHRoaXMuYWRkRmllbGQoY29sdW1uLmlkLCBmaWVsZElEKSk7XHJcbiAgICB0aGlzLmZpZWxkT3JkZXJDbGFzcyhjb2x1bW4pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIG9yIGFkZCBhIGZpZWxkIGFuZCBjb2x1bW4gdGhlbiByZXR1cm4gaXQuXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnQgRHJhZyBldmVudCBkYXRhXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgY29sdW1uXHJcbiAgICovXHJcbiAgIGNyZWF0ZUNvbHVtbihldnQpIHtcclxuICAgIGxldCBmVHlwZSA9IGV2dC5mcm9tLmZUeXBlO1xyXG4gICAgbGV0IGZpZWxkID0gZlR5cGUgPT09ICdjb2x1bW5zJyA/IGV2dC5pdGVtIDogbmV3IEZpZWxkKGV2dC5pdGVtLmlkKTtcclxuICAgIGxldCBjb2x1bW4gPSBuZXcgQ29sdW1uKCk7XHJcblxyXG4gICAgZmllbGQuY2xhc3NMaXN0LmFkZCgnZmlyc3QtZmllbGQnKTtcclxuICAgIGNvbHVtbi5hcHBlbmRDaGlsZChmaWVsZCk7XHJcbiAgICBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpLmZpZWxkcy5wdXNoKGZpZWxkLmlkKTtcclxuICAgIHJldHVybiBjb2x1bW47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBbcHJvY2Vzc0NvbHVtbkNvbmZpZyBkZXNjcmlwdGlvbl1cclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGNvbHVtbkRhdGEgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgIHByb2Nlc3NDb2x1bW5Db25maWcoY29sdW1uRGF0YSkge1xyXG4gICAgaWYgKGNvbHVtbkRhdGEuY2xhc3NOYW1lKSB7XHJcbiAgICAgIGNvbHVtbkRhdGEuY2xhc3NOYW1lLnB1c2goJ2YtcmVuZGVyLWNvbHVtbicpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNvbFdpZHRoID0gY29sdW1uRGF0YS5jb25maWcud2lkdGggfHwgJzEwMCUnO1xyXG4gICAgY29sdW1uRGF0YS5zdHlsZSA9ICd3aWR0aDogJyArIGNvbFdpZHRoO1xyXG4gICAgY29sdW1uRGF0YS5hdHRycyA9IHsnc3R5bGUnIDogICd3aWR0aDonICsgY29sV2lkdGggfTsgXHJcbiAgICBjb25zb2xlLmxvZyhjb2x1bW5EYXRhKTtcclxuICAgIHJldHVybiBjb2x1bW5EYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVuZGVycyBjdXJyZW50bHkgbG9hZGVkIGZvcm1EYXRhIHRvIHRoZSByZW5kZXJUYXJnZXRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVuZGVyVGFyZ2V0XHJcbiAgICovXHJcbiAgIHJlbmRlckZvcm0ocmVuZGVyVGFyZ2V0KSB7XHJcbiAgICB0aGlzLmVtcHR5KHJlbmRlclRhcmdldCk7XHJcbiAgICBsZXQgcmVuZGVyRGF0YSA9IGRhdGEucHJlcERhdGE7XHJcbiAgICBsZXQgcmVuZGVyQ291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtZW8tcmVuZGVyJykubGVuZ3RoO1xyXG4gICAgbGV0IGNvbnRlbnQgPSBPYmplY3Qua2V5cyhyZW5kZXJEYXRhLnN0YWdlcykubWFwKHN0YWdlRGF0YSA9PiB7XHJcbiAgICAgIGxldCB7cm93cywgLi4uc3RhZ2V9ID0gcmVuZGVyRGF0YS5zdGFnZXNbc3RhZ2VEYXRhXTtcclxuICAgICAgcm93cyA9IHJvd3MubWFwKHJvd0lEID0+IHtcclxuICAgICAgICBsZXQge2NvbHVtbnMsIC4uLnJvd30gPSByZW5kZXJEYXRhLnJvd3Nbcm93SURdO1xyXG4gICAgICAgIGxldCBjb2xzID0gY29sdW1ucy5tYXAoY29sdW1uSUQgPT4ge1xyXG4gICAgICAgICAgbGV0IGNvbCA9IHRoaXMucHJvY2Vzc0NvbHVtbkNvbmZpZyhyZW5kZXJEYXRhLmNvbHVtbnNbY29sdW1uSURdKTtcclxuICAgICAgICAgIGxldCBmaWVsZHMgPSBjb2wuZmllbGRzLm1hcChmaWVsZElEID0+IHJlbmRlckRhdGEuZmllbGRzW2ZpZWxkSURdKTtcclxuICAgICAgICAgIGNvbC50YWcgPSAnZGl2JztcclxuICAgICAgICAgIGlmIChmaWVsZHMgJiYgZmllbGRzWzBdICYmIGZpZWxkc1swXS5tZXRhICYmIGZpZWxkc1swXS5tZXRhLmlkPT09J2h0bWwtc3VtbWVybm90ZScpeyAgXHJcbiAgICAgICAgICAgIGxldCBodG1sRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGh0bWxEb20uaW5uZXJIVE1MID0gZmllbGRzWzBdLmF0dHJzLmh0bWw7XHJcbiAgICAgICAgICAgIGZpZWxkc1swXS5jb250ZW50ID0gaHRtbERvbTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpZWxkc1swXS5jb250ZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbC5jb250ZW50ID0gZmllbGRzO1xyXG4gICAgICAgICAgcmV0dXJuIGNvbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByb3cudGFnID0gJ2Rpdic7XHJcbiAgICAgICAgcm93LmNvbnRlbnQgPSBbY29sc107XHJcbiAgICAgICAgbGV0IHJvd0RhdGEgPSBjbG9uZShyb3cpO1xyXG4gICAgICAgIGlmIChyb3cuY29uZmlnLmlucHV0R3JvdXApIHtcclxuICAgICAgICAgIGxldCByZW1vdmVCdXR0b24gPSB7XHJcbiAgICAgICAgICAgIHRhZzogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JlbW92ZS1pbnB1dC1ncm91cCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCdyZW1vdmUnKSxcclxuICAgICAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgICAgbW91c2VvdmVyOiBlID0+IHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnd2lsbC1yZW1vdmUnKTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIG1vdXNlbGVhdmU6IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd3aWxsLXJlbW92ZScpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgY2xpY2s6IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbnB1dEdyb3VwID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGxldCBpR1dyYXAgPSBjdXJyZW50SW5wdXRHcm91cC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGlHID0gaUdXcmFwLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2YtaW5wdXQtZ3JvdXAnKTtcclxuICAgICAgICAgICAgICAgIGlmIChpRy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRvbS5yZW1vdmUoY3VycmVudElucHV0R3JvdXApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05lZWQgYXQgbGVhc3QgMSBncm91cCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJvd0RhdGEuY29udGVudC51bnNoaWZ0KHJlbW92ZUJ1dHRvbik7XHJcbiAgICAgICAgICBsZXQgaW5wdXRHcm91cFdyYXAgPSB7XHJcbiAgICAgICAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgICAgICAgIGlkOiB1dWlkKCksXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2YtaW5wdXQtZ3JvdXAtd3JhcCdcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBpZiAocm93RGF0YS5hdHRycy5jbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiByb3dEYXRhLmF0dHJzLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICByb3dEYXRhLmF0dHJzLmNsYXNzTmFtZSArPSAnIGYtaW5wdXQtZ3JvdXAnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJvd0RhdGEuYXR0cnMuY2xhc3NOYW1lLnB1c2goJ2YtaW5wdXQtZ3JvdXAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGV0IGFkZEJ1dHRvbiA9IHtcclxuICAgICAgICAgICAgdGFnOiAnYnV0dG9uJyxcclxuICAgICAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdhZGQtaW5wdXQtZ3JvdXAgYnRuIHB1bGwtcmlnaHQnLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdBZGQgKycsXHJcbiAgICAgICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICAgIGNsaWNrOiBlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBmSW5wdXRHcm91cCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3Um93ID0gZG9tLmNyZWF0ZShyb3dEYXRhKTtcclxuICAgICAgICAgICAgICAgIGZJbnB1dEdyb3VwLmluc2VydEJlZm9yZShuZXdSb3csIGZJbnB1dEdyb3VwLmxhc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHJvdy5jb250ZW50LnVuc2hpZnQocmVtb3ZlQnV0dG9uKTtcclxuICAgICAgICAgIGlucHV0R3JvdXBXcmFwLmNvbnRlbnQgPSBbcm93RGF0YSwgYWRkQnV0dG9uXTtcclxuICAgICAgICAgIHJvdyA9IGlucHV0R3JvdXBXcmFwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgICB9KTtcclxuICAgICAgc3RhZ2UudGFnID0gJ2Rpdic7XHJcbiAgICAgIHN0YWdlLmNvbnRlbnQgPSByb3dzO1xyXG4gICAgICBzdGFnZS5jbGFzc05hbWUgPSAnZi1zdGFnZSc7XHJcbiAgICAgIHJldHVybiBzdGFnZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBjb25maWcgPSB7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGlkOiBgZm9ybWVvLXJlbmRlcmVkLSR7cmVuZGVyQ291bnR9YCxcclxuICAgICAgY2xhc3NOYW1lOiAnZm9ybWVvLXJlbmRlciBmb3JtZW8nLFxyXG4gICAgICBjb250ZW50XHJcbiAgICB9O1xyXG5cclxuICAgIHJlbmRlclRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZShjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFycyB0aGUgZWRpdG9yXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKi9cclxuICAgY2xlYXJGb3JtKGV2dCkge1xyXG4gICAgdGhpcy5zdGFnZXMuZm9yRWFjaChkU3RhZ2UgPT4gdGhpcy5jbGVhclN0YWdlKGRTdGFnZS5zdGFnZSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlcyBhbGwgZmllbGRzIGFuZCByZXNldHMgYSBzdGFnZVxyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gc3RhZ2UgRE9NIGVsZW1lbnRcclxuICAgKi9cclxuICAgY2xlYXJTdGFnZShzdGFnZSkge1xyXG4gICAgc3RhZ2UuY2xhc3NMaXN0LmFkZCgncmVtb3ZpbmctYWxsLWZpZWxkcycpO1xyXG5cclxuICAgIGNvbnN0IHJlc2V0U3RhZ2UgPSAoKSA9PiB7XHJcbiAgICAgIC8vIEVtcHR5IHRoZSBkYXRhIHJlZ2lzdGVyIGZvciBzdGFnZVxyXG4gICAgICAvLyBhbmQgZXZlcnl0aGluZyBiZWxvdyBpdC5cclxuICAgICAgZG9tLmVtcHR5KHN0YWdlKTtcclxuICAgICAgc3RhZ2UuY2xhc3NMaXN0LnJlbW92ZSgncmVtb3ZpbmctYWxsLWZpZWxkcycpO1xyXG4gICAgICBkYXRhLnNhdmUoKTtcclxuICAgICAgZG9tLmVtcHR5Q2xhc3Moc3RhZ2UpO1xyXG4gICAgICBhbmltYXRlLnNsaWRlRG93bihzdGFnZSwgMzAwKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gdmFyIG1hcmtFbXB0eUFycmF5ID0gW107XHJcblxyXG4gICAgLy8gaWYgKG9wdHMucHJlcGVuZCkge1xyXG4gICAgLy8gICBtYXJrRW1wdHlBcnJheS5wdXNoKHRydWUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGlmIChvcHRzLmFwcGVuZCkge1xyXG4gICAgLy8gICBtYXJrRW1wdHlBcnJheS5wdXNoKHRydWUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGlmICghbWFya0VtcHR5QXJyYXkuc29tZShlbGVtID0+IGVsZW0gPT09IHRydWUpKSB7XHJcbiAgICAvLyBzdGFnZS5jbGFzc0xpc3QuYWRkKCdlbXB0eS1zdGFnZXMnKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBhbmltYXRlLnNsaWRlVXAoc3RhZ2UsIDYwMCwgcmVzZXRTdGFnZSk7XHJcbiAgICAvLyBhbmltYXRlLnNsaWRlVXAoc3RhZ2UsIDIwMDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIHJvdyB0byB0aGUgc3RhZ2VcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhZ2VJRFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSByb3dJRFxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcclxuICAgKi9cclxuICAgYWRkUm93KHN0YWdlSUQsIHJvd0lEKSB7XHJcbiAgICBsZXQgcm93ID0gbmV3IFJvdyhyb3dJRCk7XHJcbiAgICBsZXQgc3RhZ2UgPSBzdGFnZUlEID8gdGhpcy5zdGFnZXMuZ2V0KHN0YWdlSUQpLnN0YWdlIDogdGhpcy5hY3RpdmVTdGFnZTtcclxuICAgIHN0YWdlLmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICBkYXRhLnNhdmVSb3dPcmRlcihzdGFnZSk7XHJcbiAgICB0aGlzLmVtcHR5Q2xhc3Moc3RhZ2UpO1xyXG4gICAgZXZlbnRzLmZvcm1lb1VwZGF0ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB1cGRhdGVUeXBlOiAnYWRkZWQnLFxyXG4gICAgICAgIGNoYW5nZWQ6ICdyb3cnLFxyXG4gICAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgbmV3VmFsdWU6IGZvcm1EYXRhLnJvd3MuZ2V0KHJvdy5pZClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcclxuICAgIHJldHVybiByb3c7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgQ29sdW1uIHRvIGEgcm93XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJvd0lEXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbHVtbklEXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudFxyXG4gICAqL1xyXG4gICBhZGRDb2x1bW4ocm93SUQsIGNvbHVtbklEKSB7XHJcbiAgICBsZXQgY29sdW1uID0gbmV3IENvbHVtbihjb2x1bW5JRCk7XHJcbiAgICBsZXQgcm93ID0gdGhpcy5yb3dzLmdldChyb3dJRCkucm93O1xyXG4gICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XHJcbiAgICBkYXRhLnNhdmVDb2x1bW5PcmRlcihyb3cpO1xyXG4gICAgdGhpcy5lbXB0eUNsYXNzKHJvdyk7XHJcbiAgICBldmVudHMuZm9ybWVvVXBkYXRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHVwZGF0ZVR5cGU6ICdhZGRlZCcsXHJcbiAgICAgICAgY2hhbmdlZDogJ2NvbHVtbicsXHJcbiAgICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICBuZXdWYWx1ZTogZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xyXG4gICAgcmV0dXJuIGNvbHVtbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRvZ2dsZXMgYSBzb3J0YWJsZXMgYGRpc2FibGVkYCBvcHRpb24uXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtIERPTSBlbGVtZW50XHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gc3RhdGVcclxuICAgKi9cclxuICAgdG9nZ2xlU29ydGFibGUoZWxlbSwgc3RhdGUpIHtcclxuICAgIGxldCB7ZlR5cGV9ID0gZWxlbTtcclxuICAgIGlmICghZlR5cGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHBGdHlwZSA9IGVsZW0ucGFyZW50RWxlbWVudC5mVHlwZTtcclxuICAgIGNvbnN0IHNvcnRhYmxlID0gZG9tW2ZUeXBlXS5nZXQoZWxlbS5pZCkuc29ydGFibGU7XHJcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzdGF0ZSA9ICFzb3J0YWJsZS5vcHRpb24oJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgICBzb3J0YWJsZS5vcHRpb24oJ2Rpc2FibGVkJywgc3RhdGUpO1xyXG4gICAgaWYgKHBGdHlwZSAmJiBoLmluQXJyYXkocEZ0eXBlLCBbJ3Jvd3MnLCAnY29sdW1ucycsICdzdGFnZXMnXSkpIHtcclxuICAgICAgdGhpcy50b2dnbGVTb3J0YWJsZShlbGVtLnBhcmVudEVsZW1lbnQsIHN0YXRlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBmaWVsZCB0byBhIGNvbHVtblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2x1bW5JRFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZElEXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBmaWVsZFxyXG4gICAqL1xyXG4gICBhZGRGaWVsZChjb2x1bW5JRCwgZmllbGRJRCkge1xyXG4gICAgbGV0IGZpZWxkID0gbmV3IEZpZWxkKGZpZWxkSUQpO1xyXG4gICAgaWYgKGNvbHVtbklEKSB7XHJcbiAgICAgIGxldCBjb2x1bW4gPSB0aGlzLmNvbHVtbnMuZ2V0KGNvbHVtbklEKS5jb2x1bW47XHJcbiAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChmaWVsZCk7XHJcbiAgICAgIGRhdGEuc2F2ZUZpZWxkT3JkZXIoY29sdW1uKTtcclxuICAgICAgdGhpcy5lbXB0eUNsYXNzKGNvbHVtbik7XHJcbiAgICB9XHJcbiAgICBldmVudHMuZm9ybWVvVXBkYXRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHVwZGF0ZVR5cGU6ICdhZGQnLFxyXG4gICAgICAgIGNoYW5nZWQ6ICdmaWVsZCcsXHJcbiAgICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICBuZXdWYWx1ZTogZm9ybURhdGEuZmllbGRzLmdldChmaWVsZC5pZClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcclxuXHJcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChmaWVsZElEKSB8fCBjbG9uZShyRmllbGRzW2ZpZWxkSURdKTtcclxuXHJcbiAgICBpZihmaWVsZERhdGEubWV0YS5pZCA9PT0gJ2h0bWwtc3VtbWVybm90ZScpIFxyXG4gICAgICBhZGRTdW1tZXJub3RlKGZpZWxkLGZpZWxkSUQsZm9ybURhdGEsaCxkYXRhKTtcclxuXHJcbiAgICByZXR1cm4gZmllbGQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcGxseSBlbXB0eSBjbGFzcyB0byBlbGVtZW50IGlmIGRvZXMgbm90IGhhdmUgY2hpbGRyZW5cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1cclxuICAgKi9cclxuICAgZW1wdHlDbGFzcyhlbGVtKSB7XHJcbiAgICBsZXQgdHlwZSA9IGVsZW0uZlR5cGU7XHJcbiAgICBpZiAodHlwZSkge1xyXG4gICAgICBsZXQgY2hpbGRNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgIGNoaWxkTWFwLnNldCgncm93cycsICdjb2x1bW5zJyk7XHJcbiAgICAgIGNoaWxkTWFwLnNldCgnY29sdW1ucycsICdmaWVsZHMnKTtcclxuICAgICAgY2hpbGRNYXAuc2V0KCdzdGFnZXMnLCAncm93cycpO1xyXG4gICAgICBsZXQgY2hpbGRyZW4gPSBlbGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYHN0YWdlLSR7Y2hpbGRNYXAuZ2V0KHR5cGUpfWApO1xyXG4gICAgICBlbGVtLmNsYXNzTGlzdC50b2dnbGUoYGVtcHR5LSR7dHlwZX1gLCAhY2hpbGRyZW4ubGVuZ3RoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNob3J0aGFuZCBleHBhbmRlciBmb3IgZG9tLmNyZWF0ZVxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdGFnXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhdHRyc1xyXG4gICAqIEBwYXJhbSAge09iamVjdHxBcnJheXxTdHJpbmd9IGNvbnRlbnRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBub2RlXHJcbiAgICovXHJcbiAgIGgodGFnLCBhdHRycywgY29udGVudCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlKHt0YWcsIGF0dHJzLCBjb250ZW50fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdHlsZSBPYmplY3RcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHJ1bGVzXHJcbiAgICogQHJldHVybiB7TnVtYmVyfSBpbmRleCBvZiBhZGRlZCBydWxlXHJcbiAgICovXHJcbiAgIGluc2VydFJ1bGUocnVsZXMpIHtcclxuICAgIGNvbnN0IHN0eWxlU2hlZXQgPSB0aGlzLnN0eWxlU2hlZXQ7XHJcbiAgICBsZXQgcnVsZXNMZW5ndGggPSBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aDtcclxuICAgIGZvciAobGV0IGkgPSAwLCBybCA9IHJ1bGVzLmxlbmd0aDsgaSA8IHJsOyBpKyspIHtcclxuICAgICAgbGV0IGogPSAxO1xyXG4gICAgICBsZXQgcnVsZSA9IHJ1bGVzW2ldO1xyXG4gICAgICBsZXQgc2VsZWN0b3IgPSBydWxlc1tpXVswXTtcclxuICAgICAgbGV0IHByb3BTdHIgPSAnJztcclxuICAgICAgLy8gSWYgdGhlIHNlY29uZCBhcmd1bWVudCBvZiBhIHJ1bGUgaXMgYW4gYXJyYXlcclxuICAgICAgLy8gb2YgYXJyYXlzLCBjb3JyZWN0IG91ciB2YXJpYWJsZXMuXHJcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocnVsZVsxXVswXSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcclxuICAgICAgICBydWxlID0gcnVsZVsxXTtcclxuICAgICAgICBqID0gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgcGwgPSBydWxlLmxlbmd0aDsgaiA8IHBsOyBqKyspIHtcclxuICAgICAgICBsZXQgcHJvcCA9IHJ1bGVbal07XHJcbiAgICAgICAgbGV0IGltcG9ydGFudCA9IChwcm9wWzJdID8gJyAhaW1wb3J0YW50JyA6ICcnKTtcclxuICAgICAgICBwcm9wU3RyICs9IGAke3Byb3BbMF19OiR7cHJvcFsxXX0ke2ltcG9ydGFudH07YDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5zZXJ0IENTUyBSdWxlXHJcbiAgICAgIHJldHVybiBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoYCR7c2VsZWN0b3J9IHsgJHtwcm9wU3RyfSB9YCwgcnVsZXNMZW5ndGgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRvbSA9IG5ldyBET00oKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRvbTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vZG9tLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUtBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF5S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFyQkE7QUFDQTtBQXVCQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckJBO0FBQ0E7QUFDQTtBQUFBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBeUJBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUF0QkE7QUFDQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQXRCQTtBQUhBO0FBQ0E7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVCQTtBQUNBO0FBOEJBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU5BO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQUpBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVBBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQTkrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUxBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBUkE7QUFDQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVJBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQVJBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFSQTtBQURBO0FBWUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQVBBO0FBREE7QUFXQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBUkE7QUFEQTtBQXhCQTtBQUNBO0FBcUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFxMUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _dom = __webpack_require__(/*! ./dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ./utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(\\.|\\[\\])(?:\\4|$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n  if (Array.isArray(string)) {\n    result = string;\n  } else {\n    string.replace(rePropName, function (match, number, quote, string) {\n      var segment = void 0;\n      if (quote) {\n        segment = string.replace(reEscapeChar, '$1');\n      } else {\n        segment = number || match;\n      }\n      result.push(segment);\n    });\n  }\n  return result;\n};\n\nvar helpers = {\n  hyphenCase: function hyphenCase(str) {\n    str = str.replace(/([A-Z])/g, function ($1) {\n      return '-' + $1.toLowerCase();\n    });\n\n    return str.replace(/\\s/g, '-').replace(/^-+/g, '');\n  },\n\n  safeAttrName: function safeAttrName(name) {\n    var safeAttr = {\n      className: 'class'\n    };\n\n    return safeAttr[name] || helpers.hyphenCase(name);\n  },\n  ajax: function ajax(file, callback) {\n    return new window.Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', file, true);\n      xhr.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n          callback(xhr);\n          resolve(xhr.response);\n        } else {\n          reject({\n            status: this.status,\n            statusText: xhr.statusText\n          });\n        }\n      };\n      xhr.onerror = function () {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText\n        });\n      };\n      xhr.send();\n    });\n  },\n  insertIcons: function insertIcons(response) {\n    var id = 'formeo-sprite';\n    var iconSpriteWrap = _dom2.default.create({\n      tag: 'div',\n      content: response.responseText,\n      id: id\n    });\n    iconSpriteWrap.style.display = 'none';\n    var existingSprite = document.getElementById(id);\n    if (existingSprite) {\n      existingSprite.parentElement.replaceChild(iconSpriteWrap, existingSprite);\n    } else {\n      document.body.insertBefore(iconSpriteWrap, document.body.childNodes[0]);\n    }\n  },\n  insertStyle: function insertStyle(response) {\n    var formeoStyle = _dom2.default.create({\n      tag: 'style',\n      content: response.responseText\n    });\n    document.head.appendChild(formeoStyle);\n  },\n  capitalize: function capitalize(str) {\n    return str.replace(/\\b\\w/g, function (m) {\n      return m.toUpperCase();\n    });\n  },\n\n  inArray: function inArray(needle, haystack) {\n    return haystack.indexOf(needle) !== -1;\n  },\n\n  forEach: function forEach(array, callback, scope) {\n    for (var i = 0; i < array.length; i++) {\n      callback.call(scope, array[i], i);\n    }\n  },\n\n  copyObj: function copyObj(obj) {\n    return window.JSON.parse(window.JSON.stringify(obj));\n  },\n\n  map: function map(arr, callback, scope) {\n    var newArray = [];\n    helpers.forEach(arr, function (elem, i) {\n      return newArray.push(callback(i));\n    });\n\n    return newArray;\n  },\n  subtract: function subtract(arr, from) {\n    return from.filter(function (a) {\n      return !~this.indexOf(a);\n    }, arr);\n  },\n\n  indexOfNode: function indexOfNode(node, parent) {\n    var parentElement = parent || node.parentElement;\n    var nodeList = Array.prototype.slice.call(parentElement.childNodes);\n    return nodeList.indexOf(node);\n  },\n\n  isInt: function isInt(n) {\n    return Number(n) === n && n % 1 === 0;\n  },\n\n  get: function get(object, path) {\n    path = stringToPath(path);\n\n    var index = 0;\n    var length = path.length;\n\n    while (object != null && index < length) {\n      object = object[path[index++]];\n    }\n\n    return index && index === length ? object : undefined;\n  },\n  set: function set(object, path, value, customizer) {\n    path = stringToPath(path);\n\n    var index = -1;\n    var length = path.length;\n    var lastIndex = length - 1;\n    var nested = object;\n\n    while (nested !== null && ++index < length) {\n      var key = path[index];\n      if ((typeof nested === 'undefined' ? 'undefined' : _typeof(nested)) === 'object') {\n        var newValue = value;\n        if (index !== lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = objValue === null ? [] : objValue;\n          }\n        }\n\n        if (!(hasOwnProperty.call(nested, key) && nested[key] === newValue) || newValue === undefined && !(key in nested)) {\n          nested[key] = newValue;\n        }\n      }\n      nested = nested[key];\n    }\n\n    return object;\n  },\n\n  merge: function merge(obj1, obj2) {\n    var mergedObj = Object.assign({}, obj1, obj2);\n    for (var prop in obj2) {\n      if (mergedObj.hasOwnProperty(prop)) {\n        if (Array.isArray(obj2[prop])) {\n          if (obj1) {\n            if (Array.isArray(obj1[prop])) {\n              mergedObj[prop] = obj1[prop].concat(obj2[prop]);\n            } else {\n              mergedObj[prop] = obj2[prop];\n            }\n          } else {\n            mergedObj[prop] = obj2[prop];\n          }\n        } else if (_typeof(obj2[prop]) === 'object') {\n          mergedObj[prop] = helpers.merge(obj1[prop], obj2[prop]);\n        } else {\n          mergedObj[prop] = obj2[prop];\n        }\n      }\n    }\n    return mergedObj;\n  },\n\n  orderObjectsBy: function orderObjectsBy(elements, order, path) {\n    var objOrder = (0, _utils.unique)(order);\n    var newOrder = objOrder.map(function (key) {\n      return elements.filter(function (elem) {\n        var propVal = helpers.get(elem, path);\n        return propVal === key;\n      })[0];\n    }).filter(Boolean);\n    var orderedElements = newOrder.concat(elements);\n\n    return (0, _utils.unique)(orderedElements);\n  },\n\n  toggleElementsByStr: function toggleElementsByStr(elems, term) {\n    var filteredElems = [];\n    helpers.forEach(elems, function (elem) {\n      var txt = elem.textContent.toLowerCase();\n      if (txt.indexOf(term.toLowerCase()) !== -1) {\n        elem.style.display = 'block';\n        filteredElems.push(elem);\n      } else {\n        elem.style.display = 'none';\n      }\n    });\n\n    return filteredElems;\n  }\n\n};\n\nexports.default = helpers;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2hlbHBlcnMuanM/ZjM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi9kb20nO1xyXG5pbXBvcnQge3VuaXF1ZX0gZnJvbSAnLi91dGlscyc7XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuY29uc3QgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PShcXC58XFxbXFxdKSg/OlxcNHwkKSkvZztcclxuY29uc3QgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XHJcblxyXG5jb25zdCBzdHJpbmdUb1BhdGggPSBmdW5jdGlvbihzdHJpbmcpIHtcclxuICBsZXQgcmVzdWx0ID0gW107XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3RyaW5nKSkge1xyXG4gICAgcmVzdWx0ID0gc3RyaW5nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3RyaW5nKSB7XHJcbiAgICAgIGxldCBzZWdtZW50O1xyXG4gICAgICBpZiAocXVvdGUpIHtcclxuICAgICAgICBzZWdtZW50ID0gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWdtZW50ID0gKG51bWJlciB8fCBtYXRjaCk7XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0LnB1c2goc2VnbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmNvbnN0IGhlbHBlcnMgPSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgY2FtZWxDYXNlIGludG8gbG93ZXJjYXNlLWh5cGhlblxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBzdHJcclxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgaHlwaGVuQ2FzZTogKHN0cikgPT4ge1xyXG4gICAgc3RyID0gc3RyLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24oJDEpIHtcclxuICAgICAgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccy9nLCAnLScpLnJlcGxhY2UoL14tKy9nLCAnJyk7XHJcbiAgfSxcclxuXHJcbiAgc2FmZUF0dHJOYW1lOiBuYW1lID0+IHtcclxuICAgIGxldCBzYWZlQXR0ciA9IHtcclxuICAgICAgY2xhc3NOYW1lOiAnY2xhc3MnXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBzYWZlQXR0cltuYW1lXSB8fCBoZWxwZXJzLmh5cGhlbkNhc2UobmFtZSk7XHJcbiAgfSxcclxuICBhamF4OiAoZmlsZSwgY2FsbGJhY2spID0+IHtcclxuICAgIHJldHVybiBuZXcgd2luZG93LlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICB4aHIub3BlbignR0VUJywgZmlsZSwgdHJ1ZSk7XHJcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayh4aHIpO1xyXG4gICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZWplY3Qoe1xyXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxyXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlamVjdCh7XHJcbiAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxyXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHRcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgaW5zZXJ0SWNvbnM6IHJlc3BvbnNlID0+IHtcclxuICAgIGNvbnN0IGlkID0gJ2Zvcm1lby1zcHJpdGUnO1xyXG4gICAgbGV0IGljb25TcHJpdGVXcmFwID0gZG9tLmNyZWF0ZSh7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLnJlc3BvbnNlVGV4dCxcclxuICAgICAgaWRcclxuICAgIH0pO1xyXG4gICAgaWNvblNwcml0ZVdyYXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGNvbnN0IGV4aXN0aW5nU3ByaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYgKGV4aXN0aW5nU3ByaXRlKSB7XHJcbiAgICAgIGV4aXN0aW5nU3ByaXRlLnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKGljb25TcHJpdGVXcmFwLCBleGlzdGluZ1Nwcml0ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShpY29uU3ByaXRlV3JhcCwgZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzWzBdKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGluc2VydFN0eWxlOiByZXNwb25zZSA9PiB7XHJcbiAgICBsZXQgZm9ybWVvU3R5bGUgPSBkb20uY3JlYXRlKHtcclxuICAgICAgdGFnOiAnc3R5bGUnLFxyXG4gICAgICBjb250ZW50OiByZXNwb25zZS5yZXNwb25zZVRleHRcclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChmb3JtZW9TdHlsZSk7XHJcbiAgfSxcclxuICBjYXBpdGFsaXplOiBzdHIgPT4ge1xyXG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgZnVuY3Rpb24obSkge1xyXG4gICAgICByZXR1cm4gbS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyBuaWNlciBzeW50YXggZm9yIGNoZWNraW5nIHRoZSBleGlzdGVuY2Ugb2YgYW4gZWxlbWVudCBpbiBhbiBhcnJheVxyXG4gIGluQXJyYXk6IChuZWVkbGUsIGhheXN0YWNrKSA9PiB7XHJcbiAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpICE9PSAtMTtcclxuICB9LFxyXG4gIC8vIGZvckVhY2ggdGhhdCBjYW4gYmUgdXNlZCBvbiBub2RlTGlzdFxyXG4gIGZvckVhY2g6IChhcnJheSwgY2FsbGJhY2ssIHNjb3BlKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNhbGxiYWNrLmNhbGwoc2NvcGUsIGFycmF5W2ldLCBpKTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIEFkZGVkIGJlY2F1c2UgT2JqZWN0LmFzc2lnbiBpcyBtdXRhdGluZyBvYmplY3RzLlxyXG4gIC8vIE1heWJlIGEgYmFiZWwgcG9seWZpbGwgaXNzdWU/XHJcbiAgY29weU9iajogb2JqID0+IHtcclxuICAgIHJldHVybiAod2luZG93LkpTT04ucGFyc2Uod2luZG93LkpTT04uc3RyaW5naWZ5KG9iaikpKTtcclxuICB9LFxyXG5cclxuICAvLyBiYXNpYyBtYXAgdGhhdCBjYW4gYmUgdXNlZCBvbiBub2RlTGlzdFxyXG4gIG1hcDogKGFyciwgY2FsbGJhY2ssIHNjb3BlKSA9PiB7XHJcbiAgICBsZXQgbmV3QXJyYXkgPSBbXTtcclxuICAgIGhlbHBlcnMuZm9yRWFjaChhcnIsIChlbGVtLCBpKSA9PiBuZXdBcnJheS5wdXNoKGNhbGxiYWNrKGkpKSk7XHJcblxyXG4gICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gIH0sXHJcbiAgc3VidHJhY3Q6IChhcnIsIGZyb20pID0+IHtcclxuICAgIHJldHVybiBmcm9tLmZpbHRlcihmdW5jdGlvbihhKSB7XHJcbiAgICAgIHJldHVybiAhfnRoaXMuaW5kZXhPZihhKTtcclxuICAgIH0sIGFycik7XHJcbiAgfSxcclxuICAvLyBmaW5kIHRoZSBpbmRleCBvZiBvbmUgbm9kZSBpbiBhbm90aGVyXHJcbiAgaW5kZXhPZk5vZGU6IChub2RlLCBwYXJlbnQpID0+IHtcclxuICAgIGxldCBwYXJlbnRFbGVtZW50ID0gcGFyZW50IHx8IG5vZGUucGFyZW50RWxlbWVudDtcclxuICAgIGxldCBub2RlTGlzdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHBhcmVudEVsZW1lbnQuY2hpbGROb2Rlcyk7XHJcbiAgICByZXR1cm4gbm9kZUxpc3QuaW5kZXhPZihub2RlKTtcclxuICB9LFxyXG4gIC8vIFRlc3RzIGlmIGlzIHdob2xlIG51bWJlci4gcmV0dXJucyBmYWxzZSBpZiBuIGlzIEZsb2F0XHJcbiAgaXNJbnQ6IChuKSA9PiB7XHJcbiAgICByZXR1cm4gTnVtYmVyKG4pID09PSBuICYmIG4gJSAxID09PSAwO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogZ2V0IG5lc3RlZCBwcm9wZXJ0eSB2YWx1ZSBpbiBhbiBvYmplY3RcclxuICAgKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXHJcbiAgICogQHJldHVybiB7U3RyaW5nfEFycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXHJcbiAgICovXHJcbiAgZ2V0OiAob2JqZWN0LCBwYXRoKSA9PiB7XHJcbiAgICBwYXRoID0gc3RyaW5nVG9QYXRoKHBhdGgpO1xyXG5cclxuICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICBsZXQgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XHJcblxyXG4gICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XHJcbiAgICAgIG9iamVjdCA9IG9iamVjdFtwYXRoW2luZGV4KytdXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xyXG4gIH0sXHJcbiAgc2V0OiAob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikgPT4ge1xyXG4gICAgcGF0aCA9IHN0cmluZ1RvUGF0aChwYXRoKTtcclxuXHJcbiAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgIGxldCBsZW5ndGggPSBwYXRoLmxlbmd0aDtcclxuICAgIGxldCBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xyXG4gICAgbGV0IG5lc3RlZCA9IG9iamVjdDtcclxuXHJcbiAgICB3aGlsZSAobmVzdGVkICE9PSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcclxuICAgICAgbGV0IGtleSA9IHBhdGhbaW5kZXhdO1xyXG4gICAgICBpZiAodHlwZW9mIG5lc3RlZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBsZXQgbmV3VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoaW5kZXggIT09IGxhc3RJbmRleCkge1xyXG4gICAgICAgICAgbGV0IG9ialZhbHVlID0gbmVzdGVkW2tleV07XHJcbiAgICAgICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlID09PSBudWxsID8gW10gOiBvYmpWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwobmVzdGVkLCBrZXkpICYmIChuZXN0ZWRba2V5XSA9PT0gbmV3VmFsdWUpKSB8fFxyXG4gICAgICAgICAgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gbmVzdGVkKSkpIHtcclxuICAgICAgICAgIG5lc3RlZFtrZXldID0gbmV3VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvYmplY3Q7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBNZXJnZSBvbmUgb2JqZWN0IHdpdGggYW5vdGhlci5cclxuICAgKiBUaGlzIGlzIGV4cGVuc2l2ZSwgdXNlIGFzIGxpdHRsZSBhcyBwb3NzaWJsZS5cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iajFcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iajJcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgbWVyZ2VkIG9iamVjdFxyXG4gICAqL1xyXG4gIG1lcmdlOiAob2JqMSwgb2JqMikgPT4ge1xyXG4gICAgbGV0IG1lcmdlZE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG9iajEsIG9iajIpO1xyXG4gICAgZm9yIChsZXQgcHJvcCBpbiBvYmoyKSB7XHJcbiAgICAgIGlmIChtZXJnZWRPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoyW3Byb3BdKSkge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICBpZiAob2JqMSkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoxW3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IG9iajFbcHJvcF0uY29uY2F0KG9iajJbcHJvcF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IG9iajJbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IG9iajJbcHJvcF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqMltwcm9wXSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IGhlbHBlcnMubWVyZ2Uob2JqMVtwcm9wXSwgb2JqMltwcm9wXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IG9iajJbcHJvcF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWVyZ2VkT2JqO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIE9yZGVycyBhbiBhcnJheSBvZiBvYmplY3RzIGJ5IHNwZWNpZmljIGF0dHJpYnV0ZVxyXG4gICAqIEBwYXJhbSAge0FycmF5fSAgZWxlbWVudHMgIEFycmF5IG9mIGVsZW1lbnQgb2JqZWN0c1xyXG4gICAqIEBwYXJhbSAge0FycmF5fSAgb3JkZXIgICAgIGFycmF5IG9mIGtleXMgdG8gb3JkZXIgb2JqZWN0cyBieVxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gcGF0aCAgICAgIHN0cmluZyBwYXRoIHRvIHByb3BlcnR5IHRvIG9yZGVyIGJ5XHJcbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgT3JkZXJlZCBBcnJheSBvZiBFbGVtZW50IE9iamVjdHNcclxuICAgKi9cclxuICBvcmRlck9iamVjdHNCeTogKGVsZW1lbnRzLCBvcmRlciwgcGF0aCkgPT4ge1xyXG4gICAgbGV0IG9iak9yZGVyID0gdW5pcXVlKG9yZGVyKTtcclxuICAgIGNvbnN0IG5ld09yZGVyID0gb2JqT3JkZXIubWFwKGtleSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbihlbGVtKSB7XHJcbiAgICAgICAgICBsZXQgcHJvcFZhbCA9IGhlbHBlcnMuZ2V0KGVsZW0sIHBhdGgpO1xyXG4gICAgICAgICAgcmV0dXJuIHByb3BWYWwgPT09IGtleTtcclxuICAgICAgICB9KVswXTtcclxuICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgbGV0IG9yZGVyZWRFbGVtZW50cyA9IG5ld09yZGVyLmNvbmNhdChlbGVtZW50cyk7XHJcblxyXG4gICAgcmV0dXJuIHVuaXF1ZShvcmRlcmVkRWxlbWVudHMpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEhpZGUgb3Igc2hvdyBhbiBBcnJheSBvciBIVE1MQ29sbGVjdGlvbiBvZiBlbGVtZW50c1xyXG4gICAqIEBwYXJhbSAge0FycmF5fSBlbGVtc1xyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdGVybSAgbWF0Y2ggdGV4dENvbnRlbnQgdG8gdGhpcyB0ZXJtXHJcbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICBmaWx0ZXJlZCBlbGVtZW50c1xyXG4gICAqL1xyXG4gIHRvZ2dsZUVsZW1lbnRzQnlTdHI6IChlbGVtcywgdGVybSkgPT4ge1xyXG4gICAgbGV0IGZpbHRlcmVkRWxlbXMgPSBbXTtcclxuICAgIGhlbHBlcnMuZm9yRWFjaChlbGVtcywgZWxlbSA9PiB7XHJcbiAgICAgIGxldCB0eHQgPSBlbGVtLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGlmICh0eHQuaW5kZXhPZih0ZXJtLnRvTG93ZXJDYXNlKCkpICE9PSAtMSkge1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgZmlsdGVyZWRFbGVtcy5wdXNoKGVsZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGZpbHRlcmVkRWxlbXM7XHJcbiAgfVxyXG5cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhlbHBlcnM7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tbW9uL2hlbHBlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMU9BO0FBQ0E7QUE0T0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registeredFields = exports.formData = exports.data = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _events = __webpack_require__(/*! ./events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ./dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ./utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _data = {};\nvar formData = void 0;\n\nvar registeredFields = {};\n\nvar data = {\n  init: function init(opts, userFormData) {\n    var defaultFormData = {\n      id: (0, _utils.uuid)(),\n      settings: new Map(),\n      stages: new Map(),\n      rows: new Map(),\n      columns: new Map(),\n      fields: new Map()\n    };\n    _data.opts = opts;\n    var processFormData = function processFormData(data) {\n      if (typeof data === 'string') {\n        data = window.JSON.parse(data);\n      }\n\n      data.settings = (0, _utils.objToStrMap)(data.settings);\n      data.stages = (0, _utils.objToStrMap)(data.stages);\n      data.rows = (0, _utils.objToStrMap)(data.rows);\n      data.columns = (0, _utils.objToStrMap)(data.columns);\n      data.fields = (0, _utils.objToStrMap)(data.fields);\n\n      exports.formData = formData = Object.assign({}, defaultFormData, data);\n    };\n\n    if (userFormData) {\n      processFormData(userFormData);\n    } else if (window.sessionStorage && _data.opts.sessionStorage) {\n      var sessionFormData = window.sessionStorage.getItem('formData');\n      if (sessionFormData) {\n        processFormData(sessionFormData);\n      }\n    }\n\n    if (!formData) {\n      exports.formData = formData = defaultFormData;\n    }\n\n    return formData;\n  },\n\n  saveColumnOrder: function saveColumnOrder(row) {\n    var columns = row.getElementsByClassName('stage-columns');\n    var columnOrder = _helpers2.default.map(columns, function (i) {\n      return columns[i].id;\n    });\n    var rowData = formData.rows.get(row.id);\n\n    rowData.columns = columnOrder;\n\n    return columnOrder;\n  },\n\n  saveFieldOrder: function saveFieldOrder(column) {\n    var fields = column.getElementsByClassName('stage-fields');\n    var fieldOrder = _helpers2.default.map(fields, function (i) {\n      return fields[i].id;\n    });\n\n    formData.columns.get(column.id).fields = fieldOrder;\n\n    return fieldOrder;\n  },\n\n  saveRowOrder: function saveRowOrder(stage) {\n    if (!stage) {\n      stage = _dom2.default.activeStage;\n    }\n    var oldValue = formData.stages.get(stage.id).rows.slice();\n    var rows = stage.getElementsByClassName('stage-rows');\n    var rowOrder = _helpers2.default.map(rows, function (rowID) {\n      return rows[rowID].id;\n    });\n    formData.stages.get(stage.id).rows = rowOrder;\n    new CustomEvent('formeoUpdated', {\n      data: {\n        updateType: 'sort',\n        changed: 'rows',\n        oldValue: oldValue,\n        newValue: rowOrder\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return rowOrder;\n  },\n\n  saveOptionOrder: function saveOptionOrder(parent) {\n    var props = parent.getElementsByClassName('prop-wrap');\n    var propData = _helpers2.default.map(props, function (i) {\n      return props[i].propData;\n    });\n    var fieldData = formData.fields.get(parent.fieldID);\n    fieldData[parent.editGroup] = propData;\n    return propData;\n  },\n\n  saveOrder: function saveOrder(group, parent) {\n    var saveOrder = {\n      row: data.saveRowOrder,\n      column: data.saveColumnOrder,\n      field: data.saveFieldOrder,\n      options: data.saveOptionOrder\n    };\n\n    return saveOrder[group](parent);\n  },\n\n  saveType: function saveType(group, id) {\n\n    var map = {\n      settings: function settings() {\n\n        return formData.settings;\n      },\n      stages: function stages() {},\n      rows: function rows() {\n        return formData.rows;\n      },\n      columns: function columns(rowID) {\n        return formData.columns;\n      },\n      fields: function fields(columnID) {\n        return formData.fields;\n      },\n      field: function field(fieldID) {\n        return formData.fields.get(fieldID);\n      },\n      attrs: function attrs(attrUL) {\n        var fieldData = formData.fields.get(attrUL.fieldID);\n        var attrValues = fieldData.attrs;\n        _events2.default.formeoUpdated = new CustomEvent('formeoUpdated', {\n          data: {\n            changed: 'field.attrs',\n            updateType: 'update',\n            attrValues: attrValues\n          }\n        });\n\n        document.dispatchEvent(_events2.default.formeoUpdated);\n\n        return attrValues;\n      },\n      options: function options(optionUL) {\n        var oldValue = formData.fields.get(optionUL.fieldID).options;\n        var newValue = data.saveOrder('options', optionUL);\n        _events2.default.formeoUpdated = new CustomEvent('formeoUpdated', {\n          data: {\n            changed: 'field.options',\n            updateType: 'sort',\n            oldValue: oldValue,\n            newValue: newValue\n          }\n        });\n        document.dispatchEvent(_events2.default.formeoUpdated);\n\n        return newValue;\n      }\n    };\n\n    return map[group](id);\n  },\n\n  empty: function empty(type, id) {\n    var removed = {};\n    var emptyType = {\n      stages: function stages(id) {\n        if (!id) {\n          id = _dom2.default.activeStage.id;\n        }\n        var stageData = formData.stages.get(id);\n        var rows = stageData.rows;\n        removed.rows = rows.map(function (rowID) {\n          emptyType['rows'](rowID);\n          formData.rows.delete(rowID);\n          return rowID;\n        });\n        stageData.rows = [];\n      },\n      rows: function rows(id) {\n        var row = formData.rows.get(id);\n        if (row) {\n          var columns = row.columns;\n          removed.columns = columns.map(function (columnID) {\n            emptyType['columns'](columnID);\n            formData.columns.delete(columnID);\n            return columnID;\n          });\n          columns = [];\n        }\n      },\n      columns: function columns(id) {\n        var column = formData.columns.get(id);\n        if (column) {\n          var fields = column.fields;\n          removed.fields = fields.map(function (fieldID) {\n            formData.fields.delete(fieldID);\n            return fieldID;\n          });\n          fields = [];\n        }\n      },\n      fields: function fields(id) {\n        var field = _dom2.default.fields.get(id);\n        if (field) {\n          field = field.field;\n          var column = formData.columns.get(field.parentElement.id);\n          var oldValue = column.fields.slice();\n          (0, _utils.remove)(column.fields, id);\n          _events2.default.formeoUpdated = new CustomEvent('formeoUpdated', {\n            data: {\n              updateType: 'removed',\n              changed: 'column.fields',\n              oldValue: oldValue,\n              newValue: column.fields\n            }\n          });\n          document.dispatchEvent(_events2.default.formeoUpdated);\n        }\n      }\n    };\n\n    emptyType[type](id);\n    return removed;\n  },\n\n  saveThrottle: false,\n  saveThrottled: false,\n\n  save: function save() {\n    var group = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'stages';\n    var id = arguments[1];\n    var disableThrottle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (disableThrottle) {\n      data.saveThrottle = disableThrottle;\n    }\n    var doSave = function doSave() {\n\n      data.saveType(group, id);\n\n      var storage = window.sessionStorage;\n\n      if (storage && _data.opts.sessionStorage) {\n        storage.setItem('formData', data.json);\n      }\n\n      if (_data.opts.debug) {\n        console.log('Saved: ' + group);\n      }\n\n      _events2.default.formeoSaved = new CustomEvent('formeoSaved', {\n        detail: {\n          formData: data.js\n        }\n      });\n\n      document.dispatchEvent(_events2.default.formeoSaved);\n      return formData;\n    };\n\n    if (!data.saveThrottle) {\n      doSave();\n      data.saveThrottle = true;\n      setTimeout(function () {\n        if (data.saveThrottled) {\n          doSave();\n          data.saveThrottled = false;\n        }\n        data.saveThrottle = false;\n      }, 500);\n    } else {\n      data.saveThrottled = true;\n    }\n\n    return formData;\n  },\n\n  get js() {\n    var jsData = {};\n\n    Object.keys(formData).forEach(function (key) {\n      if (typeof formData[key] === 'string') {\n        jsData[key] = formData[key];\n      } else {\n        jsData[key] = (0, _utils.strMapToObj)(formData[key]);\n      }\n    });\n    return jsData;\n  },\n\n  get prepData() {\n    var jsData = data.js;\n    Object.keys(jsData).forEach(function (type) {\n      if (_typeof(jsData[type]) === 'object') Object.keys(jsData[type]).forEach(function (entKey) {\n        var entity = jsData[type][entKey];\n        if (entity.action) {\n          Object.keys(entity.action).forEach(function (fn) {\n            entity.action[fn] = entity.action[fn].toString();\n          });\n        }\n      });\n    });\n    return jsData;\n  },\n\n  get json() {\n    var preppedData = data.prepData;\n\n    return window.JSON.stringify(preppedData, null, '\\t');\n  }\n};\n\nexports.data = data;\nexports.formData = formData;\nexports.registeredFields = registeredFields;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2RhdGEuanM/ZGNjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMnO1xyXG5pbXBvcnQgaCBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tJztcclxuaW1wb3J0IHtcclxuICBzdHJNYXBUb09iaixcclxuICBvYmpUb1N0ck1hcCxcclxuICB1dWlkLFxyXG4gIHJlbW92ZVxyXG59IGZyb20gJy4vdXRpbHMnO1xyXG4vLyBPYmplY3QgbWFwIG9mIGZpZWxkcyBvbiB0aGUgc3RhZ2VcclxuY29uc3QgX2RhdGEgPSB7fTtcclxubGV0IGZvcm1EYXRhO1xyXG5cclxuLy8gUmVnaXN0ZXJlZCBmaWVsZHMgYXJlIHRoZSBmaWVsZHMgdGhhdCBhcmUgY29uZmlndXJlZCBvbiBpbml0LlxyXG4vLyBUaGlzIHZhcmlhYmxlIGFjdHMgYXMgYSBkYXRhIGJ1ZmZlciB0aGF0cyBjb250YWluc1xyXG4vLyB0aGUgY29uZmlndXJhdGlvbnMgZm9yIGEgZmllbGQncyBmaW5hbCB2aWV3LlxyXG5sZXQgcmVnaXN0ZXJlZEZpZWxkcyA9IHt9O1xyXG5cclxubGV0IGRhdGEgPSB7XHJcbiAgaW5pdDogKG9wdHMsIHVzZXJGb3JtRGF0YSkgPT4ge1xyXG4gICAgbGV0IGRlZmF1bHRGb3JtRGF0YSA9IHtcclxuICAgICAgaWQ6IHV1aWQoKSxcclxuICAgICAgc2V0dGluZ3M6IG5ldyBNYXAoKSxcclxuICAgICAgc3RhZ2VzOiBuZXcgTWFwKCksXHJcbiAgICAgIHJvd3M6IG5ldyBNYXAoKSxcclxuICAgICAgY29sdW1uczogbmV3IE1hcCgpLFxyXG4gICAgICBmaWVsZHM6IG5ldyBNYXAoKVxyXG4gICAgfTtcclxuICAgIF9kYXRhLm9wdHMgPSBvcHRzO1xyXG4gICAgbGV0IHByb2Nlc3NGb3JtRGF0YSA9IGRhdGEgPT4ge1xyXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZGF0YSA9IHdpbmRvdy5KU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkYXRhLnNldHRpbmdzID0gb2JqVG9TdHJNYXAoZGF0YS5zZXR0aW5ncyk7XHJcbiAgICAgIGRhdGEuc3RhZ2VzID0gb2JqVG9TdHJNYXAoZGF0YS5zdGFnZXMpO1xyXG4gICAgICBkYXRhLnJvd3MgPSBvYmpUb1N0ck1hcChkYXRhLnJvd3MpO1xyXG4gICAgICBkYXRhLmNvbHVtbnMgPSBvYmpUb1N0ck1hcChkYXRhLmNvbHVtbnMpO1xyXG4gICAgICBkYXRhLmZpZWxkcyA9IG9ialRvU3RyTWFwKGRhdGEuZmllbGRzKTtcclxuXHJcbiAgICAgIGZvcm1EYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZvcm1EYXRhLCBkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHVzZXJGb3JtRGF0YSkge1xyXG4gICAgICBwcm9jZXNzRm9ybURhdGEodXNlckZvcm1EYXRhKTtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LnNlc3Npb25TdG9yYWdlICYmIF9kYXRhLm9wdHMuc2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgICAgbGV0IHNlc3Npb25Gb3JtRGF0YSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmb3JtRGF0YScpO1xyXG4gICAgICBpZiAoc2Vzc2lvbkZvcm1EYXRhKSB7XHJcbiAgICAgICAgcHJvY2Vzc0Zvcm1EYXRhKHNlc3Npb25Gb3JtRGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWZvcm1EYXRhKSB7XHJcbiAgICAgIGZvcm1EYXRhID0gZGVmYXVsdEZvcm1EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmb3JtRGF0YTtcclxuICB9LFxyXG5cclxuICBzYXZlQ29sdW1uT3JkZXI6IHJvdyA9PiB7XHJcbiAgICBsZXQgY29sdW1ucyA9IHJvdy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1jb2x1bW5zJyk7XHJcbiAgICBsZXQgY29sdW1uT3JkZXIgPSBoLm1hcChjb2x1bW5zLCBpID0+IGNvbHVtbnNbaV0uaWQpO1xyXG4gICAgbGV0IHJvd0RhdGEgPSBmb3JtRGF0YS5yb3dzLmdldChyb3cuaWQpO1xyXG5cclxuICAgIHJvd0RhdGEuY29sdW1ucyA9IGNvbHVtbk9yZGVyO1xyXG5cclxuICAgIHJldHVybiBjb2x1bW5PcmRlcjtcclxuICB9LFxyXG5cclxuICBzYXZlRmllbGRPcmRlcjogY29sdW1uID0+IHtcclxuICAgIGxldCBmaWVsZHMgPSBjb2x1bW4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtZmllbGRzJyk7XHJcbiAgICBsZXQgZmllbGRPcmRlciA9IGgubWFwKGZpZWxkcywgaSA9PiBmaWVsZHNbaV0uaWQpO1xyXG5cclxuICAgIGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbi5pZCkuZmllbGRzID0gZmllbGRPcmRlcjtcclxuXHJcbiAgICByZXR1cm4gZmllbGRPcmRlcjtcclxuICB9LFxyXG5cclxuICBzYXZlUm93T3JkZXI6IHN0YWdlID0+IHtcclxuICAgIGlmICghc3RhZ2UpIHtcclxuICAgICAgc3RhZ2UgPSBkb20uYWN0aXZlU3RhZ2U7XHJcbiAgICB9XHJcbiAgICBsZXQgb2xkVmFsdWUgPSBmb3JtRGF0YS5zdGFnZXMuZ2V0KHN0YWdlLmlkKS5yb3dzLnNsaWNlKCk7XHJcbiAgICBsZXQgcm93cyA9IHN0YWdlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLXJvd3MnKTtcclxuICAgIGxldCByb3dPcmRlciA9IGgubWFwKHJvd3MsIHJvd0lEID0+IHJvd3Nbcm93SURdLmlkKTtcclxuICAgIGZvcm1EYXRhLnN0YWdlcy5nZXQoc3RhZ2UuaWQpLnJvd3MgPSByb3dPcmRlcjtcclxuICAgIG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHVwZGF0ZVR5cGU6ICdzb3J0JyxcclxuICAgICAgICBjaGFuZ2VkOiAncm93cycsXHJcbiAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgbmV3VmFsdWU6IHJvd09yZGVyXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XHJcbiAgICByZXR1cm4gcm93T3JkZXI7XHJcbiAgfSxcclxuXHJcbiAgc2F2ZU9wdGlvbk9yZGVyOiBwYXJlbnQgPT4ge1xyXG4gICAgbGV0IHByb3BzID0gcGFyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Byb3Atd3JhcCcpO1xyXG4gICAgbGV0IHByb3BEYXRhID0gaC5tYXAocHJvcHMsIGkgPT4ge1xyXG4gICAgICByZXR1cm4gcHJvcHNbaV0ucHJvcERhdGE7XHJcbiAgICB9KTtcclxuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KHBhcmVudC5maWVsZElEKTtcclxuICAgIGZpZWxkRGF0YVtwYXJlbnQuZWRpdEdyb3VwXSA9IHByb3BEYXRhO1xyXG4gICAgcmV0dXJuIHByb3BEYXRhO1xyXG4gIH0sXHJcblxyXG4gIHNhdmVPcmRlcjogKGdyb3VwLCBwYXJlbnQpID0+IHtcclxuICAgIGxldCBzYXZlT3JkZXIgPSB7XHJcbiAgICAgIHJvdzogZGF0YS5zYXZlUm93T3JkZXIsXHJcbiAgICAgIGNvbHVtbjogZGF0YS5zYXZlQ29sdW1uT3JkZXIsXHJcbiAgICAgIGZpZWxkOiBkYXRhLnNhdmVGaWVsZE9yZGVyLFxyXG4gICAgICBvcHRpb25zOiBkYXRhLnNhdmVPcHRpb25PcmRlclxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2F2ZU9yZGVyW2dyb3VwXShwYXJlbnQpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcm1lbyBzYXZlIGZ1bmN0aW9uc1xyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZ3JvdXAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqL1xyXG4gICBzYXZlVHlwZTogKGdyb3VwLCBpZCkgPT4ge1xyXG5cclxuICAgIGxldCBtYXAgPSB7XHJcbiAgICAgIHNldHRpbmdzOiAoKSA9PiB7XHJcbiAgICAgICAgLy8gbGV0IHN0YWdlID0gZm9ybURhdGEuc3RhZ2VzLnNldHRpbmdzO1xyXG4gICAgICAgIC8vIGZvcm1EYXRhLnNldHRpbmdzID0gW107XHJcblxyXG4gICAgICAgIC8vIGguZm9yRWFjaChzdGFnZSwgKGksIHJvd0lEKSA9PiB7XHJcbiAgICAgICAgLy8gICBmb3JtRGF0YS5yb3dzW2ldID0gaC5jbG9uZShmb3JtRGF0YS5yb3dzW3Jvd0lEXSk7XHJcbiAgICAgICAgICAvLyBmb3JtRGF0YS5yb3dzW2ldID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybURhdGEucm93c1tyb3dJRF0pO1xyXG4gICAgICAgIC8vICAgZm9ybURhdGEucm93c1tpXS5jb2x1bW5zID0gbWFwLmNvbHVtbnMocm93SUQpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZm9ybURhdGEuc2V0dGluZ3M7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN0YWdlczogKCkgPT4ge1xyXG4gICAgICAgIC8vIGRhdGEuc2F2ZVJvd09yZGVyKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJvd3M6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gZm9ybURhdGEucm93cztcclxuICAgICAgfSxcclxuICAgICAgY29sdW1uczogcm93SUQgPT4ge1xyXG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5jb2x1bW5zO1xyXG4gICAgICB9LFxyXG4gICAgICBmaWVsZHM6IGNvbHVtbklEID0+IHtcclxuICAgICAgICByZXR1cm4gZm9ybURhdGEuZmllbGRzO1xyXG4gICAgICB9LFxyXG4gICAgICBmaWVsZDogZmllbGRJRCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLmZpZWxkcy5nZXQoZmllbGRJRCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGF0dHJzOiBhdHRyVUwgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoYXR0clVMLmZpZWxkSUQpO1xyXG4gICAgICAgIGxldCBhdHRyVmFsdWVzID0gZmllbGREYXRhLmF0dHJzO1xyXG4gICAgICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xyXG4gICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICBjaGFuZ2VkOiAnZmllbGQuYXR0cnMnLFxyXG4gICAgICAgICAgICB1cGRhdGVUeXBlOiAndXBkYXRlJyxcclxuICAgICAgICAgICAgYXR0clZhbHVlc1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF0dHJWYWx1ZXM7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9wdGlvbnM6IG9wdGlvblVMID0+IHtcclxuICAgICAgICBsZXQgb2xkVmFsdWUgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KG9wdGlvblVMLmZpZWxkSUQpLm9wdGlvbnM7XHJcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0gZGF0YS5zYXZlT3JkZXIoJ29wdGlvbnMnLCBvcHRpb25VTCk7XHJcbiAgICAgICAgZXZlbnRzLmZvcm1lb1VwZGF0ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGNoYW5nZWQ6ICdmaWVsZC5vcHRpb25zJyxcclxuICAgICAgICAgICAgdXBkYXRlVHlwZTogJ3NvcnQnLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgbmV3VmFsdWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBtYXBbZ3JvdXBdKGlkKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBFbXB0aWVzIHRoZSBkYXRhIHJlZ2lzdGVyIGZvciBhbiBlbGVtZW50XHJcbiAgICogYW5kIGl0cyBjaGlsZHJlblxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZSBbZGVzY3JpcHRpb25dXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgIFtkZXNjcmlwdGlvbl1cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqL1xyXG4gICBlbXB0eTogKHR5cGUsIGlkKSA9PiB7XHJcbiAgICBsZXQgcmVtb3ZlZCA9IHt9O1xyXG4gICAgY29uc3QgZW1wdHlUeXBlID0ge1xyXG4gICAgICBzdGFnZXM6IGlkID0+IHtcclxuICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICBpZCA9IGRvbS5hY3RpdmVTdGFnZS5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN0YWdlRGF0YSA9IGZvcm1EYXRhLnN0YWdlcy5nZXQoaWQpO1xyXG4gICAgICAgIGxldCByb3dzID0gc3RhZ2VEYXRhLnJvd3M7XHJcbiAgICAgICAgcmVtb3ZlZC5yb3dzID0gcm93cy5tYXAocm93SUQgPT4ge1xyXG4gICAgICAgICAgZW1wdHlUeXBlWydyb3dzJ10ocm93SUQpO1xyXG4gICAgICAgICAgZm9ybURhdGEucm93cy5kZWxldGUocm93SUQpO1xyXG4gICAgICAgICAgcmV0dXJuIHJvd0lEO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0YWdlRGF0YS5yb3dzID0gW107XHJcbiAgICAgIH0sXHJcbiAgICAgIHJvd3M6IGlkID0+IHtcclxuICAgICAgICBsZXQgcm93ID0gZm9ybURhdGEucm93cy5nZXQoaWQpO1xyXG4gICAgICAgIGlmIChyb3cpIHtcclxuICAgICAgICAgIGxldCBjb2x1bW5zID0gcm93LmNvbHVtbnM7XHJcbiAgICAgICAgICByZW1vdmVkLmNvbHVtbnMgPSBjb2x1bW5zLm1hcChjb2x1bW5JRCA9PiB7XHJcbiAgICAgICAgICAgIGVtcHR5VHlwZVsnY29sdW1ucyddKGNvbHVtbklEKTtcclxuICAgICAgICAgICAgZm9ybURhdGEuY29sdW1ucy5kZWxldGUoY29sdW1uSUQpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1uSUQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbHVtbnMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbHVtbnM6IGlkID0+IHtcclxuICAgICAgICBsZXQgY29sdW1uID0gZm9ybURhdGEuY29sdW1ucy5nZXQoaWQpO1xyXG4gICAgICAgIGlmIChjb2x1bW4pIHtcclxuICAgICAgICAgIGxldCBmaWVsZHMgPSBjb2x1bW4uZmllbGRzO1xyXG4gICAgICAgICAgcmVtb3ZlZC5maWVsZHMgPSBmaWVsZHMubWFwKGZpZWxkSUQgPT4ge1xyXG4gICAgICAgICAgICBmb3JtRGF0YS5maWVsZHMuZGVsZXRlKGZpZWxkSUQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmllbGRJRDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZmllbGRzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBmaWVsZHM6IGlkID0+IHtcclxuICAgICAgICBsZXQgZmllbGQgPSBkb20uZmllbGRzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICBmaWVsZCA9IGZpZWxkLmZpZWxkO1xyXG4gICAgICAgICAgbGV0IGNvbHVtbiA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGZpZWxkLnBhcmVudEVsZW1lbnQuaWQpO1xyXG4gICAgICAgICAgbGV0IG9sZFZhbHVlID0gY29sdW1uLmZpZWxkcy5zbGljZSgpO1xyXG4gICAgICAgICAgcmVtb3ZlKGNvbHVtbi5maWVsZHMsIGlkKTtcclxuICAgICAgICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgdXBkYXRlVHlwZTogJ3JlbW92ZWQnLFxyXG4gICAgICAgICAgICAgIGNoYW5nZWQ6ICdjb2x1bW4uZmllbGRzJyxcclxuICAgICAgICAgICAgICBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICBuZXdWYWx1ZTogY29sdW1uLmZpZWxkc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbXB0eVR5cGVbdHlwZV0oaWQpO1xyXG4gICAgcmV0dXJuIHJlbW92ZWQ7XHJcbiAgfSxcclxuXHJcbiAgc2F2ZVRocm90dGxlOiBmYWxzZSxcclxuICBzYXZlVGhyb3R0bGVkOiBmYWxzZSxcclxuXHJcbiAgc2F2ZTogKGdyb3VwID0gJ3N0YWdlcycsIGlkLCBkaXNhYmxlVGhyb3R0bGUgPSBmYWxzZSkgPT4ge1xyXG4gICAgaWYgKGRpc2FibGVUaHJvdHRsZSkge1xyXG4gICAgICBkYXRhLnNhdmVUaHJvdHRsZSA9IGRpc2FibGVUaHJvdHRsZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGRvU2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgZGF0YS5zYXZlVHlwZShncm91cCwgaWQpO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcclxuXHJcbiAgICAgIGlmIChzdG9yYWdlICYmIF9kYXRhLm9wdHMuc2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oJ2Zvcm1EYXRhJywgZGF0YS5qc29uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKF9kYXRhLm9wdHMuZGVidWcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2F2ZWQ6ICcgKyBncm91cCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGV2ZW50cy5mb3JtZW9TYXZlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvU2F2ZWQnLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICBmb3JtRGF0YTogZGF0YS5qc1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9TYXZlZCk7XHJcbiAgICAgIHJldHVybiBmb3JtRGF0YTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCFkYXRhLnNhdmVUaHJvdHRsZSkge1xyXG4gICAgICBkb1NhdmUoKTtcclxuICAgICAgZGF0YS5zYXZlVGhyb3R0bGUgPSB0cnVlO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5zYXZlVGhyb3R0bGVkKSB7XHJcbiAgICAgICAgICBkb1NhdmUoKTtcclxuICAgICAgICAgIGRhdGEuc2F2ZVRocm90dGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhLnNhdmVUaHJvdHRsZSA9IGZhbHNlO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YS5zYXZlVGhyb3R0bGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZm9ybURhdGE7XHJcbiAgfSxcclxuXHJcbiAgZ2V0IGpzKCkge1xyXG4gICAgbGV0IGpzRGF0YSA9IHt9O1xyXG5cclxuICAgIE9iamVjdC5rZXlzKGZvcm1EYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgIGlmICh0eXBlb2YgZm9ybURhdGFba2V5XSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBqc0RhdGFba2V5XSA9IGZvcm1EYXRhW2tleV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAganNEYXRhW2tleV0gPSBzdHJNYXBUb09iaihmb3JtRGF0YVtrZXldKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4ganNEYXRhO1xyXG4gIH0sXHJcblxyXG4gIGdldCBwcmVwRGF0YSgpIHtcclxuICAgIGxldCBqc0RhdGEgPSBkYXRhLmpzO1xyXG4gICAgT2JqZWN0LmtleXMoanNEYXRhKS5mb3JFYWNoKHR5cGUgPT4geyAgICBcdFxyXG4gICAgICBpZiAodHlwZW9mIGpzRGF0YVt0eXBlXSA9PT0gJ29iamVjdCcpXHJcbiAgICAgIE9iamVjdC5rZXlzKGpzRGF0YVt0eXBlXSkuZm9yRWFjaChlbnRLZXkgPT4ge1xyXG4gICAgICAgIGxldCBlbnRpdHkgPSBqc0RhdGFbdHlwZV1bZW50S2V5XTtcclxuICAgICAgICBpZiAoZW50aXR5LmFjdGlvbikge1xyXG4gICAgICAgICAgT2JqZWN0LmtleXMoZW50aXR5LmFjdGlvbikuZm9yRWFjaChmbiA9PiB7XHJcbiAgICAgICAgICAgIGVudGl0eS5hY3Rpb25bZm5dID0gZW50aXR5LmFjdGlvbltmbl0udG9TdHJpbmcoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBqc0RhdGE7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0dGVyIG1ldGhvZCBmb3IgSlNPTiBmb3JtRGF0YVxyXG4gICAqIEByZXR1cm4ge0pTT059IGZvcm1EYXRhXHJcbiAgICovXHJcbiAgIGdldCBqc29uKCkge1xyXG4gICAgbGV0IHByZXBwZWREYXRhID0gZGF0YS5wcmVwRGF0YTtcclxuXHJcbiAgICByZXR1cm4gd2luZG93LkpTT04uc3RyaW5naWZ5KHByZXBwZWREYXRhLCBudWxsLCAnXFx0Jyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICBkYXRhLFxyXG4gIGZvcm1EYXRhLFxyXG4gIHJlZ2lzdGVyZWRGaWVsZHNcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vZGF0YS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFNQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFEQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUF6REE7QUFDQTtBQTJEQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUF0REE7QUFDQTtBQXdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdlVBO0FBQ0E7QUEwVUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.memoize = exports.clicked = exports.cleanObj = exports.numberBetween = exports.numToPercent = exports.clone = exports.uuid = exports.strMapToObj = exports.objToStrMap = exports.unique = exports.closestFtype = exports.closest = exports.remove = exports.match = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _uuidV = __webpack_require__(/*! uuid-v4 */ 22);\n\nvar _uuidV2 = _interopRequireDefault(_uuidV);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar match = exports.match = function match() {\n  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var filter = arguments[1];\n\n  if (!filter) {\n    console.warn('utils.match missing argument 2.');\n    return false;\n  }\n  var matchOperators = /[|\\\\{}()[\\]^*$+?.]/g;\n  var filterArray = typeof filter === 'string' ? [filter] : filter;\n  filterArray = filterArray.map(function (filterStr) {\n    return filterStr === '*' ? '' : filterStr.replace(matchOperators, '\\\\$&');\n  });\n\n  var isMatch = true;\n  if (filterArray.length) {\n    isMatch = !str.match(new RegExp(filterArray.join('|'), 'i'));\n  }\n\n  return isMatch;\n};\n\nvar remove = exports.remove = function remove(arr, val) {\n  var index = arr.indexOf(val);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\n\nvar closest = exports.closest = function closest(el, cls) {\n  var className = cls.replace('.', '');\n  while ((el = el.parentElement) && !el.classList.contains(className)) {}\n  return el;\n};\n\nvar closestFtype = exports.closestFtype = function closestFtype(el) {\n  while ((el = el.parentElement) && !el.fType) {}\n  return el;\n};\n\nvar unique = exports.unique = function unique(array) {\n  return array.filter(function (elem, pos, arr) {\n    return arr.indexOf(elem) === pos;\n  });\n};\n\nvar objToStrMap = exports.objToStrMap = function objToStrMap(obj) {\n  var strMap = new Map();\n  for (var _iterator = Object.keys(obj), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var k = _ref;\n\n    strMap.set(k, obj[k]);\n  }\n  return strMap;\n};\n\nvar strMapToObj = exports.strMapToObj = function strMapToObj(strMap) {\n  var obj = Object.create(null);\n  strMap.forEach(function (v, k) {\n    obj[k] = v;\n  });\n  return obj;\n};\n\nvar uuid = exports.uuid = function uuid(elem) {\n  var id = void 0;\n  if (elem) {\n    var _elem$attrs = elem.attrs,\n        attrs = _elem$attrs === undefined ? {} : _elem$attrs;\n\n    id = attrs.id || elem.id || (0, _uuidV2.default)();\n    elem.id = id;\n  } else {\n    id = (0, _uuidV2.default)();\n  }\n  return id;\n};\n\nvar clone = exports.clone = function clone(obj) {\n  var copy = void 0;\n\n  if (null === obj || 'object' !== (typeof obj === 'undefined' ? 'undefined' : _typeof(obj))) {\n    return obj;\n  }\n\n  if (obj instanceof Date) {\n    copy = new Date();\n    copy.setTime(obj.getTime());\n    return copy;\n  }\n\n  if (obj instanceof Array) {\n    copy = [];\n    for (var i = 0, len = obj.length; i < len; i++) {\n      copy[i] = clone(obj[i]);\n    }\n    return copy;\n  }\n\n  if (obj instanceof Object) {\n    copy = {};\n    for (var attr in obj) {\n      if (obj.hasOwnProperty(attr)) {\n        copy[attr] = clone(obj[attr]);\n      }\n    }\n    return copy;\n  }\n\n  throw new Error('Unable to copy Object, type not supported.');\n};\n\nvar numToPercent = exports.numToPercent = function numToPercent(num) {\n  return num.toString() + '%';\n};\n\nvar numberBetween = exports.numberBetween = function numberBetween(num, min, max) {\n  return num > min && num < max;\n};\n\nvar cleanObj = exports.cleanObj = function cleanObj(obj) {\n  var fresh = Object.assign({}, obj);\n  Object.keys(obj).forEach(function (key) {\n    if (typeof obj[key] === 'string') {\n      fresh[key] = '';\n    } else if (typeof obj[key] === 'boolean') {\n      fresh[key] = false;\n    }\n  });\n  return fresh;\n};\n\nvar clicked = exports.clicked = function clicked(x, y, position, button) {\n  var xMin = position.x - 5;\n  var xMax = position.x + 5;\n  var yMin = position.y - 5;\n  var yMax = position.y + 5;\n  var xOK = numberBetween(x, xMin, xMax);\n  var yOK = numberBetween(y, yMin, yMax);\n\n  return xOK && yOK && button !== 2;\n};\n\nvar memoize = exports.memoize = function memoize(fn, resolver) {\n  if (typeof fn !== 'function' || resolver && typeof resolver !== 'function') {\n    throw new TypeError('memoize: First argument must be a function');\n  }\n  var memoized = function memoized() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var key = resolver ? resolver.apply(memoized, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = fn.apply(memoized, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new memoize.Cache();\n  return memoized;\n};\n\nmemoize.Cache = Map;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL3V0aWxzLmpzPzVjZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV1aWR2NCBmcm9tICd1dWlkLXY0JztcclxuLyoqXHJcbiAqIE1hdGNoIHRoZSB2YWx1ZXMgZnJvbSBhIHN0cmluZyBvciBhcnJheSBhZ2FpbnN0IGEgc3RyLlxyXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciAgICBTdHJpbmcgd2UgYXJlIHNlYXJjaGluZ1xyXG4gKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9ICBmaWx0ZXIgU3RyaW5nIG9yIGFycmF5IG9mIHZhbHVlcyB0byBtYXRjaFxyXG4gKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1hdGNoID0gKHN0ciA9ICcnLCBmaWx0ZXIpID0+IHtcclxuICBpZiAoIWZpbHRlcikge1xyXG4gICAgY29uc29sZS53YXJuKCd1dGlscy5tYXRjaCBtaXNzaW5nIGFyZ3VtZW50IDIuJyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGxldCBtYXRjaE9wZXJhdG9ycyA9IC9bfFxcXFx7fSgpW1xcXV4qJCs/Ll0vZztcclxuICBsZXQgZmlsdGVyQXJyYXkgPSAodHlwZW9mIGZpbHRlciA9PT0gJ3N0cmluZycpID8gW2ZpbHRlcl0gOiBmaWx0ZXI7XHJcbiAgZmlsdGVyQXJyYXkgPSBmaWx0ZXJBcnJheS5tYXAoZmlsdGVyU3RyID0+IHtcclxuICAgIHJldHVybiBmaWx0ZXJTdHIgPT09ICcqJyA/ICcnIDogZmlsdGVyU3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnMsICdcXFxcJCYnKTtcclxuICB9KTtcclxuXHJcbiAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xyXG4gIGlmIChmaWx0ZXJBcnJheS5sZW5ndGgpIHtcclxuICAgIGlzTWF0Y2ggPSAhc3RyLm1hdGNoKG5ldyBSZWdFeHAoZmlsdGVyQXJyYXkuam9pbignfCcpLCAnaScpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBpc01hdGNoO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIGFuIGFycmF5XHJcbiAqIEBwYXJhbSAge0FycmF5fSBhcnJcclxuICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gdmFsXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcmVtb3ZlID0gKGFyciwgdmFsKSA9PiB7XHJcbiAgbGV0IGluZGV4ID0gYXJyLmluZGV4T2YodmFsKTtcclxuXHJcbiAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogRmluZCB0aGUgY2xvc2VzdCBwYXJlbnQgYnkgY2xhc3NcclxuICogQHBhcmFtICB7T2JqZWN0fSBlbCAgRE9NIGVsZW1lbnRcclxuICogQHBhcmFtICB7U3RyaW5nfSBjbHMgY2xhc3NcclxuICogQHJldHVybiB7T2JqZWN0fSAgICAgRE9NIEVsZW1lbnRcclxuICovXHJcbmV4cG9ydCBjb25zdCBjbG9zZXN0ID0gKGVsLCBjbHMpID0+IHtcclxuICBsZXQgY2xhc3NOYW1lID0gY2xzLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgd2hpbGUgKChlbCA9IGVsLnBhcmVudEVsZW1lbnQpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSk7XHJcbiAgcmV0dXJuIGVsO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgcGFyZW50IGJ5IGNsYXNzXHJcbiAqIEBwYXJhbSAge09iamVjdH0gZWwgIERPTSBlbGVtZW50XHJcbiAqIEBwYXJhbSAge1N0cmluZ30gY2xzIGNsYXNzXHJcbiAqIEByZXR1cm4ge09iamVjdH0gICAgIERPTSBFbGVtZW50XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2xvc2VzdEZ0eXBlID0gZWwgPT4ge1xyXG4gIHdoaWxlICgoZWwgPSBlbC5wYXJlbnRFbGVtZW50KSAmJiAhZWwuZlR5cGUpO1xyXG4gIHJldHVybiBlbDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5IG9mIGVsZW1lbnRzXHJcbiAqIEBwYXJhbSAge0FycmF5fSBhcnJheSB3aXRoIHBvc3NpYmxlIGR1cGxpY2F0ZXNcclxuICogQHJldHVybiB7QXJyYXl9IGFycmF5IHdpdGggb25seSB1bmlxdWUgdmFsdWVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdW5pcXVlID0gYXJyYXkgPT5cclxuICBhcnJheS5maWx0ZXIoKGVsZW0sIHBvcywgYXJyKSA9PlxyXG4gICAgKGFyci5pbmRleE9mKGVsZW0pID09PSBwb3MpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBvYmpUb1N0ck1hcCA9IG9iaiA9PiB7XHJcbiAgbGV0IHN0ck1hcCA9IG5ldyBNYXAoKTtcclxuICBmb3IgKGxldCBrIG9mIE9iamVjdC5rZXlzKG9iaikpIHtcclxuICAgIHN0ck1hcC5zZXQoaywgb2JqW2tdKTtcclxuICB9XHJcbiAgcmV0dXJuIHN0ck1hcDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdHJNYXBUb09iaiA9IHN0ck1hcCA9PiB7XHJcbiAgbGV0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgc3RyTWFwLmZvckVhY2goKHYsIGspID0+IHtcclxuICAgIG9ialtrXSA9IHY7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG9iajtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1dWlkID0gZWxlbSA9PiB7XHJcbiAgbGV0IGlkO1xyXG4gIGlmIChlbGVtKSB7XHJcbiAgICBsZXQge2F0dHJzID0ge319ID0gZWxlbTtcclxuICAgIGlkID0gYXR0cnMuaWQgfHwgZWxlbS5pZCB8fCB1dWlkdjQoKTtcclxuICAgIGVsZW0uaWQgPSBpZDtcclxuICB9IGVsc2Uge1xyXG4gICAgaWQgPSB1dWlkdjQoKTtcclxuICB9XHJcbiAgcmV0dXJuIGlkO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBjbG9uZSA9IG9iaiA9PiB7XHJcbiAgbGV0IGNvcHk7XHJcblxyXG4gIC8vIEhhbmRsZSB0aGUgNCBzaW1wbGUgdHlwZXMsIGFuZCBudWxsIG9yIHVuZGVmaW5lZFxyXG4gIGlmIChudWxsID09PSBvYmogfHwgJ29iamVjdCcgIT09IHR5cGVvZiBvYmopIHtcclxuICAgIHJldHVybiBvYmo7XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgRGF0ZVxyXG4gIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICBjb3B5ID0gbmV3IERhdGUoKTtcclxuICAgIGNvcHkuc2V0VGltZShvYmouZ2V0VGltZSgpKTtcclxuICAgIHJldHVybiBjb3B5O1xyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlIEFycmF5XHJcbiAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICBjb3B5ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gb2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgIGNvcHlbaV0gPSBjbG9uZShvYmpbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvcHk7XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgT2JqZWN0XHJcbiAgaWYgKG9iaiBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgY29weSA9IHt9O1xyXG4gICAgZm9yIChsZXQgYXR0ciBpbiBvYmopIHtcclxuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xyXG4gICAgICAgIGNvcHlbYXR0cl0gPSBjbG9uZShvYmpbYXR0cl0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29weTtcclxuICB9XHJcblxyXG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvcHkgT2JqZWN0LCB0eXBlIG5vdCBzdXBwb3J0ZWQuJyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbnVtVG9QZXJjZW50ID0gbnVtID0+IG51bS50b1N0cmluZygpICsgJyUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IG51bWJlckJldHdlZW4gPSAobnVtLCBtaW4sIG1heCkgPT4gKG51bSA+IG1pbiAmJiBudW0gPCBtYXgpO1xyXG5cclxuLyoqXHJcbiAqIEVtcHR5IGFuIG9iamVjdHMgY29udGVudHNcclxuICogQHBhcmFtICB7T2JqZWN0fSBvYmpcclxuICogQHJldHVybiB7T2JqZWN0fSBmcmVzaFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNsZWFuT2JqID0gb2JqID0+IHtcclxuICBsZXQgZnJlc2ggPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xyXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgZnJlc2hba2V5XSA9ICcnO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdib29sZWFuJykge1xyXG4gICAgICBmcmVzaFtrZXldID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGZyZXNoO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsaWNrZWQgPSAoeCwgeSwgcG9zaXRpb24sIGJ1dHRvbikgPT4ge1xyXG4gIGxldCB4TWluID0gcG9zaXRpb24ueCAtIDU7XHJcbiAgbGV0IHhNYXggPSBwb3NpdGlvbi54ICsgNTtcclxuICBsZXQgeU1pbiA9IHBvc2l0aW9uLnkgLSA1O1xyXG4gIGxldCB5TWF4ID0gcG9zaXRpb24ueSArIDU7XHJcbiAgbGV0IHhPSyA9IG51bWJlckJldHdlZW4oeCwgeE1pbiwgeE1heCk7XHJcbiAgbGV0IHlPSyA9IG51bWJlckJldHdlZW4oeSwgeU1pbiwgeU1heCk7XHJcblxyXG4gIHJldHVybiAoeE9LICYmIHlPSyAmJiBidXR0b24gIT09IDIpO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDYWNoZSByZXN1bHRzIG9mIGV4cGVuc2l2ZSBmdW5jdGlvbnNcclxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXHJcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNvbHZlclxyXG4gKiBAcmV0dXJuIHtTdHJpbmd8T2JqZWN0fSBtZW1vaXplZFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1lbW9pemUgPSAoZm4sIHJlc29sdmVyKSA9PiB7XHJcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJyB8fFxyXG4gICAgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21lbW9pemU6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gIH1cclxuICBjb25zdCBtZW1vaXplZCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICBsZXQga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseShtZW1vaXplZCwgYXJncykgOiBhcmdzWzBdO1xyXG4gICAgbGV0IGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XHJcblxyXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XHJcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcclxuICAgIH1cclxuICAgIGxldCByZXN1bHQgPSBmbi5hcHBseShtZW1vaXplZCwgYXJncyk7XHJcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH07XHJcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcobWVtb2l6ZS5DYWNoZSk7XHJcbiAgcmV0dXJuIG1lbW9pemVkO1xyXG59O1xyXG5cclxuLy8gQXNzaWduIGNhY2hlIHRvIGBfLm1lbW9pemVgLlxyXG5tZW1vaXplLkNhY2hlID0gTWFwO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbW1vbi91dGlscy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n") }, function () { eval('/*!\n * mi18n - https://github.com/Draggable/mi18n\n * Version: 0.3.4-beta.1\n * Author: Kevin Chappell <kevin.b.chappell@gmail.com> (http://kevin-chappell.com)\n */\nmodule.exports=function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,n){for(var e,r=0;r<n.length;r++)e=n[r],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(){function t(){var n=this;e(this,t);var r={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",preloaded:{}};this.init=function(t){return n.config=Object.assign({},r,t),n.langs=Object.assign({},n.config.preloaded),n.locale=n.config.locale||n.config.langs[0],n.setCurrent(n.locale)}}return t.prototype.getValue=function(t){return this.current&&this.current[t]||t},t.prototype.makeSafe=function(t){var n={"{":"\\\\{","}":"\\\\}","|":"\\\\|"};return t=t.replace(/\\{|\\}|\\|/g,function(t){return n[t]}),new RegExp(t,"g")},t.prototype.put=function(t,n){return this.current[t]=n},t.prototype.get=function(t,n){var e=this,o=this.getValue(t),i=o.match(/\\{[^\\}]+?\\}/g),u=void 0;if(n&&i)if("object"===(void 0===n?"undefined":r(n)))for(var s=0;s<i.length;s++)u=i[s].substring(1,i[s].length-1),o=o.replace(e.makeSafe(i[s]),n[u]||"");else o=o.replace(/\\{[^\\}]+?\\}/g,n);return o},t.prototype.fromFile=function(t){for(var n,e=t.split("\\n"),r={},o=0;o<e.length;o++)(n=e[o].match(/^(.+?) *?= *?([^\\n]+)/))&&(r[n[1]]=n[2].replace(/^\\s+|\\s+$/,""));return r},t.prototype.processFile=function(t){return this.fromFile(t.replace(/\\n\\n/g,"\\n"))},t.prototype.loadLang=function(t){var n=this;return new Promise(function(e,r){if(n.langs[t])e(n.langs[t]);else{var o=new XMLHttpRequest,i=[n.config.location,t,n.config.extension].join("");o.open("GET",i,!0),o.onload=function(){if(304>=this.status){var i=n.processFile(o.responseText);n.langs[t]=i,e(i)}else r({status:this.status,statusText:o.statusText})},o.onerror=function(){r({status:this.status,statusText:o.statusText})},o.send()}})},t.prototype.setCurrent=function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-US";return this.loadLang(n).then(function(e){return t.locale=n,t.current=t.langs[n],e})},o(t,[{key:"getLangs",get:function(){return this.config.langs}}]),t}();n.default=new i}]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9DOi9Vc2Vycy9lZHdpbi5yb3kvRGVza3RvcC9mb3JtZW8vfi9taTE4bi9kaXN0L21pMThuLm1pbi5qcz9lNmI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogbWkxOG4gLSBodHRwczovL2dpdGh1Yi5jb20vRHJhZ2dhYmxlL21pMThuXG4gKiBWZXJzaW9uOiAwLjMuNC1iZXRhLjFcbiAqIEF1dGhvcjogS2V2aW4gQ2hhcHBlbGwgPGtldmluLmIuY2hhcHBlbGxAZ21haWwuY29tPiAoaHR0cDovL2tldmluLWNoYXBwZWxsLmNvbSlcbiAqL1xubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihyKXtpZihlW3JdKXJldHVybiBlW3JdLmV4cG9ydHM7dmFyIG89ZVtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sPSEwLG8uZXhwb3J0c312YXIgZT17fTtyZXR1cm4gbi5tPXQsbi5jPWUsbi5pPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxuLmQ9ZnVuY3Rpb24odCxlLHIpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LG4pe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbih0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCxuKXtpZighKHQgaW5zdGFuY2VvZiBuKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfW4uX19lc01vZHVsZT0hMDt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG4pe2Zvcih2YXIgZSxyPTA7cjxuLmxlbmd0aDtyKyspZT1uW3JdLGUuZW51bWVyYWJsZT1lLmVudW1lcmFibGV8fCExLGUuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGUmJihlLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLmtleSxlKX1yZXR1cm4gZnVuY3Rpb24obixlLHIpe3JldHVybiBlJiZ0KG4ucHJvdG90eXBlLGUpLHImJnQobixyKSxufX0oKSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBuPXRoaXM7ZSh0aGlzLHQpO3ZhciByPXtleHRlbnNpb246XCIubGFuZ1wiLGxvY2F0aW9uOlwiYXNzZXRzL2xhbmcvXCIsbGFuZ3M6W1wiZW4tVVNcIl0sbG9jYWxlOlwiZW4tVVNcIixwcmVsb2FkZWQ6e319O3RoaXMuaW5pdD1mdW5jdGlvbih0KXtyZXR1cm4gbi5jb25maWc9T2JqZWN0LmFzc2lnbih7fSxyLHQpLG4ubGFuZ3M9T2JqZWN0LmFzc2lnbih7fSxuLmNvbmZpZy5wcmVsb2FkZWQpLG4ubG9jYWxlPW4uY29uZmlnLmxvY2FsZXx8bi5jb25maWcubGFuZ3NbMF0sbi5zZXRDdXJyZW50KG4ubG9jYWxlKX19cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnQmJnRoaXMuY3VycmVudFt0XXx8dH0sdC5wcm90b3R5cGUubWFrZVNhZmU9ZnVuY3Rpb24odCl7dmFyIG49e1wie1wiOlwiXFxcXHtcIixcIn1cIjpcIlxcXFx9XCIsXCJ8XCI6XCJcXFxcfFwifTtyZXR1cm4gdD10LnJlcGxhY2UoL1xce3xcXH18XFx8L2csZnVuY3Rpb24odCl7cmV0dXJuIG5bdF19KSxuZXcgUmVnRXhwKHQsXCJnXCIpfSx0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5jdXJyZW50W3RdPW59LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LG4pe3ZhciBlPXRoaXMsbz10aGlzLmdldFZhbHVlKHQpLGk9by5tYXRjaCgvXFx7W15cXH1dKz9cXH0vZyksdT12b2lkIDA7aWYobiYmaSlpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PW4/XCJ1bmRlZmluZWRcIjpyKG4pKSlmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKyl1PWlbc10uc3Vic3RyaW5nKDEsaVtzXS5sZW5ndGgtMSksbz1vLnJlcGxhY2UoZS5tYWtlU2FmZShpW3NdKSxuW3VdfHxcIlwiKTtlbHNlIG89by5yZXBsYWNlKC9cXHtbXlxcfV0rP1xcfS9nLG4pO3JldHVybiBvfSx0LnByb3RvdHlwZS5mcm9tRmlsZT1mdW5jdGlvbih0KXtmb3IodmFyIG4sZT10LnNwbGl0KFwiXFxuXCIpLHI9e30sbz0wO288ZS5sZW5ndGg7bysrKShuPWVbb10ubWF0Y2goL14oLis/KSAqPz0gKj8oW15cXG5dKykvKSkmJihyW25bMV1dPW5bMl0ucmVwbGFjZSgvXlxccyt8XFxzKyQvLFwiXCIpKTtyZXR1cm4gcn0sdC5wcm90b3R5cGUucHJvY2Vzc0ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJvbUZpbGUodC5yZXBsYWNlKC9cXG5cXG4vZyxcIlxcblwiKSl9LHQucHJvdG90eXBlLmxvYWRMYW5nPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUscil7aWYobi5sYW5nc1t0XSllKG4ubGFuZ3NbdF0pO2Vsc2V7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0LGk9W24uY29uZmlnLmxvY2F0aW9uLHQsbi5jb25maWcuZXh0ZW5zaW9uXS5qb2luKFwiXCIpO28ub3BlbihcIkdFVFwiLGksITApLG8ub25sb2FkPWZ1bmN0aW9uKCl7aWYoMzA0Pj10aGlzLnN0YXR1cyl7dmFyIGk9bi5wcm9jZXNzRmlsZShvLnJlc3BvbnNlVGV4dCk7bi5sYW5nc1t0XT1pLGUoaSl9ZWxzZSByKHtzdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDpvLnN0YXR1c1RleHR9KX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7cih7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6by5zdGF0dXNUZXh0fSl9LG8uc2VuZCgpfX0pfSx0LnByb3RvdHlwZS5zZXRDdXJyZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImVuLVVTXCI7cmV0dXJuIHRoaXMubG9hZExhbmcobikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5sb2NhbGU9bix0LmN1cnJlbnQ9dC5sYW5nc1tuXSxlfSl9LG8odCxbe2tleTpcImdldExhbmdzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmxhbmdzfX1dKSx0fSgpO24uZGVmYXVsdD1uZXcgaX1dKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBDOi9Vc2Vycy9lZHdpbi5yb3kvRGVza3RvcC9mb3JtZW8vfi9taTE4bi9kaXN0L21pMThuLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n') }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar defaults = {\n  formeoLoaded: function formeoLoaded(evt) {},\n  onAdd: function onAdd() {},\n  onUpdate: function onUpdate(evt) {\n    if (events.opts.debug) {\n      console.log(evt);\n    }\n  },\n  onSave: function onSave(evt) {},\n  confirmClearAll: function confirmClearAll(evt) {\n    if (window.confirm(evt.confirmationMessage)) {\n      evt.clearAllAction(evt);\n    }\n  }\n};\n\nvar events = {\n  init: function init(options) {\n    this.opts = Object.assign({}, defaults, options);\n    return this;\n  },\n  formeoSaved: new CustomEvent('formeoSaved', {}),\n  formeoUpdated: new CustomEvent('formeoUpdated', {})\n};\n\ndocument.addEventListener('formeoUpdated', function (evt) {\n  var timeStamp = evt.timeStamp,\n      type = evt.type,\n      data = evt.data;\n\n  var evtData = {\n    timeStamp: timeStamp,\n    type: type,\n    data: data\n  };\n  events.opts.onUpdate(evtData);\n});\n\ndocument.addEventListener('confirmClearAll', function (evt) {\n  evt = {\n    timeStamp: evt.timeStamp,\n    type: evt.type,\n    rowCount: evt.detail.rows.length,\n    confirmationMessage: evt.detail.confirmationMessage,\n    clearAllAction: evt.detail.clearAllAction,\n    btnCoords: evt.detail.btnCoords\n  };\n\n  events.opts.confirmClearAll(evt);\n});\n\ndocument.addEventListener('formeoSaved', function (evt) {\n  evt = {\n    timeStamp: evt.timeStamp,\n    type: evt.type,\n    formData: evt.detail.formData\n  };\n  events.opts.onSave(evt);\n});\n\ndocument.addEventListener('formeoLoaded', function (evt) {\n  events.opts.formeoLoaded(evt.detail.formeo);\n});\n\nexports.default = events;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2V2ZW50cy5qcz83YjQwIl0sInNvdXJjZXNDb250ZW50IjpbIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5cclxuLy8gRGVmYXVsdCBvcHRpb25zXHJcbnZhciBkZWZhdWx0cyA9IHtcclxuICBmb3JtZW9Mb2FkZWQ6IGZ1bmN0aW9uIGZvcm1lb0xvYWRlZChldnQpIHt9LFxyXG4gIG9uQWRkOiBmdW5jdGlvbiBvbkFkZCgpIHt9LFxyXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZShldnQpIHtcclxuICAgIGlmIChldmVudHMub3B0cy5kZWJ1Zykge1xyXG4gICAgICBjb25zb2xlLmxvZyhldnQpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb25TYXZlOiBmdW5jdGlvbiBvblNhdmUoZXZ0KSB7fSxcclxuICBjb25maXJtQ2xlYXJBbGw6IGZ1bmN0aW9uIGNvbmZpcm1DbGVhckFsbChldnQpIHtcclxuICAgIGlmICh3aW5kb3cuY29uZmlybShldnQuY29uZmlybWF0aW9uTWVzc2FnZSkpIHtcclxuICAgICAgZXZ0LmNsZWFyQWxsQWN0aW9uKGV2dCk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEV2ZW50cyBjbGFzcyBpcyB1c2VkIHRvIHJlZ2lzdGVyIGV2ZW50cyBhbmQgdGhyb3R0bGUgdGhlaXIgY2FsbGJhY2tzXHJcbiAqL1xyXG52YXIgZXZlbnRzID0ge1xyXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xyXG4gICAgdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuICBmb3JtZW9TYXZlZDogbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9TYXZlZCcsIHt9KSxcclxuICBmb3JtZW9VcGRhdGVkOiBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7fSlcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Zvcm1lb1VwZGF0ZWQnLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgdmFyIHRpbWVTdGFtcCA9IGV2dC50aW1lU3RhbXAsXHJcbiAgICAgIHR5cGUgPSBldnQudHlwZSxcclxuICAgICAgZGF0YSA9IGV2dC5kYXRhO1xyXG5cclxuICB2YXIgZXZ0RGF0YSA9IHtcclxuICAgIHRpbWVTdGFtcDogdGltZVN0YW1wLFxyXG4gICAgdHlwZTogdHlwZSxcclxuICAgIGRhdGE6IGRhdGFcclxuICB9O1xyXG4gIGV2ZW50cy5vcHRzLm9uVXBkYXRlKGV2dERhdGEpO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbmZpcm1DbGVhckFsbCcsIGZ1bmN0aW9uIChldnQpIHtcclxuICBldnQgPSB7XHJcbiAgICB0aW1lU3RhbXA6IGV2dC50aW1lU3RhbXAsXHJcbiAgICB0eXBlOiBldnQudHlwZSxcclxuICAgIHJvd0NvdW50OiBldnQuZGV0YWlsLnJvd3MubGVuZ3RoLFxyXG4gICAgY29uZmlybWF0aW9uTWVzc2FnZTogZXZ0LmRldGFpbC5jb25maXJtYXRpb25NZXNzYWdlLFxyXG4gICAgY2xlYXJBbGxBY3Rpb246IGV2dC5kZXRhaWwuY2xlYXJBbGxBY3Rpb24sXHJcbiAgICBidG5Db29yZHM6IGV2dC5kZXRhaWwuYnRuQ29vcmRzXHJcbiAgfTtcclxuXHJcbiAgZXZlbnRzLm9wdHMuY29uZmlybUNsZWFyQWxsKGV2dCk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9ybWVvU2F2ZWQnLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgZXZ0ID0ge1xyXG4gICAgdGltZVN0YW1wOiBldnQudGltZVN0YW1wLFxyXG4gICAgdHlwZTogZXZ0LnR5cGUsXHJcbiAgICBmb3JtRGF0YTogZXZ0LmRldGFpbC5mb3JtRGF0YVxyXG4gIH07XHJcbiAgZXZlbnRzLm9wdHMub25TYXZlKGV2dCk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9ybWVvTG9hZGVkJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gIGV2ZW50cy5vcHRzLmZvcm1lb0xvYWRlZChldnQuZGV0YWlsLmZvcm1lbyk7XHJcbiAgLy8gd2luZG93LmNvbnRyb2xOYXYgPSBldnQuZGV0YWlsLmZvcm1lby5jb250cm9scy5jb250cm9sTmF2O1xyXG59KTtcclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IGV2ZW50cztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbW1vbi9ldmVudHMuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n") }, function () { eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory) {\n\t\"use strict\";\n\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof Package !== \"undefined\") {\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function () {\n\t\"use strict\";\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tRSPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tslice = [].slice,\n\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar el,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy\n\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvy && (el.scrollTop += vy * speed);\n\t\t\t\t\t\t\t\tvx && (el.scrollLeft += vx * speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tvar group = options.group;\n\n\t\t\tif (!group || typeof group != 'object') {\n\t\t\t\tgroup = options.group = {name: group};\n\t\t\t}\n\n\t\t\t['pull', 'put'].forEach(function (key) {\n\t\t\t\tif (!(key in group)) {\n\t\t\t\t\tgroup[key] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.groups = ' ' + group.name + (group.put.join ? ' ' + group.put.join(' ') : '') + ' ';\n\t\t}\n\t;\n\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = target,\n\t\t\t\tfilter = options.filter;\n\n\n\t\t\tif (type === 'mousedown' && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get the index of the dragged element within its parent\n\t\t\toldIndex = _index(target);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, oldIndex);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, oldIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = options.group;\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, _this.options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(touch);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Touch */touch) {\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\tgroupName = ' ' + this.options.group.name + '',\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tvar touch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = touch.clientX - tapEvt.clientX,\n\t\t\t\t\tdy = touch.clientY - tapEvt.clientY,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.pull == 'clone') {\n\t\t\t\tcloneEl = dragEl.cloneNode(true);\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\n\t\t\tif (useFallback) {\n\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tgroupPut = group.put,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeGroup && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: activeGroup.pull && groupPut && (\n\t\t\t\t\t\t(activeGroup.name === group.name) || // by Name\n\t\t\t\t\t\t(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(true);\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\n\t\t\t\t) {\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar targetRect = target.getBoundingClientRect(),\n\t\t\t\t\t\twidth = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),\n\t\t\t\t\t\tafter\n\t\t\t\t\t;\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (floating) {\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Remove clone\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\n\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\tif (newIndex === null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Nulling\n\t\t\t\trootEl =\n\t\t\t\tdragEl =\n\t\t\t\tparentEl =\n\t\t\t\tghostEl =\n\t\t\t\tnextEl =\n\t\t\t\tcloneEl =\n\n\t\t\t\tscrollEl =\n\t\t\t\tscrollParentEl =\n\n\t\t\t\ttapEvt =\n\t\t\t\ttouchEvt =\n\n\t\t\t\tmoved =\n\t\t\t\tnewIndex =\n\n\t\t\t\tlastEl =\n\t\t\t\tlastCSS =\n\n\t\t\t\tactiveGroup =\n\t\t\t\tSortable.active = null;\n\t\t\t}\n\t\t},\n\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tvar type = evt.type;\n\n\t\t\tif (type === 'dragover' || type === 'dragenter') {\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type === 'drop' || type === 'dragend') {\n\t\t\t\tthis._onDrop(evt);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(state) {\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\t(tag === '>*' && el.parentNode === ctx) || (\n\t\t\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (el !== ctx && (el = el.parentNode));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = (sortable || rootEl[expando]).options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\treturn ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent\n\t * @param  {HTMLElement} el\n\t * @return {number}\n\t */\n\tfunction _index(el) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif (el.nodeName.toUpperCase() !== 'TEMPLATE') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.4.2';\n\treturn Sortable;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9DOi9Vc2Vycy9lZHdpbi5yb3kvRGVza3RvcC9mb3JtZW8vfi9zb3J0YWJsZWpzL1NvcnRhYmxlLmpzPzU4NjciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIVxuICogU29ydGFibGVcbiAqIEBhdXRob3JcdFJ1YmFYYSAgIDx0cmFzaEBydWJheGEub3JnPlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBQYWNrYWdlICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0U29ydGFibGUgPSBmYWN0b3J5KCk7ICAvLyBleHBvcnQgZm9yIE1ldGVvci5qc1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8qIGpzaGludCBzdWI6dHJ1ZSAqL1xuXHRcdHdpbmRvd1tcIlNvcnRhYmxlXCJdID0gZmFjdG9yeSgpO1xuXHR9XG59KShmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBkcmFnRWwsXG5cdFx0cGFyZW50RWwsXG5cdFx0Z2hvc3RFbCxcblx0XHRjbG9uZUVsLFxuXHRcdHJvb3RFbCxcblx0XHRuZXh0RWwsXG5cblx0XHRzY3JvbGxFbCxcblx0XHRzY3JvbGxQYXJlbnRFbCxcblxuXHRcdGxhc3RFbCxcblx0XHRsYXN0Q1NTLFxuXHRcdGxhc3RQYXJlbnRDU1MsXG5cblx0XHRvbGRJbmRleCxcblx0XHRuZXdJbmRleCxcblxuXHRcdGFjdGl2ZUdyb3VwLFxuXHRcdGF1dG9TY3JvbGwgPSB7fSxcblxuXHRcdHRhcEV2dCxcblx0XHR0b3VjaEV2dCxcblxuXHRcdG1vdmVkLFxuXG5cdFx0LyoqIEBjb25zdCAqL1xuXHRcdFJTUEFDRSA9IC9cXHMrL2csXG5cblx0XHRleHBhbmRvID0gJ1NvcnRhYmxlJyArIChuZXcgRGF0ZSkuZ2V0VGltZSgpLFxuXG5cdFx0d2luID0gd2luZG93LFxuXHRcdGRvY3VtZW50ID0gd2luLmRvY3VtZW50LFxuXHRcdHBhcnNlSW50ID0gd2luLnBhcnNlSW50LFxuXG5cdFx0c3VwcG9ydERyYWdnYWJsZSA9ICEhKCdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcblx0XHRzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyA9IChmdW5jdGlvbiAoZWwpIHtcblx0XHRcdGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgneCcpO1xuXHRcdFx0ZWwuc3R5bGUuY3NzVGV4dCA9ICdwb2ludGVyLWV2ZW50czphdXRvJztcblx0XHRcdHJldHVybiBlbC5zdHlsZS5wb2ludGVyRXZlbnRzID09PSAnYXV0byc7XG5cdFx0fSkoKSxcblxuXHRcdF9zaWxlbnQgPSBmYWxzZSxcblxuXHRcdGFicyA9IE1hdGguYWJzLFxuXHRcdHNsaWNlID0gW10uc2xpY2UsXG5cblx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzID0gW10sXG5cblx0XHRfYXV0b1Njcm9sbCA9IF90aHJvdHRsZShmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCwgLyoqT2JqZWN0Ki9vcHRpb25zLCAvKipIVE1MRWxlbWVudCovcm9vdEVsKSB7XG5cdFx0XHQvLyBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTUwNTUyMVxuXHRcdFx0aWYgKHJvb3RFbCAmJiBvcHRpb25zLnNjcm9sbCkge1xuXHRcdFx0XHR2YXIgZWwsXG5cdFx0XHRcdFx0cmVjdCxcblx0XHRcdFx0XHRzZW5zID0gb3B0aW9ucy5zY3JvbGxTZW5zaXRpdml0eSxcblx0XHRcdFx0XHRzcGVlZCA9IG9wdGlvbnMuc2Nyb2xsU3BlZWQsXG5cblx0XHRcdFx0XHR4ID0gZXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0eSA9IGV2dC5jbGllbnRZLFxuXG5cdFx0XHRcdFx0d2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdFx0XHR3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG5cblx0XHRcdFx0XHR2eCxcblx0XHRcdFx0XHR2eVxuXHRcdFx0XHQ7XG5cblx0XHRcdFx0Ly8gRGVsZWN0IHNjcm9sbEVsXG5cdFx0XHRcdGlmIChzY3JvbGxQYXJlbnRFbCAhPT0gcm9vdEVsKSB7XG5cdFx0XHRcdFx0c2Nyb2xsRWwgPSBvcHRpb25zLnNjcm9sbDtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnRFbCA9IHJvb3RFbDtcblxuXHRcdFx0XHRcdGlmIChzY3JvbGxFbCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0c2Nyb2xsRWwgPSByb290RWw7XG5cblx0XHRcdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcdFx0aWYgKChzY3JvbGxFbC5vZmZzZXRXaWR0aCA8IHNjcm9sbEVsLnNjcm9sbFdpZHRoKSB8fFxuXHRcdFx0XHRcdFx0XHRcdChzY3JvbGxFbC5vZmZzZXRIZWlnaHQgPCBzY3JvbGxFbC5zY3JvbGxIZWlnaHQpXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdFx0XHRcdH0gd2hpbGUgKHNjcm9sbEVsID0gc2Nyb2xsRWwucGFyZW50Tm9kZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNjcm9sbEVsKSB7XG5cdFx0XHRcdFx0ZWwgPSBzY3JvbGxFbDtcblx0XHRcdFx0XHRyZWN0ID0gc2Nyb2xsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0dnggPSAoYWJzKHJlY3QucmlnaHQgLSB4KSA8PSBzZW5zKSAtIChhYnMocmVjdC5sZWZ0IC0geCkgPD0gc2Vucyk7XG5cdFx0XHRcdFx0dnkgPSAoYWJzKHJlY3QuYm90dG9tIC0geSkgPD0gc2VucykgLSAoYWJzKHJlY3QudG9wIC0geSkgPD0gc2Vucyk7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmICghKHZ4IHx8IHZ5KSkge1xuXHRcdFx0XHRcdHZ4ID0gKHdpbldpZHRoIC0geCA8PSBzZW5zKSAtICh4IDw9IHNlbnMpO1xuXHRcdFx0XHRcdHZ5ID0gKHdpbkhlaWdodCAtIHkgPD0gc2VucykgLSAoeSA8PSBzZW5zKTtcblxuXHRcdFx0XHRcdC8qIGpzaGludCBleHByOnRydWUgKi9cblx0XHRcdFx0XHQodnggfHwgdnkpICYmIChlbCA9IHdpbik7XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdGlmIChhdXRvU2Nyb2xsLnZ4ICE9PSB2eCB8fCBhdXRvU2Nyb2xsLnZ5ICE9PSB2eSB8fCBhdXRvU2Nyb2xsLmVsICE9PSBlbCkge1xuXHRcdFx0XHRcdGF1dG9TY3JvbGwuZWwgPSBlbDtcblx0XHRcdFx0XHRhdXRvU2Nyb2xsLnZ4ID0gdng7XG5cdFx0XHRcdFx0YXV0b1Njcm9sbC52eSA9IHZ5O1xuXG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG5cblx0XHRcdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0XHRcdGF1dG9TY3JvbGwucGlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZWwgPT09IHdpbikge1xuXHRcdFx0XHRcdFx0XHRcdHdpbi5zY3JvbGxUbyh3aW4ucGFnZVhPZmZzZXQgKyB2eCAqIHNwZWVkLCB3aW4ucGFnZVlPZmZzZXQgKyB2eSAqIHNwZWVkKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR2eSAmJiAoZWwuc2Nyb2xsVG9wICs9IHZ5ICogc3BlZWQpO1xuXHRcdFx0XHRcdFx0XHRcdHZ4ICYmIChlbC5zY3JvbGxMZWZ0ICs9IHZ4ICogc3BlZWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCAyNCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSwgMzApLFxuXG5cdFx0X3ByZXBhcmVHcm91cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0XHR2YXIgZ3JvdXAgPSBvcHRpb25zLmdyb3VwO1xuXG5cdFx0XHRpZiAoIWdyb3VwIHx8IHR5cGVvZiBncm91cCAhPSAnb2JqZWN0Jykge1xuXHRcdFx0XHRncm91cCA9IG9wdGlvbnMuZ3JvdXAgPSB7bmFtZTogZ3JvdXB9O1xuXHRcdFx0fVxuXG5cdFx0XHRbJ3B1bGwnLCAncHV0J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiBncm91cCkpIHtcblx0XHRcdFx0XHRncm91cFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdG9wdGlvbnMuZ3JvdXBzID0gJyAnICsgZ3JvdXAubmFtZSArIChncm91cC5wdXQuam9pbiA/ICcgJyArIGdyb3VwLnB1dC5qb2luKCcgJykgOiAnJykgKyAnICc7XG5cdFx0fVxuXHQ7XG5cblxuXG5cdC8qKlxuXHQgKiBAY2xhc3MgIFNvcnRhYmxlXG5cdCAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSAgZWxcblx0ICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9uc11cblx0ICovXG5cdGZ1bmN0aW9uIFNvcnRhYmxlKGVsLCBvcHRpb25zKSB7XG5cdFx0aWYgKCEoZWwgJiYgZWwubm9kZVR5cGUgJiYgZWwubm9kZVR5cGUgPT09IDEpKSB7XG5cdFx0XHR0aHJvdyAnU29ydGFibGU6IGBlbGAgbXVzdCBiZSBIVE1MRWxlbWVudCwgYW5kIG5vdCAnICsge30udG9TdHJpbmcuY2FsbChlbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbCA9IGVsOyAvLyByb290IGVsZW1lbnRcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gX2V4dGVuZCh7fSwgb3B0aW9ucyk7XG5cblxuXHRcdC8vIEV4cG9ydCBpbnN0YW5jZVxuXHRcdGVsW2V4cGFuZG9dID0gdGhpcztcblxuXG5cdFx0Ly8gRGVmYXVsdCBvcHRpb25zXG5cdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0Z3JvdXA6IE1hdGgucmFuZG9tKCksXG5cdFx0XHRzb3J0OiB0cnVlLFxuXHRcdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXHRcdFx0c3RvcmU6IG51bGwsXG5cdFx0XHRoYW5kbGU6IG51bGwsXG5cdFx0XHRzY3JvbGw6IHRydWUsXG5cdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogMzAsXG5cdFx0XHRzY3JvbGxTcGVlZDogMTAsXG5cdFx0XHRkcmFnZ2FibGU6IC9bdW9dbC9pLnRlc3QoZWwubm9kZU5hbWUpID8gJ2xpJyA6ICc+KicsXG5cdFx0XHRnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLFxuXHRcdFx0Y2hvc2VuQ2xhc3M6ICdzb3J0YWJsZS1jaG9zZW4nLFxuXHRcdFx0aWdub3JlOiAnYSwgaW1nJyxcblx0XHRcdGZpbHRlcjogbnVsbCxcblx0XHRcdGFuaW1hdGlvbjogMCxcblx0XHRcdHNldERhdGE6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuXHRcdFx0XHRkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG5cdFx0XHR9LFxuXHRcdFx0ZHJvcEJ1YmJsZTogZmFsc2UsXG5cdFx0XHRkcmFnb3ZlckJ1YmJsZTogZmFsc2UsXG5cdFx0XHRkYXRhSWRBdHRyOiAnZGF0YS1pZCcsXG5cdFx0XHRkZWxheTogMCxcblx0XHRcdGZvcmNlRmFsbGJhY2s6IGZhbHNlLFxuXHRcdFx0ZmFsbGJhY2tDbGFzczogJ3NvcnRhYmxlLWZhbGxiYWNrJyxcblx0XHRcdGZhbGxiYWNrT25Cb2R5OiBmYWxzZVxuXHRcdH07XG5cblxuXHRcdC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcblx0XHRmb3IgKHZhciBuYW1lIGluIGRlZmF1bHRzKSB7XG5cdFx0XHQhKG5hbWUgaW4gb3B0aW9ucykgJiYgKG9wdGlvbnNbbmFtZV0gPSBkZWZhdWx0c1tuYW1lXSk7XG5cdFx0fVxuXG5cdFx0X3ByZXBhcmVHcm91cChvcHRpb25zKTtcblxuXHRcdC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXHRcdGZvciAodmFyIGZuIGluIHRoaXMpIHtcblx0XHRcdGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJykge1xuXHRcdFx0XHR0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0dXAgZHJhZyBtb2RlXG5cdFx0dGhpcy5uYXRpdmVEcmFnZ2FibGUgPSBvcHRpb25zLmZvcmNlRmFsbGJhY2sgPyBmYWxzZSA6IHN1cHBvcnREcmFnZ2FibGU7XG5cblx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdF9vbihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdF9vbihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuXHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0X29uKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcblx0XHRcdF9vbihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuXHRcdH1cblxuXHRcdHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMucHVzaCh0aGlzLl9vbkRyYWdPdmVyKTtcblxuXHRcdC8vIFJlc3RvcmUgc29ydGluZ1xuXHRcdG9wdGlvbnMuc3RvcmUgJiYgdGhpcy5zb3J0KG9wdGlvbnMuc3RvcmUuZ2V0KHRoaXMpKTtcblx0fVxuXG5cblx0U29ydGFibGUucHJvdG90eXBlID0gLyoqIEBsZW5kcyBTb3J0YWJsZS5wcm90b3R5cGUgKi8ge1xuXHRcdGNvbnN0cnVjdG9yOiBTb3J0YWJsZSxcblxuXHRcdF9vblRhcFN0YXJ0OiBmdW5jdGlvbiAoLyoqIEV2ZW50fFRvdWNoRXZlbnQgKi9ldnQpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXMsXG5cdFx0XHRcdGVsID0gdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdFx0dHlwZSA9IGV2dC50eXBlLFxuXHRcdFx0XHR0b3VjaCA9IGV2dC50b3VjaGVzICYmIGV2dC50b3VjaGVzWzBdLFxuXHRcdFx0XHR0YXJnZXQgPSAodG91Y2ggfHwgZXZ0KS50YXJnZXQsXG5cdFx0XHRcdG9yaWdpbmFsVGFyZ2V0ID0gdGFyZ2V0LFxuXHRcdFx0XHRmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcblxuXG5cdFx0XHRpZiAodHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZ0LmJ1dHRvbiAhPT0gMCB8fCBvcHRpb25zLmRpc2FibGVkKSB7XG5cdFx0XHRcdHJldHVybjsgLy8gb25seSBsZWZ0IGJ1dHRvbiBvciBlbmFibGVkXG5cdFx0XHR9XG5cblx0XHRcdHRhcmdldCA9IF9jbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsKTtcblxuXHRcdFx0aWYgKCF0YXJnZXQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBnZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0XHRcdG9sZEluZGV4ID0gX2luZGV4KHRhcmdldCk7XG5cblx0XHRcdC8vIENoZWNrIGZpbHRlclxuXHRcdFx0aWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0aWYgKGZpbHRlci5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCB0aGlzKSkge1xuXHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCBvcmlnaW5hbFRhcmdldCwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIG9sZEluZGV4KTtcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47IC8vIGNhbmNlbCBkbmRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZmlsdGVyKSB7XG5cdFx0XHRcdGZpbHRlciA9IGZpbHRlci5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0Y3JpdGVyaWEgPSBfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgY3JpdGVyaWEudHJpbSgpLCBlbCk7XG5cblx0XHRcdFx0XHRpZiAoY3JpdGVyaWEpIHtcblx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KF90aGlzLCBjcml0ZXJpYSwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIG9sZEluZGV4KTtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKGZpbHRlcikge1xuXHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjsgLy8gY2FuY2VsIGRuZFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKG9wdGlvbnMuaGFuZGxlICYmICFfY2xvc2VzdChvcmlnaW5hbFRhcmdldCwgb3B0aW9ucy5oYW5kbGUsIGVsKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblxuXHRcdFx0Ly8gUHJlcGFyZSBgZHJhZ3N0YXJ0YFxuXHRcdFx0dGhpcy5fcHJlcGFyZURyYWdTdGFydChldnQsIHRvdWNoLCB0YXJnZXQpO1xuXHRcdH0sXG5cblx0XHRfcHJlcGFyZURyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudCAqL2V2dCwgLyoqIFRvdWNoICovdG91Y2gsIC8qKiBIVE1MRWxlbWVudCAqL3RhcmdldCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcyxcblx0XHRcdFx0ZWwgPSBfdGhpcy5lbCxcblx0XHRcdFx0b3B0aW9ucyA9IF90aGlzLm9wdGlvbnMsXG5cdFx0XHRcdG93bmVyRG9jdW1lbnQgPSBlbC5vd25lckRvY3VtZW50LFxuXHRcdFx0XHRkcmFnU3RhcnRGbjtcblxuXHRcdFx0aWYgKHRhcmdldCAmJiAhZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpKSB7XG5cdFx0XHRcdHRhcEV2dCA9IGV2dDtcblxuXHRcdFx0XHRyb290RWwgPSBlbDtcblx0XHRcdFx0ZHJhZ0VsID0gdGFyZ2V0O1xuXHRcdFx0XHRwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlO1xuXHRcdFx0XHRuZXh0RWwgPSBkcmFnRWwubmV4dFNpYmxpbmc7XG5cdFx0XHRcdGFjdGl2ZUdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuXHRcdFx0XHRkcmFnU3RhcnRGbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQvLyBEZWxheWVkIGRyYWcgaGFzIGJlZW4gdHJpZ2dlcmVkXG5cdFx0XHRcdFx0Ly8gd2UgY2FuIHJlLWVuYWJsZSB0aGUgZXZlbnRzOiB0b3VjaG1vdmUvbW91c2Vtb3ZlXG5cdFx0XHRcdFx0X3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZygpO1xuXG5cdFx0XHRcdFx0Ly8gTWFrZSB0aGUgZWxlbWVudCBkcmFnZ2FibGVcblx0XHRcdFx0XHRkcmFnRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdC8vIENob3NlbiBpdGVtXG5cdFx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgX3RoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0XHQvLyBCaW5kIHRoZSBldmVudHM6IGRyYWdzdGFydC9kcmFnZW5kXG5cdFx0XHRcdFx0X3RoaXMuX3RyaWdnZXJEcmFnU3RhcnQodG91Y2gpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuXHRcdFx0XHRvcHRpb25zLmlnbm9yZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0X2ZpbmQoZHJhZ0VsLCBjcml0ZXJpYS50cmltKCksIF9kaXNhYmxlRHJhZ2dhYmxlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9vbkRyb3ApO1xuXG5cdFx0XHRcdGlmIChvcHRpb25zLmRlbGF5KSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIHVzZXIgbW92ZXMgdGhlIHBvaW50ZXIgb3IgbGV0IGdvIHRoZSBjbGljayBvciB0b3VjaFxuXHRcdFx0XHRcdC8vIGJlZm9yZSB0aGUgZGVsYXkgaGFzIGJlZW4gcmVhY2hlZDpcblx0XHRcdFx0XHQvLyBkaXNhYmxlIHRoZSBkZWxheWVkIGRyYWdcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ21vdXNldXAnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblxuXHRcdFx0XHRcdF90aGlzLl9kcmFnU3RhcnRUaW1lciA9IHNldFRpbWVvdXQoZHJhZ1N0YXJ0Rm4sIG9wdGlvbnMuZGVsYXkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRyYWdTdGFydEZuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2Rpc2FibGVEZWxheWVkRHJhZzogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdH0sXG5cblx0XHRfdHJpZ2dlckRyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBUb3VjaCAqL3RvdWNoKSB7XG5cdFx0XHRpZiAodG91Y2gpIHtcblx0XHRcdFx0Ly8gVG91Y2ggZGV2aWNlIHN1cHBvcnRcblx0XHRcdFx0dGFwRXZ0ID0ge1xuXHRcdFx0XHRcdHRhcmdldDogZHJhZ0VsLFxuXHRcdFx0XHRcdGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXG5cdFx0XHRcdFx0Y2xpZW50WTogdG91Y2guY2xpZW50WVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRoaXMuX29uRHJhZ1N0YXJ0KHRhcEV2dCwgJ3RvdWNoJyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdFx0dGhpcy5fb25EcmFnU3RhcnQodGFwRXZ0LCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRfb24oZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuXHRcdFx0XHRfb24ocm9vdEVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2RyYWdTdGFydGVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAocm9vdEVsICYmIGRyYWdFbCkge1xuXHRcdFx0XHQvLyBBcHBseSBlZmZlY3Rcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdFNvcnRhYmxlLmFjdGl2ZSA9IHRoaXM7XG5cblx0XHRcdFx0Ly8gRHJhZyBzdGFydCBldmVudFxuXHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzdGFydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9lbXVsYXRlRHJhZ092ZXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0b3VjaEV2dCkge1xuXHRcdFx0XHRpZiAodGhpcy5fbGFzdFggPT09IHRvdWNoRXZ0LmNsaWVudFggJiYgdGhpcy5fbGFzdFkgPT09IHRvdWNoRXZ0LmNsaWVudFkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9sYXN0WCA9IHRvdWNoRXZ0LmNsaWVudFg7XG5cdFx0XHRcdHRoaXMuX2xhc3RZID0gdG91Y2hFdnQuY2xpZW50WTtcblxuXHRcdFx0XHRpZiAoIXN1cHBvcnRDc3NQb2ludGVyRXZlbnRzKSB7XG5cdFx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b3VjaEV2dC5jbGllbnRYLCB0b3VjaEV2dC5jbGllbnRZKSxcblx0XHRcdFx0XHRwYXJlbnQgPSB0YXJnZXQsXG5cdFx0XHRcdFx0Z3JvdXBOYW1lID0gJyAnICsgdGhpcy5vcHRpb25zLmdyb3VwLm5hbWUgKyAnJyxcblx0XHRcdFx0XHRpID0gdG91Y2hEcmFnT3Zlckxpc3RlbmVycy5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcdGlmIChwYXJlbnRbZXhwYW5kb10gJiYgcGFyZW50W2V4cGFuZG9dLm9wdGlvbnMuZ3JvdXBzLmluZGV4T2YoZ3JvdXBOYW1lKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdFx0XHRcdFx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzW2ldKHtcblx0XHRcdFx0XHRcdFx0XHRcdGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRZOiB0b3VjaEV2dC5jbGllbnRZLFxuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0OiB0YXJnZXQsXG5cdFx0XHRcdFx0XHRcdFx0XHRyb290RWw6IHBhcmVudFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRhcmdldCA9IHBhcmVudDsgLy8gc3RvcmUgbGFzdCBlbGVtZW50XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8qIGpzaGludCBib3NzOnRydWUgKi9cblx0XHRcdFx0XHR3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uICgvKipUb3VjaEV2ZW50Ki9ldnQpIHtcblx0XHRcdGlmICh0YXBFdnQpIHtcblx0XHRcdFx0Ly8gb25seSBzZXQgdGhlIHN0YXR1cyB0byBkcmFnZ2luZywgd2hlbiB3ZSBhcmUgYWN0dWFsbHkgZHJhZ2dpbmdcblx0XHRcdFx0aWYgKCFTb3J0YWJsZS5hY3RpdmUpIHtcblx0XHRcdFx0XHR0aGlzLl9kcmFnU3RhcnRlZCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gYXMgd2VsbCBhcyBjcmVhdGluZyB0aGUgZ2hvc3QgZWxlbWVudCBvbiB0aGUgZG9jdW1lbnQgYm9keVxuXHRcdFx0XHR0aGlzLl9hcHBlbmRHaG9zdCgpO1xuXG5cdFx0XHRcdHZhciB0b3VjaCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQsXG5cdFx0XHRcdFx0ZHggPSB0b3VjaC5jbGllbnRYIC0gdGFwRXZ0LmNsaWVudFgsXG5cdFx0XHRcdFx0ZHkgPSB0b3VjaC5jbGllbnRZIC0gdGFwRXZ0LmNsaWVudFksXG5cdFx0XHRcdFx0dHJhbnNsYXRlM2QgPSBldnQudG91Y2hlcyA/ICd0cmFuc2xhdGUzZCgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4LDApJyA6ICd0cmFuc2xhdGUoJyArIGR4ICsgJ3B4LCcgKyBkeSArICdweCknO1xuXG5cdFx0XHRcdG1vdmVkID0gdHJ1ZTtcblx0XHRcdFx0dG91Y2hFdnQgPSB0b3VjaDtcblxuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3ZWJraXRUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ21velRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbXNUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3RyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcblxuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2FwcGVuZEdob3N0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIWdob3N0RWwpIHtcblx0XHRcdFx0dmFyIHJlY3QgPSBkcmFnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0XHRcdFx0Y3NzID0gX2NzcyhkcmFnRWwpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdFx0Z2hvc3RSZWN0O1xuXG5cdFx0XHRcdGdob3N0RWwgPSBkcmFnRWwuY2xvbmVOb2RlKHRydWUpO1xuXG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcblx0XHRcdFx0X3RvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZmFsbGJhY2tDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAndG9wJywgcmVjdC50b3AgLSBwYXJzZUludChjc3MubWFyZ2luVG9wLCAxMCkpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdsZWZ0JywgcmVjdC5sZWZ0IC0gcGFyc2VJbnQoY3NzLm1hcmdpbkxlZnQsIDEwKSk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3dpZHRoJywgcmVjdC53aWR0aCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0KTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnb3BhY2l0eScsICcwLjgnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAncG9zaXRpb24nLCAnZml4ZWQnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnekluZGV4JywgJzEwMDAwMCcpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdwb2ludGVyRXZlbnRzJywgJ25vbmUnKTtcblxuXHRcdFx0XHRvcHRpb25zLmZhbGxiYWNrT25Cb2R5ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2hvc3RFbCkgfHwgcm9vdEVsLmFwcGVuZENoaWxkKGdob3N0RWwpO1xuXG5cdFx0XHRcdC8vIEZpeGluZyBkaW1lbnNpb25zLlxuXHRcdFx0XHRnaG9zdFJlY3QgPSBnaG9zdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGggKiAyIC0gZ2hvc3RSZWN0LndpZHRoKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQgKiAyIC0gZ2hvc3RSZWN0LmhlaWdodCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQsIC8qKmJvb2xlYW4qL3VzZUZhbGxiYWNrKSB7XG5cdFx0XHR2YXIgZGF0YVRyYW5zZmVyID0gZXZ0LmRhdGFUcmFuc2Zlcixcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0dGhpcy5fb2ZmVXBFdmVudHMoKTtcblxuXHRcdFx0aWYgKGFjdGl2ZUdyb3VwLnB1bGwgPT0gJ2Nsb25lJykge1xuXHRcdFx0XHRjbG9uZUVsID0gZHJhZ0VsLmNsb25lTm9kZSh0cnVlKTtcblx0XHRcdFx0X2NzcyhjbG9uZUVsLCAnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHRcdHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHVzZUZhbGxiYWNrKSB7XG5cblx0XHRcdFx0aWYgKHVzZUZhbGxiYWNrID09PSAndG91Y2gnKSB7XG5cdFx0XHRcdFx0Ly8gQmluZCB0b3VjaCBldmVudHNcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBPbGQgYnJ3b3NlclxuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX2xvb3BJZCA9IHNldEludGVydmFsKHRoaXMuX2VtdWxhdGVEcmFnT3ZlciwgNTApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmIChkYXRhVHJhbnNmZXIpIHtcblx0XHRcdFx0XHRkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcblx0XHRcdFx0XHRvcHRpb25zLnNldERhdGEgJiYgb3B0aW9ucy5zZXREYXRhLmNhbGwodGhpcywgZGF0YVRyYW5zZmVyLCBkcmFnRWwpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X29uKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KHRoaXMuX2RyYWdTdGFydGVkLCAwKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X29uRHJhZ092ZXI6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHR0YXJnZXQsXG5cdFx0XHRcdGRyYWdSZWN0LFxuXHRcdFx0XHRyZXZlcnQsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdGdyb3VwID0gb3B0aW9ucy5ncm91cCxcblx0XHRcdFx0Z3JvdXBQdXQgPSBncm91cC5wdXQsXG5cdFx0XHRcdGlzT3duZXIgPSAoYWN0aXZlR3JvdXAgPT09IGdyb3VwKSxcblx0XHRcdFx0Y2FuU29ydCA9IG9wdGlvbnMuc29ydDtcblxuXHRcdFx0aWYgKGV2dC5wcmV2ZW50RGVmYXVsdCAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHQhb3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cblx0XHRcdG1vdmVkID0gdHJ1ZTtcblxuXHRcdFx0aWYgKGFjdGl2ZUdyb3VwICYmICFvcHRpb25zLmRpc2FibGVkICYmXG5cdFx0XHRcdChpc093bmVyXG5cdFx0XHRcdFx0PyBjYW5Tb3J0IHx8IChyZXZlcnQgPSAhcm9vdEVsLmNvbnRhaW5zKGRyYWdFbCkpIC8vIFJldmVydGluZyBpdGVtIGludG8gdGhlIG9yaWdpbmFsIGxpc3Rcblx0XHRcdFx0XHQ6IGFjdGl2ZUdyb3VwLnB1bGwgJiYgZ3JvdXBQdXQgJiYgKFxuXHRcdFx0XHRcdFx0KGFjdGl2ZUdyb3VwLm5hbWUgPT09IGdyb3VwLm5hbWUpIHx8IC8vIGJ5IE5hbWVcblx0XHRcdFx0XHRcdChncm91cFB1dC5pbmRleE9mICYmIH5ncm91cFB1dC5pbmRleE9mKGFjdGl2ZUdyb3VwLm5hbWUpKSAvLyBieSBBcnJheVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KSAmJlxuXHRcdFx0XHQoZXZ0LnJvb3RFbCA9PT0gdm9pZCAwIHx8IGV2dC5yb290RWwgPT09IHRoaXMuZWwpIC8vIHRvdWNoIGZhbGxiYWNrXG5cdFx0XHQpIHtcblx0XHRcdFx0Ly8gU21hcnQgYXV0by1zY3JvbGxpbmdcblx0XHRcdFx0X2F1dG9TY3JvbGwoZXZ0LCBvcHRpb25zLCB0aGlzLmVsKTtcblxuXHRcdFx0XHRpZiAoX3NpbGVudCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRhcmdldCA9IF9jbG9zZXN0KGV2dC50YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCk7XG5cdFx0XHRcdGRyYWdSZWN0ID0gZHJhZ0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdGlmIChyZXZlcnQpIHtcblx0XHRcdFx0XHRfY2xvbmVIaWRlKHRydWUpO1xuXG5cdFx0XHRcdFx0aWYgKGNsb25lRWwgfHwgbmV4dEVsKSB7XG5cdFx0XHRcdFx0XHRyb290RWwuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgY2xvbmVFbCB8fCBuZXh0RWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICghY2FuU29ydCkge1xuXHRcdFx0XHRcdFx0cm9vdEVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoKGVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgfHwgKGVsLmNoaWxkcmVuWzBdID09PSBnaG9zdEVsKSB8fFxuXHRcdFx0XHRcdChlbCA9PT0gZXZ0LnRhcmdldCkgJiYgKHRhcmdldCA9IF9naG9zdElzTGFzdChlbCwgZXZ0KSlcblx0XHRcdFx0KSB7XG5cblx0XHRcdFx0XHRpZiAodGFyZ2V0KSB7XG5cdFx0XHRcdFx0XHRpZiAodGFyZ2V0LmFuaW1hdGVkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfY2xvbmVIaWRlKGlzT3duZXIpO1xuXG5cdFx0XHRcdFx0aWYgKF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0KSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdGlmICghZHJhZ0VsLmNvbnRhaW5zKGVsKSkge1xuXHRcdFx0XHRcdFx0XHRlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdFx0XHRwYXJlbnRFbCA9IGVsOyAvLyBhY3R1YWxpemF0aW9uXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRoaXMuX2FuaW1hdGUoZHJhZ1JlY3QsIGRyYWdFbCk7XG5cdFx0XHRcdFx0XHR0YXJnZXQgJiYgdGhpcy5fYW5pbWF0ZSh0YXJnZXRSZWN0LCB0YXJnZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICh0YXJnZXQgJiYgIXRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQgIT09IGRyYWdFbCAmJiAodGFyZ2V0LnBhcmVudE5vZGVbZXhwYW5kb10gIT09IHZvaWQgMCkpIHtcblx0XHRcdFx0XHRpZiAobGFzdEVsICE9PSB0YXJnZXQpIHtcblx0XHRcdFx0XHRcdGxhc3RFbCA9IHRhcmdldDtcblx0XHRcdFx0XHRcdGxhc3RDU1MgPSBfY3NzKHRhcmdldCk7XG5cdFx0XHRcdFx0XHRsYXN0UGFyZW50Q1NTID0gX2Nzcyh0YXJnZXQucGFyZW50Tm9kZSk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0XHR2YXIgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcblx0XHRcdFx0XHRcdHdpZHRoID0gdGFyZ2V0UmVjdC5yaWdodCAtIHRhcmdldFJlY3QubGVmdCxcblx0XHRcdFx0XHRcdGhlaWdodCA9IHRhcmdldFJlY3QuYm90dG9tIC0gdGFyZ2V0UmVjdC50b3AsXG5cdFx0XHRcdFx0XHRmbG9hdGluZyA9IC9sZWZ0fHJpZ2h0fGlubGluZS8udGVzdChsYXN0Q1NTLmNzc0Zsb2F0ICsgbGFzdENTUy5kaXNwbGF5KVxuXHRcdFx0XHRcdFx0XHR8fCAobGFzdFBhcmVudENTUy5kaXNwbGF5ID09ICdmbGV4JyAmJiBsYXN0UGFyZW50Q1NTWydmbGV4LWRpcmVjdGlvbiddLmluZGV4T2YoJ3JvdycpID09PSAwKSxcblx0XHRcdFx0XHRcdGlzV2lkZSA9ICh0YXJnZXQub2Zmc2V0V2lkdGggPiBkcmFnRWwub2Zmc2V0V2lkdGgpLFxuXHRcdFx0XHRcdFx0aXNMb25nID0gKHRhcmdldC5vZmZzZXRIZWlnaHQgPiBkcmFnRWwub2Zmc2V0SGVpZ2h0KSxcblx0XHRcdFx0XHRcdGhhbGZ3YXkgPSAoZmxvYXRpbmcgPyAoZXZ0LmNsaWVudFggLSB0YXJnZXRSZWN0LmxlZnQpIC8gd2lkdGggOiAoZXZ0LmNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcCkgLyBoZWlnaHQpID4gMC41LFxuXHRcdFx0XHRcdFx0bmV4dFNpYmxpbmcgPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLFxuXHRcdFx0XHRcdFx0bW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0KSxcblx0XHRcdFx0XHRcdGFmdGVyXG5cdFx0XHRcdFx0O1xuXG5cdFx0XHRcdFx0aWYgKG1vdmVWZWN0b3IgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRfc2lsZW50ID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoX3Vuc2lsZW50LCAzMCk7XG5cblx0XHRcdFx0XHRcdF9jbG9uZUhpZGUoaXNPd25lcik7XG5cblx0XHRcdFx0XHRcdGlmIChtb3ZlVmVjdG9yID09PSAxIHx8IG1vdmVWZWN0b3IgPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdGFmdGVyID0gKG1vdmVWZWN0b3IgPT09IDEpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoZmxvYXRpbmcpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGVsVG9wID0gZHJhZ0VsLm9mZnNldFRvcCxcblx0XHRcdFx0XHRcdFx0XHR0Z1RvcCA9IHRhcmdldC5vZmZzZXRUb3A7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGVsVG9wID09PSB0Z1RvcCkge1xuXHRcdFx0XHRcdFx0XHRcdGFmdGVyID0gKHRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09PSBkcmFnRWwpICYmICFpc1dpZGUgfHwgaGFsZndheSAmJiBpc1dpZGU7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSB0Z1RvcCA+IGVsVG9wO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhZnRlciA9IChuZXh0U2libGluZyAhPT0gZHJhZ0VsKSAmJiAhaXNMb25nIHx8IGhhbGZ3YXkgJiYgaXNMb25nO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIWRyYWdFbC5jb250YWlucyhlbCkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGFmdGVyICYmICFuZXh0U2libGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRyYWdFbCwgYWZ0ZXIgPyBuZXh0U2libGluZyA6IHRhcmdldCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTsgLy8gYWN0dWFsaXphdGlvblxuXG5cdFx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKGRyYWdSZWN0LCBkcmFnRWwpO1xuXHRcdFx0XHRcdFx0dGhpcy5fYW5pbWF0ZSh0YXJnZXRSZWN0LCB0YXJnZXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfYW5pbWF0ZTogZnVuY3Rpb24gKHByZXZSZWN0LCB0YXJnZXQpIHtcblx0XHRcdHZhciBtcyA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG5cblx0XHRcdGlmIChtcykge1xuXHRcdFx0XHR2YXIgY3VycmVudFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJ25vbmUnKTtcblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJ1xuXHRcdFx0XHRcdCsgKHByZXZSZWN0LmxlZnQgLSBjdXJyZW50UmVjdC5sZWZ0KSArICdweCwnXG5cdFx0XHRcdFx0KyAocHJldlJlY3QudG9wIC0gY3VycmVudFJlY3QudG9wKSArICdweCwwKSdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHR0YXJnZXQub2Zmc2V0V2lkdGg7IC8vIHJlcGFpbnRcblxuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnYWxsICcgKyBtcyArICdtcycpO1xuXHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCknKTtcblxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGVkKTtcblx0XHRcdFx0dGFyZ2V0LmFuaW1hdGVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJycpO1xuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJycpO1xuXHRcdFx0XHRcdHRhcmdldC5hbmltYXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9LCBtcyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vZmZVcEV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdF9vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcblx0XHR9LFxuXG5cdFx0X29uRHJvcDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciBlbCA9IHRoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5fbG9vcElkKTtcblx0XHRcdGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbC5waWQpO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdTdGFydFRpbWVyKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGV2ZW50c1xuXHRcdFx0X29mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcblxuXHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdF9vZmYoZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cblx0XHRcdGlmIChldnQpIHtcblx0XHRcdFx0aWYgKG1vdmVkKSB7XG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0IW9wdGlvbnMuZHJvcEJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRnaG9zdEVsICYmIGdob3N0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcblxuXHRcdFx0XHRpZiAoZHJhZ0VsKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdFx0XHRfb2ZmKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGNsYXNzJ3Ncblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuXG5cdFx0XHRcdFx0aWYgKHJvb3RFbCAhPT0gcGFyZW50RWwpIHtcblx0XHRcdFx0XHRcdG5ld0luZGV4ID0gX2luZGV4KGRyYWdFbCk7XG5cblx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGRyYWcgZnJvbSBvbmUgbGlzdCBhbmQgZHJvcCBpbnRvIGFub3RoZXJcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQobnVsbCwgcGFyZW50RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3NvcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBBZGQgZXZlbnRcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQobnVsbCwgcGFyZW50RWwsICdhZGQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZW1vdmUgZXZlbnRcblx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAncmVtb3ZlJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGNsb25lXG5cdFx0XHRcdFx0XHRjbG9uZUVsICYmIGNsb25lRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZUVsKTtcblxuXHRcdFx0XHRcdFx0aWYgKGRyYWdFbC5uZXh0U2libGluZyAhPT0gbmV4dEVsKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXHRcdFx0XHRcdFx0XHRuZXdJbmRleCA9IF9pbmRleChkcmFnRWwpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChuZXdJbmRleCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gZHJhZyAmIGRyb3Agd2l0aGluIHRoZSBzYW1lIGxpc3Rcblx0XHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICd1cGRhdGUnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblx0XHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoU29ydGFibGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPT09IG51bGwgfHwgbmV3SW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdG5ld0luZGV4ID0gb2xkSW5kZXg7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ2VuZCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXG5cdFx0XHRcdFx0XHQvLyBTYXZlIHNvcnRpbmdcblx0XHRcdFx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE51bGxpbmdcblx0XHRcdFx0cm9vdEVsID1cblx0XHRcdFx0ZHJhZ0VsID1cblx0XHRcdFx0cGFyZW50RWwgPVxuXHRcdFx0XHRnaG9zdEVsID1cblx0XHRcdFx0bmV4dEVsID1cblx0XHRcdFx0Y2xvbmVFbCA9XG5cblx0XHRcdFx0c2Nyb2xsRWwgPVxuXHRcdFx0XHRzY3JvbGxQYXJlbnRFbCA9XG5cblx0XHRcdFx0dGFwRXZ0ID1cblx0XHRcdFx0dG91Y2hFdnQgPVxuXG5cdFx0XHRcdG1vdmVkID1cblx0XHRcdFx0bmV3SW5kZXggPVxuXG5cdFx0XHRcdGxhc3RFbCA9XG5cdFx0XHRcdGxhc3RDU1MgPVxuXG5cdFx0XHRcdGFjdGl2ZUdyb3VwID1cblx0XHRcdFx0U29ydGFibGUuYWN0aXZlID0gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXG5cblx0XHRoYW5kbGVFdmVudDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRcdHZhciB0eXBlID0gZXZ0LnR5cGU7XG5cblx0XHRcdGlmICh0eXBlID09PSAnZHJhZ292ZXInIHx8IHR5cGUgPT09ICdkcmFnZW50ZXInKSB7XG5cdFx0XHRcdGlmIChkcmFnRWwpIHtcblx0XHRcdFx0XHR0aGlzLl9vbkRyYWdPdmVyKGV2dCk7XG5cdFx0XHRcdFx0X2dsb2JhbERyYWdPdmVyKGV2dCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHR5cGUgPT09ICdkcm9wJyB8fCB0eXBlID09PSAnZHJhZ2VuZCcpIHtcblx0XHRcdFx0dGhpcy5fb25Ecm9wKGV2dCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2VyaWFsaXplcyB0aGUgaXRlbSBpbnRvIGFuIGFycmF5IG9mIHN0cmluZy5cblx0XHQgKiBAcmV0dXJucyB7U3RyaW5nW119XG5cdFx0ICovXG5cdFx0dG9BcnJheTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG9yZGVyID0gW10sXG5cdFx0XHRcdGVsLFxuXHRcdFx0XHRjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW4sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRuID0gY2hpbGRyZW4ubGVuZ3RoLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRmb3IgKDsgaSA8IG47IGkrKykge1xuXHRcdFx0XHRlbCA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0XHRpZiAoX2Nsb3Nlc3QoZWwsIG9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsKSkge1xuXHRcdFx0XHRcdG9yZGVyLnB1c2goZWwuZ2V0QXR0cmlidXRlKG9wdGlvbnMuZGF0YUlkQXR0cikgfHwgX2dlbmVyYXRlSWQoZWwpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb3JkZXI7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU29ydHMgdGhlIGVsZW1lbnRzIGFjY29yZGluZyB0byB0aGUgYXJyYXkuXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nW119ICBvcmRlciAgb3JkZXIgb2YgdGhlIGl0ZW1zXG5cdFx0ICovXG5cdFx0c29ydDogZnVuY3Rpb24gKG9yZGVyKSB7XG5cdFx0XHR2YXIgaXRlbXMgPSB7fSwgcm9vdEVsID0gdGhpcy5lbDtcblxuXHRcdFx0dGhpcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoaWQsIGkpIHtcblx0XHRcdFx0dmFyIGVsID0gcm9vdEVsLmNoaWxkcmVuW2ldO1xuXG5cdFx0XHRcdGlmIChfY2xvc2VzdChlbCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgcm9vdEVsKSkge1xuXHRcdFx0XHRcdGl0ZW1zW2lkXSA9IGVsO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKTtcblxuXHRcdFx0b3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcblx0XHRcdFx0aWYgKGl0ZW1zW2lkXSkge1xuXHRcdFx0XHRcdHJvb3RFbC5yZW1vdmVDaGlsZChpdGVtc1tpZF0pO1xuXHRcdFx0XHRcdHJvb3RFbC5hcHBlbmRDaGlsZChpdGVtc1tpZF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cblx0XHQvKipcblx0XHQgKiBTYXZlIHRoZSBjdXJyZW50IHNvcnRpbmdcblx0XHQgKi9cblx0XHRzYXZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgc3RvcmUgPSB0aGlzLm9wdGlvbnMuc3RvcmU7XG5cdFx0XHRzdG9yZSAmJiBzdG9yZS5zZXQodGhpcyk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogRm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LCBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciBieSB0ZXN0aW5nIHRoZSBlbGVtZW50IGl0c2VsZiBhbmQgdHJhdmVyc2luZyB1cCB0aHJvdWdoIGl0cyBhbmNlc3RvcnMgaW4gdGhlIERPTSB0cmVlLlxuXHRcdCAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gIGVsXG5cdFx0ICogQHBhcmFtICAge1N0cmluZ30gICAgICAgW3NlbGVjdG9yXSAgZGVmYXVsdDogYG9wdGlvbnMuZHJhZ2dhYmxlYFxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuXHRcdCAqL1xuXHRcdGNsb3Nlc3Q6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiBfY2xvc2VzdChlbCwgc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2V0L2dldCBvcHRpb25cblx0XHQgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG5cdFx0ICogQHBhcmFtICAgeyp9ICAgICAgW3ZhbHVlXVxuXHRcdCAqIEByZXR1cm5zIHsqfVxuXHRcdCAqL1xuXHRcdG9wdGlvbjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0aWYgKHZhbHVlID09PSB2b2lkIDApIHtcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnNbbmFtZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHRpb25zW25hbWVdID0gdmFsdWU7XG5cblx0XHRcdFx0aWYgKG5hbWUgPT09ICdncm91cCcpIHtcblx0XHRcdFx0XHRfcHJlcGFyZUdyb3VwKG9wdGlvbnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogRGVzdHJveVxuXHRcdCAqL1xuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBlbCA9IHRoaXMuZWw7XG5cblx0XHRcdGVsW2V4cGFuZG9dID0gbnVsbDtcblxuXHRcdFx0X29mZihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXHRcdFx0X29mZihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcblxuXHRcdFx0aWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdF9vZmYoZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBkcmFnZ2FibGUgYXR0cmlidXRlc1xuXHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5xdWVyeVNlbGVjdG9yQWxsKCdbZHJhZ2dhYmxlXScpLCBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdFx0ZWwucmVtb3ZlQXR0cmlidXRlKCdkcmFnZ2FibGUnKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzLnNwbGljZSh0b3VjaERyYWdPdmVyTGlzdGVuZXJzLmluZGV4T2YodGhpcy5fb25EcmFnT3ZlciksIDEpO1xuXG5cdFx0XHR0aGlzLl9vbkRyb3AoKTtcblxuXHRcdFx0dGhpcy5lbCA9IGVsID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblxuXHRmdW5jdGlvbiBfY2xvbmVIaWRlKHN0YXRlKSB7XG5cdFx0aWYgKGNsb25lRWwgJiYgKGNsb25lRWwuc3RhdGUgIT09IHN0YXRlKSkge1xuXHRcdFx0X2NzcyhjbG9uZUVsLCAnZGlzcGxheScsIHN0YXRlID8gJ25vbmUnIDogJycpO1xuXHRcdFx0IXN0YXRlICYmIGNsb25lRWwuc3RhdGUgJiYgcm9vdEVsLmluc2VydEJlZm9yZShjbG9uZUVsLCBkcmFnRWwpO1xuXHRcdFx0Y2xvbmVFbC5zdGF0ZSA9IHN0YXRlO1xuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2Nsb3Nlc3QoLyoqSFRNTEVsZW1lbnQqL2VsLCAvKipTdHJpbmcqL3NlbGVjdG9yLCAvKipIVE1MRWxlbWVudCovY3R4KSB7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHRjdHggPSBjdHggfHwgZG9jdW1lbnQ7XG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNwbGl0KCcuJyk7XG5cblx0XHRcdHZhciB0YWcgPSBzZWxlY3Rvci5zaGlmdCgpLnRvVXBwZXJDYXNlKCksXG5cdFx0XHRcdHJlID0gbmV3IFJlZ0V4cCgnXFxcXHMoJyArIHNlbGVjdG9yLmpvaW4oJ3wnKSArICcpKD89XFxcXHMpJywgJ2cnKTtcblxuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KHRhZyA9PT0gJz4qJyAmJiBlbC5wYXJlbnROb2RlID09PSBjdHgpIHx8IChcblx0XHRcdFx0XHRcdCh0YWcgPT09ICcnIHx8IGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT0gdGFnKSAmJlxuXHRcdFx0XHRcdFx0KCFzZWxlY3Rvci5sZW5ndGggfHwgKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLm1hdGNoKHJlKSB8fCBbXSkubGVuZ3RoID09IHNlbGVjdG9yLmxlbmd0aClcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiBlbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKGVsICE9PSBjdHggJiYgKGVsID0gZWwucGFyZW50Tm9kZSkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfZ2xvYmFsRHJhZ092ZXIoLyoqRXZlbnQqL2V2dCkge1xuXHRcdGlmIChldnQuZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG5cdFx0fVxuXHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfb24oZWwsIGV2ZW50LCBmbikge1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBmYWxzZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vZmYoZWwsIGV2ZW50LCBmbikge1xuXHRcdGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBmYWxzZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF90b2dnbGVDbGFzcyhlbCwgbmFtZSwgc3RhdGUpIHtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGlmIChlbC5jbGFzc0xpc3QpIHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0W3N0YXRlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dmFyIGNsYXNzTmFtZSA9ICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoUlNQQUNFLCAnICcpLnJlcGxhY2UoJyAnICsgbmFtZSArICcgJywgJyAnKTtcblx0XHRcdFx0ZWwuY2xhc3NOYW1lID0gKGNsYXNzTmFtZSArIChzdGF0ZSA/ICcgJyArIG5hbWUgOiAnJykpLnJlcGxhY2UoUlNQQUNFLCAnICcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2NzcyhlbCwgcHJvcCwgdmFsKSB7XG5cdFx0dmFyIHN0eWxlID0gZWwgJiYgZWwuc3R5bGU7XG5cblx0XHRpZiAoc3R5bGUpIHtcblx0XHRcdGlmICh2YWwgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuXHRcdFx0XHRcdHZhbCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWwsICcnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChlbC5jdXJyZW50U3R5bGUpIHtcblx0XHRcdFx0XHR2YWwgPSBlbC5jdXJyZW50U3R5bGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gcHJvcCA9PT0gdm9pZCAwID8gdmFsIDogdmFsW3Byb3BdO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmICghKHByb3AgaW4gc3R5bGUpKSB7XG5cdFx0XHRcdFx0cHJvcCA9ICctd2Via2l0LScgKyBwcm9wO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3R5bGVbcHJvcF0gPSB2YWwgKyAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyAnJyA6ICdweCcpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cblx0ZnVuY3Rpb24gX2ZpbmQoY3R4LCB0YWdOYW1lLCBpdGVyYXRvcikge1xuXHRcdGlmIChjdHgpIHtcblx0XHRcdHZhciBsaXN0ID0gY3R4LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpLCBpID0gMCwgbiA9IGxpc3QubGVuZ3RoO1xuXG5cdFx0XHRpZiAoaXRlcmF0b3IpIHtcblx0XHRcdFx0Zm9yICg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0XHRpdGVyYXRvcihsaXN0W2ldLCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbGlzdDtcblx0XHR9XG5cblx0XHRyZXR1cm4gW107XG5cdH1cblxuXG5cblx0ZnVuY3Rpb24gX2Rpc3BhdGNoRXZlbnQoc29ydGFibGUsIHJvb3RFbCwgbmFtZSwgdGFyZ2V0RWwsIGZyb21FbCwgc3RhcnRJbmRleCwgbmV3SW5kZXgpIHtcblx0XHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JyksXG5cdFx0XHRvcHRpb25zID0gKHNvcnRhYmxlIHx8IHJvb3RFbFtleHBhbmRvXSkub3B0aW9ucyxcblx0XHRcdG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7XG5cblx0XHRldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xuXG5cdFx0ZXZ0LnRvID0gcm9vdEVsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsIHx8IHJvb3RFbDtcblx0XHRldnQuaXRlbSA9IHRhcmdldEVsIHx8IHJvb3RFbDtcblx0XHRldnQuY2xvbmUgPSBjbG9uZUVsO1xuXG5cdFx0ZXZ0Lm9sZEluZGV4ID0gc3RhcnRJbmRleDtcblx0XHRldnQubmV3SW5kZXggPSBuZXdJbmRleDtcblxuXHRcdHJvb3RFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHRpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG5cdFx0XHRvcHRpb25zW29uTmFtZV0uY2FsbChzb3J0YWJsZSwgZXZ0KTtcblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9vbk1vdmUoZnJvbUVsLCB0b0VsLCBkcmFnRWwsIGRyYWdSZWN0LCB0YXJnZXRFbCwgdGFyZ2V0UmVjdCkge1xuXHRcdHZhciBldnQsXG5cdFx0XHRzb3J0YWJsZSA9IGZyb21FbFtleHBhbmRvXSxcblx0XHRcdG9uTW92ZUZuID0gc29ydGFibGUub3B0aW9ucy5vbk1vdmUsXG5cdFx0XHRyZXRWYWw7XG5cblx0XHRldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRldnQuaW5pdEV2ZW50KCdtb3ZlJywgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRldnQudG8gPSB0b0VsO1xuXHRcdGV2dC5mcm9tID0gZnJvbUVsO1xuXHRcdGV2dC5kcmFnZ2VkID0gZHJhZ0VsO1xuXHRcdGV2dC5kcmFnZ2VkUmVjdCA9IGRyYWdSZWN0O1xuXHRcdGV2dC5yZWxhdGVkID0gdGFyZ2V0RWwgfHwgdG9FbDtcblx0XHRldnQucmVsYXRlZFJlY3QgPSB0YXJnZXRSZWN0IHx8IHRvRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRmcm9tRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuXG5cdFx0aWYgKG9uTW92ZUZuKSB7XG5cdFx0XHRyZXRWYWwgPSBvbk1vdmVGbi5jYWxsKHNvcnRhYmxlLCBldnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXRWYWw7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9kaXNhYmxlRHJhZ2dhYmxlKGVsKSB7XG5cdFx0ZWwuZHJhZ2dhYmxlID0gZmFsc2U7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF91bnNpbGVudCgpIHtcblx0XHRfc2lsZW50ID0gZmFsc2U7XG5cdH1cblxuXG5cdC8qKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8ZmFsc2V9ICovXG5cdGZ1bmN0aW9uIF9naG9zdElzTGFzdChlbCwgZXZ0KSB7XG5cdFx0dmFyIGxhc3RFbCA9IGVsLmxhc3RFbGVtZW50Q2hpbGQsXG5cdFx0XHRcdHJlY3QgPSBsYXN0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRyZXR1cm4gKChldnQuY2xpZW50WSAtIChyZWN0LnRvcCArIHJlY3QuaGVpZ2h0KSA+IDUpIHx8IChldnQuY2xpZW50WCAtIChyZWN0LnJpZ2h0ICsgcmVjdC53aWR0aCkgPiA1KSkgJiYgbGFzdEVsOyAvLyBtaW4gZGVsdGFcblx0fVxuXG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGlkXG5cdCAqIEBwYXJhbSAgIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHJldHVybnMge1N0cmluZ31cblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9nZW5lcmF0ZUlkKGVsKSB7XG5cdFx0dmFyIHN0ciA9IGVsLnRhZ05hbWUgKyBlbC5jbGFzc05hbWUgKyBlbC5zcmMgKyBlbC5ocmVmICsgZWwudGV4dENvbnRlbnQsXG5cdFx0XHRpID0gc3RyLmxlbmd0aCxcblx0XHRcdHN1bSA9IDA7XG5cblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRzdW0gKz0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1bS50b1N0cmluZygzNik7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgaW5kZXggb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcblx0ICogQHJldHVybiB7bnVtYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gX2luZGV4KGVsKSB7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9XG5cblx0XHR3aGlsZSAoZWwgJiYgKGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykpIHtcblx0XHRcdGlmIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnKSB7XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gX3Rocm90dGxlKGNhbGxiYWNrLCBtcykge1xuXHRcdHZhciBhcmdzLCBfdGhpcztcblxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYXJncyA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRcdF90aGlzID0gdGhpcztcblxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5hcHBseShfdGhpcywgYXJncyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IHZvaWQgMDtcblx0XHRcdFx0fSwgbXMpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBfZXh0ZW5kKGRzdCwgc3JjKSB7XG5cdFx0aWYgKGRzdCAmJiBzcmMpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBzcmMpIHtcblx0XHRcdFx0aWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0ZHN0W2tleV0gPSBzcmNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkc3Q7XG5cdH1cblxuXG5cdC8vIEV4cG9ydCB1dGlsc1xuXHRTb3J0YWJsZS51dGlscyA9IHtcblx0XHRvbjogX29uLFxuXHRcdG9mZjogX29mZixcblx0XHRjc3M6IF9jc3MsXG5cdFx0ZmluZDogX2ZpbmQsXG5cdFx0aXM6IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHtcblx0XHRcdHJldHVybiAhIV9jbG9zZXN0KGVsLCBzZWxlY3RvciwgZWwpO1xuXHRcdH0sXG5cdFx0ZXh0ZW5kOiBfZXh0ZW5kLFxuXHRcdHRocm90dGxlOiBfdGhyb3R0bGUsXG5cdFx0Y2xvc2VzdDogX2Nsb3Nlc3QsXG5cdFx0dG9nZ2xlQ2xhc3M6IF90b2dnbGVDbGFzcyxcblx0XHRpbmRleDogX2luZGV4XG5cdH07XG5cblxuXHQvKipcblx0ICogQ3JlYXRlIHNvcnRhYmxlIGluc3RhbmNlXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICBlbFxuXHQgKiBAcGFyYW0ge09iamVjdH0gICAgICBbb3B0aW9uc11cblx0ICovXG5cdFNvcnRhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xuXHRcdHJldHVybiBuZXcgU29ydGFibGUoZWwsIG9wdGlvbnMpO1xuXHR9O1xuXG5cblx0Ly8gRXhwb3J0XG5cdFNvcnRhYmxlLnZlcnNpb24gPSAnMS40LjInO1xuXHRyZXR1cm4gU29ydGFibGU7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEM6L1VzZXJzL2Vkd2luLnJveS9EZXNrdG9wL2Zvcm1lby9+L3NvcnRhYmxlanMvU29ydGFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar defaultActions = {\n  add: {\n    attr: function attr(evt) {\n      var attr = window.prompt(evt.message.attr);\n      var val = void 0;\n      if (attr) {\n        val = String(window.prompt(evt.message.value, ''));\n        evt.addAction(attr, val);\n      }\n    },\n    option: function option(evt) {\n      evt.addAction();\n    }\n  },\n  click: {\n    btn: function btn(evt) {\n      evt.action();\n    }\n  },\n  save: function save(evt) {}\n};\n\nvar actions = {\n  init: function init(options) {\n    this.opts = Object.assign({}, defaultActions, options);\n    return this;\n  },\n  add: {\n    attrs: function attrs(evt) {\n      actions.opts.add.attr(evt);\n    },\n    options: function options(evt) {\n      actions.opts.add.option(evt);\n    }\n  },\n  click: {\n    btn: function btn(evt) {\n      actions.opts.click.btn(evt);\n    }\n  },\n  save: function save() {}\n};\n\nexports.default = actions;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2FjdGlvbnMuanM/ZTkyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBY3Rpb25zIGFyZSB0aGUgY2FsbGJhY2tzIGZvciB0aGluZ3MgbGlrZSBhZGRpbmdcclxuLy8gbmV3IGF0dHJpYnV0ZXMsIG9wdGlvbnMsIGZpZWxkIHJlbW92YWwgY29uZmlybWF0aW9ucyBldGMuXHJcbi8vIEV2ZXJ5IEFjdGlvbiBiZWxvdyBjYW4gYmUgb3ZlcnJpZGRlbiB2aWEgbW9kdWxlIG9wdGlvbnNcclxuXHJcbi8vIERlZmF1bHQgb3B0aW9uc1xyXG5jb25zdCBkZWZhdWx0QWN0aW9ucyA9IHtcclxuICBhZGQ6IHtcclxuICAgIGF0dHI6IGV2dCA9PiB7XHJcbiAgICAgIGxldCBhdHRyID0gd2luZG93LnByb21wdChldnQubWVzc2FnZS5hdHRyKTtcclxuICAgICAgbGV0IHZhbDtcclxuICAgICAgaWYgKGF0dHIpIHtcclxuICAgICAgICB2YWwgPSBTdHJpbmcod2luZG93LnByb21wdChldnQubWVzc2FnZS52YWx1ZSwgJycpKTtcclxuICAgICAgICBldnQuYWRkQWN0aW9uKGF0dHIsIHZhbCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvcHRpb246IGV2dCA9PiB7XHJcbiAgICAgIGV2dC5hZGRBY3Rpb24oKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNsaWNrOiB7XHJcbiAgICBidG46IGV2dCA9PiB7XHJcbiAgICAgIGV2dC5hY3Rpb24oKTtcclxuICAgIH1cclxuICB9LFxyXG4gIHNhdmU6IGV2dCA9PiB7fVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEV2ZW50cyBjbGFzcyBpcyB1c2VkIHRvIHJlZ2lzdGVyIGFjdGlvbnMgYW5kIHRocm90dGxlIHRoZWlyIGNhbGxiYWNrc1xyXG4gKi9cclxuY29uc3QgYWN0aW9ucyA9IHtcclxuICBpbml0OiBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0QWN0aW9ucywgb3B0aW9ucyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIGFkZDoge1xyXG4gICAgYXR0cnM6IGV2dCA9PiB7XHJcbiAgICAgIGFjdGlvbnMub3B0cy5hZGQuYXR0cihldnQpO1xyXG4gICAgfSxcclxuICAgIG9wdGlvbnM6IGV2dCA9PiB7XHJcbiAgICAgIGFjdGlvbnMub3B0cy5hZGQub3B0aW9uKGV2dCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjbGljazoge1xyXG4gICAgYnRuOiBldnQgPT4ge1xyXG4gICAgICBhY3Rpb25zLm9wdHMuY2xpY2suYnRuKGV2dCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBzYXZlOiAoKSA9PiB7fVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWN0aW9ucztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vYWN0aW9ucy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQW5CQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBbEJBO0FBQ0E7QUFvQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Throttle = exports.Throttle = function () {\n  function Throttle() {\n    _classCallCheck(this, Throttle);\n  }\n\n  Throttle.prototype.add = function add(event, cb) {\n    var elem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n\n    var events = this;\n    events[event] = events[event] || { callbacks: [] };\n    events.addCallback(event, cb);\n    var callback = function callback(evt) {\n      events.throttle(events[event], evt);\n    };\n\n    elem.addEventListener(event, callback);\n\n    return callback;\n  };\n\n  Throttle.prototype.addCallback = function addCallback(event, cb) {\n    var events = this;\n    if (cb) {\n      events[event].callbacks.push(cb);\n    }\n  };\n\n  Throttle.prototype.runCallbacks = function runCallbacks(event, evt) {\n    event.callbacks.forEach(function (callback) {\n      callback(evt);\n    });\n\n    event.running = false;\n  };\n\n  Throttle.prototype.throttle = function throttle(event, evt) {\n    var events = this;\n\n    if (!event.running) {\n      event.running = true;\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(function () {\n          events.runCallbacks(event, evt);\n        });\n      } else {\n        setTimeout(events.runCallbacks.bind(event), 66);\n      }\n    }\n  };\n\n  return Throttle;\n}();\n\nvar animate = {\n  getStyle: function getStyle(elem) {\n    var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var style = void 0;\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(elem, null);\n    } else if (elem.currentStyle) {\n      style = elem.currentStyle;\n    }\n\n    return property ? style[property] : style;\n  },\n\n  fadeOut: function fadeOut(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n    var increment = 1 / (duration / 60);\n    elem.style.opacity = 1;\n    (function fade() {\n      var val = Number(elem.style.opacity) - increment;\n      if (val > 0) {\n        elem.style.opacity = val;\n        requestAnimationFrame(fade);\n      } else {\n        elem.remove();\n      }\n    })();\n  },\n\n  slideDown: function slideDown(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n    var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    elem.style.display = 'block';\n    var style = animate.getStyle(elem);\n    var overFlowBack = style.overflow;\n    elem.style.overflow = 'hidden';\n    var height = parseInt(style.height, 10);\n    var increment = height / (duration / 60);\n    elem.style.height = '0px';\n    (function slideDown() {\n      var curHeight = parseFloat(elem.style.height);\n      var val = curHeight + increment;\n      if (curHeight < height) {\n        elem.style.height = val + 'px';\n        requestAnimationFrame(slideDown);\n      } else {\n        elem.style.overflow = overFlowBack;\n\n        elem.style.height = 'auto';\n        if (cb) {\n          cb(elem);\n        }\n      }\n    })();\n  },\n\n  slideUp: function slideUp(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n    var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var style = animate.getStyle(elem);\n    var height = parseInt(style.height);\n    var overFlowBack = style.overflow;\n    elem.style.overflow = 'hidden';\n    elem.style.height = height + 'px';\n    var defMinHeight = style.minHeight;\n    elem.style.minHeight = 'auto';\n    var increment = parseFloat(height / (duration / 60)).toFixed(2);\n\n    (function slideUp() {\n      var curHeight = parseInt(elem.style.height, 10);\n      var val = curHeight - increment;\n      if (val > 0) {\n        elem.style.height = val + 'px';\n        requestAnimationFrame(slideUp);\n      } else {\n        elem.style.overflow = overFlowBack;\n        elem.style.display = 'none';\n        elem.style.minHeight = defMinHeight;\n        delete elem.style.height;\n        if (cb) {\n          cb(elem);\n        }\n      }\n    })();\n  },\n\n  slideToggle: function slideToggle(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n    var isHidden = animate.getStyle(elem, 'display') === 'none';\n\n    if (isHidden) {\n      animate.slideDown(elem, duration);\n    } else {\n      animate.slideUp(elem, duration);\n    }\n  }\n\n};\n\nexports.default = animate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2FuaW1hdGlvbi5qcz9mNTYzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogVGhyb3R0bGUgY2xhc3MgcHJvdmlkZXMgYW5kIGVhc3kgd2F5IGZvciBiaW5kaW5nXHJcbiAqIGFuZCB0aHJvdHRsaW5nIGV2ZW50cy4gSGVscGZ1bCBmb3IgZXZlbnRzIGxpa2Ugd2luZG93XHJcbiAqIHNjcm9sbCB0aGF0IGFyZSBmaXJlZCBvZnRlbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUaHJvdHRsZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhbiBldmVudCBhbmQgcmVnaXN0ZXIgY2FsbGJhY2tzXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9ICAgZXZlbnRcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgIGVsZW0gRE9NIGVsZW1lbnQgd2UgYXJlIGJpbmdpbmcgdG9cclxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhyb3R0bGVkIGNiXHJcbiAgICovXHJcbiAgYWRkKGV2ZW50LCBjYiwgZWxlbSA9IHdpbmRvdykge1xyXG4gICAgbGV0IGV2ZW50cyA9IHRoaXM7XHJcbiAgICBldmVudHNbZXZlbnRdID0gZXZlbnRzW2V2ZW50XSB8fCB7Y2FsbGJhY2tzOiBbXX07XHJcbiAgICBldmVudHMuYWRkQ2FsbGJhY2soZXZlbnQsIGNiKTtcclxuICAgIGxldCBjYWxsYmFjayA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICBldmVudHMudGhyb3R0bGUoZXZlbnRzW2V2ZW50XSwgZXZ0KTtcclxuICAgIH07XHJcbiAgICAvLyBpZiAoIWV2ZW50c1tldmVudF0uY2FsbGJhY2tzLmxlbmd0aCkge1xyXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICAvLyB9XHJcbiAgICByZXR1cm4gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgY2FsbGJhY2sgdG8gYW4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBhbiBldmVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgIGV2ZW50XHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcclxuICAgKi9cclxuICBhZGRDYWxsYmFjayhldmVudCwgY2IpIHtcclxuICAgIGxldCBldmVudHMgPSB0aGlzO1xyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgIGV2ZW50c1tldmVudF0uY2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUnVuIHRoZSBjYWxsYmFja3MgZm9yIGEgc3BlY2lmaWMgZXZlbnRcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnQgcmVzcG9uc2UgZnJvbSBmaXJlZCBldmVudFxyXG4gICAqL1xyXG4gIHJ1bkNhbGxiYWNrcyhldmVudCwgZXZ0KSB7XHJcbiAgICBldmVudC5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICBjYWxsYmFjayhldnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXZlbnQucnVubmluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhyb3R0bGUgYW4gZXZlbnRcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50IGluIHF1ZXVlXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnQgcmVzcG9uc2UgZnJvbSBmaXJlZCBldmVudFxyXG4gICAqL1xyXG4gIHRocm90dGxlKGV2ZW50LCBldnQpIHtcclxuICAgIGxldCBldmVudHMgPSB0aGlzO1xyXG5cclxuICAgIGlmICghZXZlbnQucnVubmluZykge1xyXG4gICAgICBldmVudC5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXZlbnRzLnJ1bkNhbGxiYWNrcyhldmVudCwgZXZ0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGV2ZW50cy5ydW5DYWxsYmFja3MuYmluZChldmVudCksIDY2KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGFuaW1hdGUgPSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGNvbXB1dGVkIHN0eWxlIGZvciBhbiBlbGVtZW50XHJcbiAgICogQHBhcmFtICB7W3R5cGVdfSAgZWxlbSAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IHByb3BlcnR5IFtkZXNjcmlwdGlvbl1cclxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgZ2V0U3R5bGU6IChlbGVtLCBwcm9wZXJ0eSA9IGZhbHNlKSA9PiB7XHJcbiAgICBsZXQgc3R5bGU7XHJcbiAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcclxuICAgICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBudWxsKTtcclxuICAgIH0gZWxzZSBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHtcclxuICAgICAgc3R5bGUgPSBlbGVtLmN1cnJlbnRTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcHJvcGVydHkgPyBzdHlsZVtwcm9wZXJ0eV0gOiBzdHlsZTtcclxuICB9LFxyXG5cclxuICBmYWRlT3V0OiAoZWxlbSwgZHVyYXRpb24gPSAyNTApID0+IHtcclxuICAgIGxldCBpbmNyZW1lbnQgPSAxIC8gKGR1cmF0aW9uIC8gNjApO1xyXG4gICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgIChmdW5jdGlvbiBmYWRlKCkge1xyXG4gICAgICBsZXQgdmFsID0gTnVtYmVyKGVsZW0uc3R5bGUub3BhY2l0eSkgLSBpbmNyZW1lbnQ7XHJcbiAgICAgIGlmICh2YWwgPiAwKSB7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gdmFsO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmYWRlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG4gIH0sXHJcblxyXG4gIHNsaWRlRG93bjogKGVsZW0sIGR1cmF0aW9uID0gMjUwLCBjYiA9IGZhbHNlKSA9PiB7XHJcbiAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgY29uc3Qgc3R5bGUgPSBhbmltYXRlLmdldFN0eWxlKGVsZW0pO1xyXG4gICAgbGV0IG92ZXJGbG93QmFjayA9IHN0eWxlLm92ZXJmbG93O1xyXG4gICAgZWxlbS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgbGV0IGhlaWdodCA9IHBhcnNlSW50KHN0eWxlLmhlaWdodCwgMTApO1xyXG4gICAgbGV0IGluY3JlbWVudCA9IGhlaWdodCAvIChkdXJhdGlvbiAvIDYwKTtcclxuICAgIGVsZW0uc3R5bGUuaGVpZ2h0ID0gJzBweCc7XHJcbiAgICAoZnVuY3Rpb24gc2xpZGVEb3duKCkge1xyXG4gICAgICBsZXQgY3VySGVpZ2h0ID0gcGFyc2VGbG9hdChlbGVtLnN0eWxlLmhlaWdodCk7XHJcbiAgICAgIGxldCB2YWwgPSBjdXJIZWlnaHQgKyBpbmNyZW1lbnQ7XHJcbiAgICAgIGlmIChjdXJIZWlnaHQgPCBoZWlnaHQpIHtcclxuICAgICAgICBlbGVtLnN0eWxlLmhlaWdodCA9ICh2YWwgKyAncHgnKTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2xpZGVEb3duKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gb3ZlckZsb3dCYWNrO1xyXG4gICAgICAgIC8vIHJlc2V0IGhlaWdodCB0byBiZSB1c2VkIGJ5IHNsaWRlVXBcclxuICAgICAgICAvLyBlbGVtLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICBjYihlbGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcbiAgfSxcclxuXHJcbiAgc2xpZGVVcDogKGVsZW0sIGR1cmF0aW9uID0gMjUwLCBjYiA9IGZhbHNlKSA9PiB7XHJcbiAgICBsZXQgc3R5bGUgPSBhbmltYXRlLmdldFN0eWxlKGVsZW0pO1xyXG4gICAgbGV0IGhlaWdodCA9IHBhcnNlSW50KHN0eWxlLmhlaWdodCk7XHJcbiAgICBsZXQgb3ZlckZsb3dCYWNrID0gc3R5bGUub3ZlcmZsb3c7XHJcbiAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICBlbGVtLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbiAgICBsZXQgZGVmTWluSGVpZ2h0ID0gc3R5bGUubWluSGVpZ2h0O1xyXG4gICAgZWxlbS5zdHlsZS5taW5IZWlnaHQgPSAnYXV0byc7XHJcbiAgICBsZXQgaW5jcmVtZW50ID0gcGFyc2VGbG9hdChoZWlnaHQgLyAoZHVyYXRpb24gLyA2MCkpLnRvRml4ZWQoMik7XHJcblxyXG4gICAgKGZ1bmN0aW9uIHNsaWRlVXAoKSB7XHJcbiAgICAgIGxldCBjdXJIZWlnaHQgPSBwYXJzZUludChlbGVtLnN0eWxlLmhlaWdodCwgMTApO1xyXG4gICAgICBsZXQgdmFsID0gKGN1ckhlaWdodCAtIGluY3JlbWVudCk7XHJcbiAgICAgIGlmICh2YWwgPiAwKSB7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSB2YWwgKyAncHgnO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzbGlkZVVwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gb3ZlckZsb3dCYWNrO1xyXG4gICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBlbGVtLnN0eWxlLm1pbkhlaWdodCA9IGRlZk1pbkhlaWdodDtcclxuICAgICAgICBkZWxldGUgZWxlbS5zdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICBjYihlbGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcbiAgfSxcclxuXHJcbiAgc2xpZGVUb2dnbGU6IChlbGVtLCBkdXJhdGlvbiA9IDI1MCkgPT4ge1xyXG4gICAgbGV0IGlzSGlkZGVuID0gKGFuaW1hdGUuZ2V0U3R5bGUoZWxlbSwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKTtcclxuXHJcbiAgICBpZiAoaXNIaWRkZW4pIHtcclxuICAgICAgYW5pbWF0ZS5zbGlkZURvd24oZWxlbSwgZHVyYXRpb24pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYW5pbWF0ZS5zbGlkZVVwKGVsZW0sIGR1cmF0aW9uKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBhbmltYXRpb24udHJhbnNsYXRlWCA9IChkaXN0YW5jZSwgZHVyYXRpb24gPSAyNTApID0+IHtcclxuICAvLyAgIHZhciBpbmNyZW1lbnQgPSBkaXN0YW5jZSAvIChkdXJhdGlvbiAvIDYwKTtcclxuICAvLyAgIChmdW5jdGlvbiB0cmFuc2xhdGUoKSB7XHJcbiAgLy8gICAgIHZhciB2YWwgPSBOdW1iZXIoZWxlbS5zdHlsZS5vcGFjaXR5KSAtIGluY3JlbWVudDtcclxuICAvLyAgICAgaWYgKHZhbCA+IDApIHtcclxuICAvLyAgICAgICBlbGVtLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkaXN0YW5jZX1weCwgMClgO1xyXG4gIC8vICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0cmFuc2xhdGUpO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9KSgpO1xyXG4gIC8vIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFuaW1hdGU7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tbW9uL2FuaW1hdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFNQTs7Ozs7QUFTQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFHQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEdBO0FBQ0E7QUE0R0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaults = {\n  type: 'field'\n};\n\nvar Panels = function () {\n  function Panels(options) {\n    _classCallCheck(this, Panels);\n\n    var _this = this;\n    var content = [];\n    _this.opts = Object.assign({}, defaults, options);\n\n    _this.labels = _this.panelNav();\n    var panels = _this.panelsWrap();\n\n    _this.panels = panels.childNodes;\n    _this.currentPanel = _this.panels[0];\n    _this.nav = _this.navActions();\n    if (_this.opts.type === 'field') {\n      setTimeout(_this.setPanelsHeight.bind(_this), 100);\n    }\n\n    _this.panelDisplay = 'slider';\n\n    if (options.metaID === 'html-summernote') content.push(_this.summernotePanel(options.id));else {\n      content.push(_this.labels);\n      content.push(panels);\n    }\n\n    return {\n      content: content,\n      nav: _this.nav,\n      actions: {\n        resize: _this.resizePanels.bind(_this)\n      }\n    };\n  }\n\n  Panels.prototype.resizePanels = function resizePanels() {\n    if (this.panelsWrap && this.panelsWrap.parentElement) {\n      var panelsWrap = this.panelsWrap;\n      var column = panelsWrap.parentElement.parentElement;\n      var width = parseInt(_dom2.default.getStyle(column, 'width'));\n      var isTabbed = width > 390;\n      this.panelDisplay = isTabbed ? 'tabbed' : 'slider';\n      panelsWrap.parentElement.classList.toggle('tabbed-panels', isTabbed);\n      var panelStyle = panelsWrap.style;\n      var activePanelHeight = _dom2.default.getStyle(this.currentPanel, 'height');\n      return panelStyle.height = activePanelHeight;\n    } else return 0;\n  };\n\n  Panels.prototype.setPanelsHeight = function setPanelsHeight() {\n    var field = document.getElementById(this.opts.id);\n\n    if (field.getAttribute(\"class\") !== 'summernote-edit') this.slideToggle = field.querySelector('.field-edit');else return;\n\n    this.slideToggle.style.display = 'block';\n    this.slideToggle.style.position = 'absolute';\n    this.slideToggle.style.opacity = 0;\n\n    this.resizePanels();\n\n    this.slideToggle.style.display = 'none';\n    this.slideToggle.style.position = 'relative';\n    this.slideToggle.style.opacity = 1;\n    this.slideToggle.style.height = 'auto';\n  };\n\n  Panels.prototype.panelsWrap = function panelsWrap() {\n    this.panelsWrap = _dom2.default.create({\n      tag: 'div',\n      attrs: {\n        className: 'panels'\n      },\n      content: this.opts.panels\n    });\n\n    this.panelsWrap = this.panelsWrap;\n\n    if (this.opts.type === 'field') {\n      this.sortableProperties(this.panelsWrap);\n    }\n\n    return this.panelsWrap;\n  };\n\n  Panels.prototype.summernotePanel = function summernotePanel(fieldId) {\n    return _dom2.default.create({\n      tag: 'textarea',\n      attrs: {\n        className: 'summernote-edit',\n        rows: '40',\n        'data-fieldid': fieldId\n      }\n    });\n  };\n\n  Panels.prototype.sortableProperties = function sortableProperties(panels) {\n    var _this = this;\n    var groups = panels.getElementsByClassName('field-edit-group');\n\n    return _helpers2.default.forEach(groups, function (group, index) {\n      group.fieldID = _this.opts.id;\n      if (group.isSortable) {\n        _sortablejs2.default.create(group, {\n          animation: 150,\n          group: {\n            name: 'edit-' + group.editGroup,\n            pull: true, put: ['properties']\n          },\n          sort: true,\n          handle: '.prop-order',\n          onSort: function onSort(evt) {\n            _this.propertySave(evt.to);\n            _this.resizePanels();\n          }\n        });\n      }\n    });\n  };\n\n  Panels.prototype.propertySave = function propertySave(group) {\n    var field = _dom2.default.fields.get(this.opts.id);\n    _data.data.save(group.editGroup, group, false);\n    return field.instance.updatePreview();\n  };\n\n  Panels.prototype.panelNav = function panelNav() {\n    var _this2 = this;\n\n    var _this = this;\n    var panelNavLabels = {\n      tag: 'div',\n      attrs: {\n        className: 'panel-labels'\n      },\n      content: {\n        tag: 'div',\n        content: []\n      }\n    };\n    var panels = this.opts.panels;\n\n    for (var i = 0; i < panels.length; i++) {\n      var panelLabel = {\n        tag: 'h5',\n        action: {\n          click: function click(evt) {\n            var index = _helpers2.default.indexOfNode(evt.target, evt.target.parentElement);\n            _this.currentPanel = _this.panels[index];\n            var labels = evt.target.parentElement.childNodes;\n            _this.nav.refresh(index);\n            _dom2.default.removeClasses(labels, 'active-tab');\n            evt.target.classList.add('active-tab');\n          }\n        },\n        content: panels[i].config.label\n      };\n      delete panels[i].config.label;\n\n      if (i === 0) {\n        panelLabel.className = 'active-tab';\n      }\n\n      panelNavLabels.content.content.push(panelLabel);\n    }\n\n    var next = {\n      tag: 'button',\n      attrs: {\n        className: 'next-group',\n        title: _mi18n2.default.get('controlGroups.nextGroup'),\n        type: 'button'\n      },\n      dataset: {\n        toggle: 'tooltip',\n        placement: 'top'\n      },\n      action: {\n        click: function click(e) {\n          return _this2.nav.nextGroup(e);\n        }\n      },\n      content: _dom2.default.icon('triangle-right')\n    };\n    var prev = {\n      tag: 'button',\n      attrs: {\n        className: 'prev-group',\n        title: _mi18n2.default.get('controlGroups.prevGroup'),\n        type: 'button'\n      },\n      dataset: {\n        toggle: 'tooltip',\n        placement: 'top'\n      },\n      action: {\n        click: function click(e) {\n          return _this2.nav.prevGroup(e);\n        }\n      },\n      content: _dom2.default.icon('triangle-left')\n    };\n\n    return _dom2.default.create({\n      tag: 'nav',\n      attrs: {\n        className: 'panel-nav'\n      },\n      content: [prev, panelNavLabels, next]\n    });\n  };\n\n  Panels.prototype.navActions = function navActions() {\n    var _this3 = this;\n\n    var _this = this;\n    var action = {};\n    var groupParent = this.currentPanel.parentElement;\n    var firstControlNav = this.labels.querySelector('.panel-labels').firstChild;\n    var siblingGroups = this.currentPanel.parentElement.childNodes;\n    var index = _helpers2.default.indexOfNode(this.currentPanel, groupParent);\n    var offset = {};\n\n    var groupChange = function groupChange(newIndex) {\n      _this3.currentPanel = siblingGroups[newIndex];\n      _this3.panelsWrap.style.height = _dom2.default.getStyle(_this3.currentPanel, 'height');\n      if (_this3.opts.type === 'field') {\n        _this3.slideToggle.style.height = 'auto';\n      }\n      return _this3.currentPanel;\n    };\n\n    var translateX = function translateX(offset) {\n      if (_this.panelDisplay !== 'tabbed') {\n        firstControlNav.style.transform = 'translateX(-' + offset.nav + 'px)';\n      } else {\n        firstControlNav.removeAttribute('style');\n      }\n      groupParent.style.transform = 'translateX(-' + offset.panel + 'px)';\n    };\n\n    action.refresh = function (newIndex) {\n      if (newIndex !== undefined) {\n        index = newIndex;\n        groupChange(newIndex);\n      }\n      _this.resizePanels();\n      offset = {\n        nav: firstControlNav.offsetWidth * index,\n        panel: groupParent.offsetWidth * index\n      };\n      translateX(offset);\n    };\n\n    action.nextGroup = function () {\n      var newIndex = index + 1;\n      if (newIndex !== siblingGroups.length) {\n        offset = {\n          nav: firstControlNav.offsetWidth * newIndex,\n          panel: groupParent.offsetWidth * newIndex\n        };\n        translateX(offset);\n        groupChange(newIndex);\n        index++;\n      } else {\n        var origOffset = {\n          nav: firstControlNav.style.transform,\n          panel: groupParent.style.transform\n        };\n        offset = {\n          nav: firstControlNav.offsetWidth * index + 10,\n          panel: groupParent.offsetWidth * index + 10\n        };\n        translateX(offset);\n        setTimeout(function () {\n          firstControlNav.style.transform = origOffset.nav;\n          groupParent.style.transform = origOffset.panel;\n        }, 150);\n      }\n\n      return _this3.currentPanel;\n    };\n\n    action.prevGroup = function () {\n      if (index !== 0) {\n        var newIndex = index - 1;\n        offset = {\n          nav: firstControlNav.offsetWidth * newIndex,\n          panel: groupParent.offsetWidth * newIndex\n        };\n        translateX(offset);\n        groupChange(newIndex);\n        index--;\n      } else {\n        var curTranslate = [firstControlNav.style.transform, groupParent.style.transform];\n        var nudge = 'translateX(10px)';\n        firstControlNav.style.transform = nudge;\n        groupParent.style.transform = nudge;\n        setTimeout(function () {\n          firstControlNav.style.transform = curTranslate[0];\n          groupParent.style.transform = curTranslate[1];\n        }, 150);\n      }\n    };\n\n    return action;\n  };\n\n  return Panels;\n}();\n\nexports.default = Panels;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tcG9uZW50cy9wYW5lbHMuanM/YWQxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XHJcbmltcG9ydCBTb3J0YWJsZSBmcm9tICdzb3J0YWJsZWpzJztcclxuaW1wb3J0IGggZnJvbSAnLi4vY29tbW9uL2hlbHBlcnMnO1xyXG5pbXBvcnQgZG9tIGZyb20gJy4uL2NvbW1vbi9kb20nO1xyXG5pbXBvcnQge2RhdGF9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcclxuXHJcbmNvbnN0IGRlZmF1bHRzID0ge1xyXG4gIHR5cGU6ICdmaWVsZCdcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFZGl0IGFuZCBjb250cm9sIHNsaWRpbmcgcGFuZWxzXHJcbiAqL1xyXG4gZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuZWxzIHtcclxuIC8qKlxyXG4gKiBQYW5lbHMgaW5pdGlhbCBzZXR1cFxyXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgUGFuZWxzIGNvbmZpZ1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9IFBhbmVsc1xyXG4gKi9cclxuIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gIGxldCBjb250ZW50ID0gW107XHJcbiAgX3RoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgX3RoaXMubGFiZWxzID0gX3RoaXMucGFuZWxOYXYoKTtcclxuICBsZXQgcGFuZWxzID0gX3RoaXMucGFuZWxzV3JhcCgpO1xyXG5cclxuICBfdGhpcy5wYW5lbHMgPSBwYW5lbHMuY2hpbGROb2RlcztcclxuICBfdGhpcy5jdXJyZW50UGFuZWwgPSBfdGhpcy5wYW5lbHNbMF07XHJcbiAgX3RoaXMubmF2ID0gX3RoaXMubmF2QWN0aW9ucygpO1xyXG4gIGlmIChfdGhpcy5vcHRzLnR5cGUgPT09ICdmaWVsZCcpIHtcclxuICAgIHNldFRpbWVvdXQoX3RoaXMuc2V0UGFuZWxzSGVpZ2h0LmJpbmQoX3RoaXMpLCAxMDApO1xyXG4gIH1cclxuXHJcbiAgX3RoaXMucGFuZWxEaXNwbGF5ID0gJ3NsaWRlcic7XHJcblxyXG4gIGlmKG9wdGlvbnMubWV0YUlEID09PSAnaHRtbC1zdW1tZXJub3RlJylcclxuICAgIGNvbnRlbnQucHVzaChfdGhpcy5zdW1tZXJub3RlUGFuZWwob3B0aW9ucy5pZCkpO1xyXG4gIGVsc2Uge1xyXG4gICAgY29udGVudC5wdXNoKF90aGlzLmxhYmVscyk7XHJcbiAgICBjb250ZW50LnB1c2gocGFuZWxzKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjb250ZW50OiBjb250ZW50LFxyXG4gICAgbmF2OiBfdGhpcy5uYXYsXHJcbiAgICBhY3Rpb25zOiB7XHJcbiAgICAgIHJlc2l6ZTogX3RoaXMucmVzaXplUGFuZWxzLmJpbmQoX3RoaXMpXHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuICAvKipcclxuICAgKiBSZXNpemUgdGhlIHBhbmVsIGFmdGVyIGl0cyBjb250ZW50cyBjaGFuZ2UgaW4gaGVpZ2h0XHJcbiAgICogQHJldHVybiB7U3RyaW5nfSBwYW5lbCdzIGhlaWdodCBpbiBwaXhlbHNcclxuICAgKi9cclxuICAgcmVzaXplUGFuZWxzKCkge1xyXG4gICAgaWYodGhpcy5wYW5lbHNXcmFwICYmIHRoaXMucGFuZWxzV3JhcC5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgIGxldCBwYW5lbHNXcmFwID0gdGhpcy5wYW5lbHNXcmFwO1xyXG4gICAgICBsZXQgY29sdW1uID0gcGFuZWxzV3JhcC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KGRvbS5nZXRTdHlsZShjb2x1bW4sICd3aWR0aCcpKTtcclxuICAgICAgbGV0IGlzVGFiYmVkID0gKHdpZHRoID4gMzkwKTtcclxuICAgICAgdGhpcy5wYW5lbERpc3BsYXkgPSBpc1RhYmJlZCA/ICd0YWJiZWQnIDogJ3NsaWRlcic7XHJcbiAgICAgIHBhbmVsc1dyYXAucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCd0YWJiZWQtcGFuZWxzJywgaXNUYWJiZWQpO1xyXG4gICAgICBsZXQgcGFuZWxTdHlsZSA9IHBhbmVsc1dyYXAuc3R5bGU7XHJcbiAgICAgIGxldCBhY3RpdmVQYW5lbEhlaWdodCA9IGRvbS5nZXRTdHlsZSh0aGlzLmN1cnJlbnRQYW5lbCwgJ2hlaWdodCcpO1xyXG4gICAgICByZXR1cm4gcGFuZWxTdHlsZS5oZWlnaHQgPSBhY3RpdmVQYW5lbEhlaWdodDtcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgcGFuZWwgaGVpZ2h0IHNvIHdlIGNhbiBhbmltYXRlIGl0IHdpdGggY3NzXHJcbiAgICovXHJcbiAgIHNldFBhbmVsc0hlaWdodCgpIHtcclxuICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0cy5pZCk7XHJcblxyXG4gICAgaWYgKGZpZWxkLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpICE9PSAnc3VtbWVybm90ZS1lZGl0JykgXHJcbiAgICAgIHRoaXMuc2xpZGVUb2dnbGUgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuZmllbGQtZWRpdCcpO1xyXG4gICAgZWxzZSAgIFxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgLy8gdGVtcCBzdHlsZXNcclxuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgdGhpcy5yZXNpemVQYW5lbHMoKTtcclxuXHJcbiAgICAvLyByZXNldCBzdHlsZXNcclxuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgdGhpcy5zbGlkZVRvZ2dsZS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV3JhcCBhIHBhbmVsIGFuZCBtYWtlIHByb3BlcnRpZXMgc29ydGFibGVcclxuICAgKiBpZiB0aGUgcGFuZWwgYmVsb25ncyB0byBhIGZpZWxkXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudFxyXG4gICAqL1xyXG4gICBwYW5lbHNXcmFwKCkge1xyXG4gICAgdGhpcy5wYW5lbHNXcmFwID0gZG9tLmNyZWF0ZSh7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiAncGFuZWxzJ1xyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50OiB0aGlzLm9wdHMucGFuZWxzXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnBhbmVsc1dyYXAgPSB0aGlzLnBhbmVsc1dyYXA7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0cy50eXBlID09PSAnZmllbGQnKSB7XHJcbiAgICAgIHRoaXMuc29ydGFibGVQcm9wZXJ0aWVzKHRoaXMucGFuZWxzV3JhcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucGFuZWxzV3JhcDtcclxuICB9XHJcblxyXG4gIC8qKiBFZHdpbiBSb3lcclxuICAgKiBDcmVhdGUgZWwgc3VtbWVybm90ZVxyXG4gICAqIGlmIHRoZSBwYW5lbCBiZWxvbmdzIHRvIGEgZmllbGRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XHJcbiAgICovXHJcbiAgIHN1bW1lcm5vdGVQYW5lbChmaWVsZElkKSB7XHJcbiAgICByZXR1cm4gZG9tLmNyZWF0ZSh7XHJcbiAgICAgIHRhZzogJ3RleHRhcmVhJyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgIGNsYXNzTmFtZTogJ3N1bW1lcm5vdGUtZWRpdCcsXHJcbiAgICAgICByb3dzOic0MCcsXHJcbiAgICAgICAnZGF0YS1maWVsZGlkJzogZmllbGRJZCxcclxuICAgICB9XHJcbiAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU29ydGFibGUgcGFuZWwgcHJvcGVydGllc1xyXG4gICAqIEBwYXJhbSAge0FycmF5fSBwYW5lbHNcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gcGFuZWwgZ3JvdXBzXHJcbiAgICovXHJcbiAgIHNvcnRhYmxlUHJvcGVydGllcyhwYW5lbHMpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgZ3JvdXBzID0gcGFuZWxzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ZpZWxkLWVkaXQtZ3JvdXAnKTtcclxuXHJcbiAgICByZXR1cm4gaC5mb3JFYWNoKGdyb3VwcywgKGdyb3VwLCBpbmRleCkgPT4ge1xyXG4gICAgICBncm91cC5maWVsZElEID0gX3RoaXMub3B0cy5pZDtcclxuICAgICAgaWYgKGdyb3VwLmlzU29ydGFibGUpIHtcclxuICAgICAgICBTb3J0YWJsZS5jcmVhdGUoZ3JvdXAsIHtcclxuICAgICAgICAgIGFuaW1hdGlvbjogMTUwLFxyXG4gICAgICAgICAgZ3JvdXA6IHtcclxuICAgICAgICAgICAgbmFtZTogJ2VkaXQtJyArIGdyb3VwLmVkaXRHcm91cCxcclxuICAgICAgICAgICAgcHVsbDogdHJ1ZSwgcHV0OiBbJ3Byb3BlcnRpZXMnXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNvcnQ6IHRydWUsXHJcbiAgICAgICAgICBoYW5kbGU6ICcucHJvcC1vcmRlcicsXHJcbiAgICAgICAgICBvblNvcnQ6IGV2dCA9PiB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BlcnR5U2F2ZShldnQudG8pO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXNpemVQYW5lbHMoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTYXZlIGEgZmllbGRzJyBwcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZ3JvdXAgcHJvcGVydHkgZ3JvdXBcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgIERPTSBub2RlIGZvciB1cGRhdGVkIHByb3BlcnR5IHByZXZpZXdcclxuICAgKi9cclxuICAgcHJvcGVydHlTYXZlKGdyb3VwKSB7XHJcbiAgICBjb25zdCBmaWVsZCA9IGRvbS5maWVsZHMuZ2V0KHRoaXMub3B0cy5pZCk7XHJcbiAgICBkYXRhLnNhdmUoZ3JvdXAuZWRpdEdyb3VwLCBncm91cCwgZmFsc2UpO1xyXG4gICAgcmV0dXJuIGZpZWxkLmluc3RhbmNlLnVwZGF0ZVByZXZpZXcoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBhbmVsIG5hdmlnYXRpb24sIHRhYnMgYW5kIGFycm93IGJ1dHRvbnMgZm9yIHNsaWRlclxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIG9iamVjdCBmb3IgcGFuZWwgbmF2aWdhdGlvbiB3cmFwcGVyXHJcbiAgICovXHJcbiAgIHBhbmVsTmF2KCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBwYW5lbE5hdkxhYmVscyA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICBjbGFzc05hbWU6ICdwYW5lbC1sYWJlbHMnXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICAgIGNvbnRlbnQ6IFtdXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBsZXQgcGFuZWxzID0gdGhpcy5vcHRzLnBhbmVsczsgLy8gbWFrZSBuZXcgYXJyYXlcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgcGFuZWxMYWJlbCA9IHtcclxuICAgICAgICB0YWc6ICdoNScsXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICBjbGljazogZXZ0ID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gaC5pbmRleE9mTm9kZShldnQudGFyZ2V0LCBldnQudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50UGFuZWwgPSBfdGhpcy5wYW5lbHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBsZXQgbGFiZWxzID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIF90aGlzLm5hdi5yZWZyZXNoKGluZGV4KTtcclxuICAgICAgICAgICAgZG9tLnJlbW92ZUNsYXNzZXMobGFiZWxzLCAnYWN0aXZlLXRhYicpO1xyXG4gICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS10YWInKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnQ6IHBhbmVsc1tpXS5jb25maWcubGFiZWxcclxuICAgICAgfTtcclxuICAgICAgZGVsZXRlIHBhbmVsc1tpXS5jb25maWcubGFiZWw7XHJcblxyXG4gICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgIHBhbmVsTGFiZWwuY2xhc3NOYW1lID0gJ2FjdGl2ZS10YWInO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwYW5lbE5hdkxhYmVscy5jb250ZW50LmNvbnRlbnQucHVzaChwYW5lbExhYmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV4dCA9IHtcclxuICAgICAgdGFnOiAnYnV0dG9uJyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICBjbGFzc05hbWU6ICduZXh0LWdyb3VwJyxcclxuICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NvbnRyb2xHcm91cHMubmV4dEdyb3VwJyksXHJcbiAgICAgICAgdHlwZTogJ2J1dHRvbidcclxuICAgICAgfSxcclxuICAgICAgZGF0YXNldDoge1xyXG4gICAgICAgIHRvZ2dsZTogJ3Rvb2x0aXAnLFxyXG4gICAgICAgIHBsYWNlbWVudDogJ3RvcCdcclxuICAgICAgfSxcclxuICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgY2xpY2s6IChlKSA9PiB0aGlzLm5hdi5uZXh0R3JvdXAoZSlcclxuICAgICAgfSxcclxuICAgICAgY29udGVudDogZG9tLmljb24oJ3RyaWFuZ2xlLXJpZ2h0JylcclxuICAgIH07XHJcbiAgICBsZXQgcHJldiA9IHtcclxuICAgICAgdGFnOiAnYnV0dG9uJyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICBjbGFzc05hbWU6ICdwcmV2LWdyb3VwJyxcclxuICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NvbnRyb2xHcm91cHMucHJldkdyb3VwJyksXHJcbiAgICAgICAgdHlwZTogJ2J1dHRvbidcclxuICAgICAgfSxcclxuICAgICAgZGF0YXNldDoge1xyXG4gICAgICAgIHRvZ2dsZTogJ3Rvb2x0aXAnLFxyXG4gICAgICAgIHBsYWNlbWVudDogJ3RvcCdcclxuICAgICAgfSxcclxuICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgY2xpY2s6IChlKSA9PiB0aGlzLm5hdi5wcmV2R3JvdXAoZSlcclxuICAgICAgfSxcclxuICAgICAgY29udGVudDogZG9tLmljb24oJ3RyaWFuZ2xlLWxlZnQnKVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZG9tLmNyZWF0ZSh7XHJcbiAgICAgIHRhZzogJ25hdicsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiAncGFuZWwtbmF2J1xyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50OiBbcHJldiwgcGFuZWxOYXZMYWJlbHMsIG5leHRdXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXJzIGZvciBuYXZpZ2F0aW5nIGJldHdlZW4gcGFuZWwgZ3JvdXBzXHJcbiAgICogQHRvZG8gcmVmYWN0b3IgdG8gdXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBpbnN0ZWFkIG9mIGNzcyB0cmFuc2l0aW9uc1xyXG4gICAqIEByZXR1cm4ge09iamVjdH0gYWN0aW9ucyB0aGF0IGNvbnRyb2wgcGFuZWwgZ3JvdXBzXHJcbiAgICovXHJcbiAgIG5hdkFjdGlvbnMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGFjdGlvbiA9IHt9O1xyXG4gICAgbGV0IGdyb3VwUGFyZW50ID0gdGhpcy5jdXJyZW50UGFuZWwucGFyZW50RWxlbWVudDtcclxuICAgIGxldCBmaXJzdENvbnRyb2xOYXYgPSB0aGlzLmxhYmVscy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtbGFiZWxzJykuZmlyc3RDaGlsZDtcclxuICAgIGxldCBzaWJsaW5nR3JvdXBzID0gdGhpcy5jdXJyZW50UGFuZWwucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzO1xyXG4gICAgbGV0IGluZGV4ID0gaC5pbmRleE9mTm9kZSh0aGlzLmN1cnJlbnRQYW5lbCwgZ3JvdXBQYXJlbnQpO1xyXG4gICAgbGV0IG9mZnNldCA9IHt9O1xyXG5cclxuICAgIGNvbnN0IGdyb3VwQ2hhbmdlID0gbmV3SW5kZXggPT4ge1xyXG4gICAgICB0aGlzLmN1cnJlbnRQYW5lbCA9IHNpYmxpbmdHcm91cHNbbmV3SW5kZXhdO1xyXG4gICAgICB0aGlzLnBhbmVsc1dyYXAuc3R5bGUuaGVpZ2h0ID0gZG9tLmdldFN0eWxlKHRoaXMuY3VycmVudFBhbmVsLCAnaGVpZ2h0Jyk7XHJcbiAgICAgIGlmICh0aGlzLm9wdHMudHlwZSA9PT0gJ2ZpZWxkJykge1xyXG4gICAgICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYW5lbDtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdHJhbnNsYXRlWCA9IG9mZnNldCA9PiB7XHJcbiAgICAgIGlmIChfdGhpcy5wYW5lbERpc3BsYXkgIT09ICd0YWJiZWQnKSB7XHJcbiAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke29mZnNldC5uYXZ9cHgpYDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmaXJzdENvbnRyb2xOYXYucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICB9XHJcbiAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke29mZnNldC5wYW5lbH1weClgO1xyXG4gICAgfTtcclxuXHJcbiAgICBhY3Rpb24ucmVmcmVzaCA9IG5ld0luZGV4ID0+IHtcclxuICAgICAgaWYgKG5ld0luZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpbmRleCA9IG5ld0luZGV4O1xyXG4gICAgICAgIGdyb3VwQ2hhbmdlKG5ld0luZGV4KTtcclxuICAgICAgfVxyXG4gICAgICBfdGhpcy5yZXNpemVQYW5lbHMoKTtcclxuICAgICAgb2Zmc2V0ID0ge1xyXG4gICAgICAgIG5hdjogZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogaW5kZXgsXHJcbiAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogaW5kZXhcclxuICAgICAgfTtcclxuICAgICAgdHJhbnNsYXRlWChvZmZzZXQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyBwYW5lbCB0byB0aGUgbmV4dCBncm91cFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBjdXJyZW50IGdyb3VwIGFmdGVyIG5hdmlnYXRpb25cclxuICAgICAqL1xyXG4gICAgIGFjdGlvbi5uZXh0R3JvdXAgPSAoKSA9PiB7XHJcbiAgICAgIGxldCBuZXdJbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgaWYgKG5ld0luZGV4ICE9PSBzaWJsaW5nR3JvdXBzLmxlbmd0aCkge1xyXG4gICAgICAgIG9mZnNldCA9IHtcclxuICAgICAgICAgIG5hdjogZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogbmV3SW5kZXgsXHJcbiAgICAgICAgICBwYW5lbDogZ3JvdXBQYXJlbnQub2Zmc2V0V2lkdGggKiBuZXdJbmRleFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJhbnNsYXRlWChvZmZzZXQpO1xyXG4gICAgICAgIGdyb3VwQ2hhbmdlKG5ld0luZGV4KTtcclxuICAgICAgICBpbmRleCsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBvcmlnT2Zmc2V0ID0ge1xyXG4gICAgICAgICAgbmF2OiBmaXJzdENvbnRyb2xOYXYuc3R5bGUudHJhbnNmb3JtLFxyXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgb2Zmc2V0ID0ge1xyXG4gICAgICAgICAgbmF2OiAoZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogaW5kZXgpICsgMTAsXHJcbiAgICAgICAgICBwYW5lbDogKGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogaW5kZXgpICsgMTBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyYW5zbGF0ZVgob2Zmc2V0KTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGZpcnN0Q29udHJvbE5hdi5zdHlsZS50cmFuc2Zvcm0gPSBvcmlnT2Zmc2V0Lm5hdjtcclxuICAgICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IG9yaWdPZmZzZXQucGFuZWw7XHJcbiAgICAgICAgfSwgMTUwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhbmVsO1xyXG4gICAgfTtcclxuXHJcbiAgICBhY3Rpb24ucHJldkdyb3VwID0gKCkgPT4ge1xyXG4gICAgICBpZiAoaW5kZXggIT09IDApIHtcclxuICAgICAgICBsZXQgbmV3SW5kZXggPSAoaW5kZXggLSAxKTtcclxuICAgICAgICBvZmZzZXQgPSB7XHJcbiAgICAgICAgICBuYXY6IGZpcnN0Q29udHJvbE5hdi5vZmZzZXRXaWR0aCAqIG5ld0luZGV4LFxyXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogbmV3SW5kZXhcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyYW5zbGF0ZVgob2Zmc2V0KTtcclxuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XHJcbiAgICAgICAgaW5kZXgtLTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgY3VyVHJhbnNsYXRlID0gW1xyXG4gICAgICAgIGZpcnN0Q29udHJvbE5hdi5zdHlsZS50cmFuc2Zvcm0sXHJcbiAgICAgICAgZ3JvdXBQYXJlbnQuc3R5bGUudHJhbnNmb3JtXHJcbiAgICAgICAgXTtcclxuICAgICAgICBsZXQgbnVkZ2UgPSAndHJhbnNsYXRlWCgxMHB4KSc7XHJcbiAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IG51ZGdlO1xyXG4gICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IG51ZGdlO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IGN1clRyYW5zbGF0ZVswXTtcclxuICAgICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IGN1clRyYW5zbGF0ZVsxXTtcclxuICAgICAgICB9LCAxNTApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBhY3Rpb247XHJcbiAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbXBvbmVudHMvcGFuZWxzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBTUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQU9BO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFGQTtBQVFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUdBO0FBZEE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQU9BO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUEvVkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(/*! ../sass/formeo.scss */ 19);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _helpers = __webpack_require__(/*! ./common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _data = __webpack_require__(/*! ./common/data */ 2);\n\nvar _events = __webpack_require__(/*! ./common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _actions = __webpack_require__(/*! ./common/actions */ 7);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dom = __webpack_require__(/*! ./common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _controls = __webpack_require__(/*! ./components/controls */ 13);\n\nvar _stage = __webpack_require__(/*! ./components/stage */ 16);\n\nvar _stage2 = _interopRequireDefault(_stage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar formeo = {\n  get formData() {\n    return _data.data.json;\n  }\n};\nvar opts = {};\n\nvar Formeo = function () {\n  function Formeo(options, userFormData) {\n    _classCallCheck(this, Formeo);\n\n    var defaults = {\n      allowEdit: true,\n      dataType: 'json',\n      debug: false,\n      sessionStorage: false,\n      container: '.formeo-wrap',\n      prefix: 'formeo-',\n\n      iconFontFallback: 'font-awesome',\n      events: {},\n      actions: {},\n      controls: {},\n      config: {\n        rows: {},\n        columns: {},\n        fields: {}\n      },\n      i18n: {\n        locale: 'es-ES',\n        langs: ['es-ES', 'en-US'],\n        preloaded: {\n          'en-US': {\n            'action.add.attrs.attr': 'What attribute would you like to add?',\n            'action.add.attrs.value': 'Default Value',\n            'addOption': 'Add Option',\n            'allFieldsRemoved': 'All fields were removed.',\n            'date.attr.min': 'Fecha mnima',\n            'allowSelect': 'Allow Select',\n            'attribute': 'Attribute',\n            'attributes': 'Attributes',\n            'attrs.class': 'Class',\n            'attrs.className': 'Class',\n            'attrs.required': 'Required Field',\n            'attrs.type': 'Type',\n            'attrs.id': 'Id',\n            'attrs.title': 'Title',\n            'attrs.style': 'Style',\n            'attrs.dir': 'Direction',\n            'autocomplete': 'Autocomplete',\n            'button': 'Button',\n            'cannotBeEmpty': 'This field cannot be empty',\n            'checkbox': 'Checkbox',\n            'checkboxes': 'Checkboxes',\n            'checkboxGroup': 'Checkbox Group',\n            'className': 'Class',\n            'class': 'Class',\n            'clear': 'Clear',\n            'clearAllMessage': 'Are you sure you want to clear all fields?',\n            'close': 'Close',\n            'column': 'Column',\n            'commonFields': 'Common Fields',\n            'confirmClearAll': 'Are you sure you want to remove all fields?',\n            'content': 'Content',\n            'control': 'Control',\n            'controlGroups.nextGroup': 'Next Group',\n            'controlGroups.prevGroup': 'Previous Group',\n            'copy': 'Copy To Clipboard',\n            'danger': 'Danger',\n            'description': 'Help Text',\n            'descriptionField': 'Description',\n            'devMode': 'Developer Mode',\n            'divider': 'Divider',\n            'editing.row': 'Editing Row',\n            'editNames': 'Edit Names',\n            'editorTitle': 'Form Elements',\n            'editXML': 'Edit XML',\n            'en-US': 'English',\n            'field': 'Field',\n            'fieldNonEditable': 'This field cannot be edited.',\n            'fieldRemoveWarning': 'Are you sure you want to remove this field?',\n            'fileUpload': 'File Upload',\n            'formUpdated': 'Form Updated',\n            'getStarted': 'Drag a field from the right to this area',\n            'group': 'Group',\n            'grouped': 'Grouped',\n            'header': 'Header',\n            'hidden': 'Hidden Input',\n            'hide': 'Edit',\n            'htmlElements': 'HTML Elements',\n            'info': 'Info',\n            'input.date': 'Date',\n            'input.text': 'Text',\n            'label': 'Label',\n            'labelCount': '{label} {count}',\n            'labelEmpty': 'Field Label cannot be empty',\n            'layout': 'Layout',\n            'limitRole': 'Limit access to one or more of the following roles:',\n            'mandatory': 'Mandatory',\n            'maxlength': 'Max Length',\n            'meta.group': 'Group',\n            'meta.icon': 'Ico',\n            'meta.label': 'Label',\n            'minOptionMessage': 'This field requires a minimum of 2 options',\n            'name': 'Name',\n            'no': 'No',\n            'number': 'Number',\n            'off': 'Off',\n            'on': 'On',\n            'option': 'Option',\n            'optional': 'optional',\n            'optionEmpty': 'Option value required',\n            'optionLabel': 'Option {count}',\n            'options': 'Options',\n            'panelEditButtons.attrs': '+ Attribute',\n            'panelEditButtons.options': '+ Option',\n            'panelLabels.attrs': 'Attrs',\n            'panelLabels.config': 'Config',\n            'panelLabels.meta': 'Meta',\n            'panelLabels.options': 'Options',\n            'paragraph': 'Paragraph',\n            'placeholder': 'Placeholder',\n            'placeholder.className': 'space separated classes',\n            'placeholder.email': 'Enter you email',\n            'placeholder.label': 'Label',\n            'placeholder.password': 'Enter your password',\n            'placeholder.placeholder': 'Placeholder',\n            'placeholder.text': 'Enter some Text',\n            'placeholder.textarea': 'Enter a lot of text',\n            'placeholder.value': 'Value',\n            'preview': 'Preview',\n            'primary': 'Primary',\n            'radio': 'Radio',\n            'radioGroup': 'Radio Group',\n            'remove': 'Remove',\n            'removeMessage': 'Remove Element',\n            'required': 'Required',\n            'reset': 'Reset',\n            'richText': 'Rich Text Editor',\n            'roles': 'Access',\n            'row': 'Row',\n            'row.makeInputGroup': 'Make this row an input group.',\n\n            'row.makeInputGroupDesc': 'Input Groups enable users to add sets of inputs at a time.',\n            'row.settings.fieldsetWrap': 'Wrap row in a &lt;fieldset&gt; tag',\n            'row.settings.fieldsetWrap.aria': 'Wrap Row in Fieldset',\n            'save': 'Save',\n            'secondary': 'Secondary',\n            'select': 'Select',\n            'selectColor': 'Select Color',\n            'selectionsMessage': 'Allow Multiple Selections',\n            'selectOptions': 'Options',\n            'separator': 'Separator',\n            'settings': 'Settings',\n            'size': 'Size',\n            'sizes': 'Sizes',\n            'sizes.lg': 'Large',\n            'sizes.m': 'Default',\n            'sizes.sm': 'Small',\n            'sizes.xs': 'Extra Small',\n            'style': 'Style',\n            'styles': 'Styles',\n            'styles.btn': 'Button Style',\n            'styles.btn.danger': 'Danger',\n            'styles.btn.default': 'Default',\n            'styles.btn.info': 'Info',\n            'styles.btn.primary': 'Primary',\n            'styles.btn.success': 'Success',\n            'styles.btn.warning': 'Warning',\n            'subtype': 'Type',\n            'success': 'Success',\n            'text': 'Text Field',\n            'textarea': 'Textarea',\n            'toggle': 'Toggle',\n            'ungrouped': 'Un-Grouped',\n            'viewXML': '<\/>',\n            'warning': 'Warning',\n            'yes': 'Yes'\n          }, 'es-ES': {\n            'action.add.attrs.attr': 'Qu atributo te gustara agregar?',\n            'action.add.attrs.value': 'Valor por defecto',\n            'addOption': 'Agregar opcin',\n            'allFieldsRemoved': 'Todos los campos han sido eliminados.',\n            'allowSelect': 'Permitir seleccionar',\n            'attribute': 'Atributo',\n            'attributes': 'Atributos',\n            'attrs.class': 'Clase',\n            'attrs.className': 'Nombre de la clase',\n            'attrs.required': 'Campo requerido',\n            'attrs.type': 'Tipo',\n            'attrs.id': 'Id',\n            'attrs.title': 'Titulo',\n            'attrs.style': 'Estilo',\n            'attrs.dir': 'Direccin',\n            'attrs.min': 'Valor mnimo',\n            'attrs.max': 'Valor mximo',\n            'attrs.Min': 'Fecha mnima',\n            'attrs.Max': 'Fecha mxima',\n            'attrs.value': 'Valor por defecto',\n            'attrs.step': 'Intervalo',\n            'attrs.accept': 'Tipo de archivo',\n            'attrs.size': 'Tamao del archivo en MB',\n            'attrs.placeholder': 'Etiqueta',\n            'attrs.maxlength': 'Cantidad mxima de caracteres',\n            'autocomplete': 'Autocompletar',\n            'button': 'Botn',\n            'cannotBeEmpty': 'Este campo no puede estar vaco',\n            'checkbox': 'Checkbox',\n            'checkboxes': 'Checkboxes',\n            'checkboxGroup': 'Grupo de Checkbox',\n            'className': 'Nombre de la clase',\n            'class': 'Clase',\n            'clear': 'Limpiar',\n            'clearAllMessage': 'Est seguro que desea limpiar todos los campos?',\n            'close': 'Cerrar',\n            'column': 'Columna',\n            'commonFields': 'Campos comunes',\n            'confirmClearAll': 'Est seguro que desea eliminar todos los campos?',\n            'content': 'Contenido',\n            'control': 'Control',\n            'controlGroups.nextGroup': 'Siguiente grupo',\n            'controlGroups.prevGroup': 'Grupo anterior',\n            'copy': 'Copiar en portapapeles',\n            'danger': 'Peligro',\n            'description': 'Texto de ayuda',\n            'descriptionField': 'Descripcin',\n            'devMode': 'Modo desarrollador',\n            'divider': 'Separador',\n            'editing.row': 'Editando fila',\n            'editNames': 'Editar nombres',\n            'editorTitle': 'Elementos del formulario',\n            'editXML': 'Editar XML',\n            'en-US': 'Ingles',\n            'field': 'Campo',\n            'fieldNonEditable': 'Este campo no puede ser editado.',\n            'fieldRemoveWarning': 'Est seguro que desea eliminar ste campo?',\n            'fileUpload': 'Subir archivo',\n            'formUpdated': 'Actualizar formulario',\n            'getStarted': 'Arrasta un campo de la derecha a esta rea',\n            'group': 'Grupo',\n            'grouped': 'Agrupado',\n            'header': 'Ttulo',\n            'hidden': 'Entrada oculta',\n            'hide': 'Editar',\n            'htmlElements': 'Elementos HTML',\n            'info': 'Info',\n            'input.date': 'Fecha',\n            'input.text': 'Texto',\n            'label': 'Etiqueta',\n            'labelCount': '{label} {count}',\n            'labelEmpty': 'La etiqueta del campo no puede estar vaca',\n            'layout': 'Diseo',\n            'limitRole': 'Limite el acceso a uno o ms de los siguientes roles:',\n            'mandatory': 'Obligatorio',\n            'maxlength': 'Longitud mxima',\n            'meta.group': 'Groupp',\n            'meta.icon': 'Ico',\n            'meta.label': 'Etiqueta',\n            'minOptionMessage': 'ste campo requiere un minimo de 2 opciones',\n            'name': 'Nombre',\n            'no': 'No',\n            'number': 'Nmero',\n            'off': 'Desactivado',\n            'on': 'Activado',\n            'option': 'Opcin',\n            'optional': 'Opcional',\n            'optionEmpty': 'Valor de la opcin requerido',\n            'optionLabel': 'Opcin {count}',\n            'options': 'Opciones',\n            'panelEditButtons.attrs': '+ Atributo',\n            'panelEditButtons.options': '+ Opcin',\n            'panelLabels.attrs': 'Atributos',\n            'panelLabels.config': 'Configurar',\n            'panelLabels.meta': 'Meta',\n            'panelLabels.options': 'Opciones',\n            'paragraph': 'Prrafo',\n            'placeholder': 'Etiqueta',\n            'placeholder.className': 'Clases separadas por espacio',\n            'placeholder.email': 'Ingresa tu correo',\n            'placeholder.label': 'Etiqueta',\n            'placeholder.password': 'Ingresa tu contrasea',\n            'placeholder.placeholder': 'Etiqueta',\n            'placeholder.text': 'Ingresa cualquier texto',\n            'placeholder.textarea': 'Ingresa una gran cantidad de texto',\n            'placeholder.value': 'Valor',\n            'placeholder.min': 'Valor mnimo',\n            'placeholder.max': 'Valor mximo',\n            'placeholder.Min': 'ao-mes-da, Ej: 2018-08-13',\n            'placeholder.Max': 'ao-mes-da, Ej: 2018-08-14',\n            'placeholder.step': 'Intervalo',\n            'placeholder.maxlength': 'Longitud mxima',\n            'preview': 'Vista previa',\n            'primary': 'Primario',\n            'radio': 'Radio',\n            'radioGroup': 'Grupo de Radio',\n            'remove': 'Eliminar',\n            'removeMessage': 'Eliminar elemento',\n            'required': 'Requerido',\n            'reset': 'Reiniciar',\n            'richText': 'Rich Text Editor',\n            'roles': 'Accesos',\n            'row': 'Fila',\n            'row.makeInputGroup': 'Convierte esta fila en un grupo de entrada.',\n\n            'row.makeInputGroupDesc': 'Los Inputs permiten a los usuarios agregar conjuntos de entradas a la vez.',\n            'row.settings.fieldsetWrap': 'Ajustar fila en una etiqueta &lt;fieldset&gt;',\n            'row.settings.fieldsetWrap.aria': 'Ajustar fila en Fieldset',\n            'save': 'Guardar',\n            'secondary': 'Secundario',\n            'select': 'Seleccionar',\n            'selectColor': 'Seleccionar texto',\n            'selectionsMessage': 'Permitir multiple seleccin',\n            'selectOptions': 'Options',\n            'separator': 'Separador',\n            'settings': 'Ajustes',\n            'size': 'Tamao',\n            'sizes': 'Tamaos',\n            'sizes.lg': 'Largo',\n            'sizes.m': 'Defecto',\n            'sizes.sm': 'Pequeo',\n            'sizes.xs': 'Extra pequeo',\n            'style': 'Estilo',\n            'styles': 'Estilos',\n            'styles.btn': 'Estilo de botn',\n            'styles.btn.danger': 'Peligro',\n            'styles.btn.default': 'Default',\n            'styles.btn.info': 'Info',\n            'styles.btn.primary': 'Primario',\n            'styles.btn.success': 'xito',\n            'styles.btn.warning': 'Advertencia',\n            'subtype': 'Tipo',\n            'success': 'xito',\n            'text': 'Campo de texto',\n            'textarea': 'rea de texto',\n            'toggle': 'Toggle',\n            'ungrouped': 'Sin agrupar',\n            'viewXML': '<\/>',\n            'warning': 'Advertencia',\n            'yes': 'Si'\n          }\n        }\n      }\n    };\n\n    var formeoLocale = window.sessionStorage.getItem('formeo-locale');\n    if (formeoLocale) {\n      defaults.i18n.locale = formeoLocale;\n    }\n\n    var _this = this;\n\n    _this.container = options.container || defaults.container;\n    if (typeof _this.container === 'string') {\n      _this.container = document.querySelector(_this.container);\n    }\n\n    delete options.container;\n\n    opts = _helpers2.default.merge(defaults, options);\n\n    _data.data.init(opts, userFormData);\n    _events2.default.init(opts.events);\n    _actions2.default.init(opts.actions);\n\n    _this.loadResources().then(function () {\n      _dom2.default.setConfig = opts.config;\n      formeo.render = function (renderTarget) {\n        return _dom2.default.renderForm.call(_dom2.default, renderTarget);\n      };\n      if (opts.allowEdit) {\n        formeo.edit = _this.init.bind(_this);\n        _this.init.call(_this);\n      }\n    });\n\n    return formeo;\n  }\n\n  Formeo.prototype.loadResources = function loadResources() {\n    var promises = [];\n\n    if (opts.style) {\n      promises.push(_helpers2.default.ajax(opts.style, _helpers2.default.insertStyle));\n    }\n\n    if (opts.svgSprite) {\n      promises.push(_helpers2.default.ajax(opts.svgSprite, _helpers2.default.insertIcons));\n    }\n\n    return window.Promise.all(promises);\n  };\n\n  Formeo.prototype.init = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this = this;\n              _context.next = 3;\n              return _mi18n2.default.init(opts.i18n);\n\n            case 3:\n              _this.formID = _data.formData.id;\n              formeo.controls = new _controls.Controls(opts.controls, _this.formID);\n              _this.stages = _this.buildStages();\n              formeo.i18n = {\n                setLang: function setLang(formeoLocale) {\n                  window.sessionStorage.setItem('formeo-locale', formeoLocale);\n                  var loadLang = _mi18n2.default.setCurrent.call(_mi18n2.default, formeoLocale);\n                  loadLang.then(function () {\n                    _this.stages = _this.buildStages();\n                    formeo.controls = new _controls.Controls(opts.controls, _this.formID);\n                    _this.render();\n                  }, function (err) {\n                    err.message = 'There was an error retrieving the language files';\n                    console.error(err);\n                  });\n                }\n              };\n\n              _this.render();\n\n              return _context.abrupt('return', formeo);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function init() {\n      return _ref.apply(this, arguments);\n    }\n\n    return init;\n  }();\n\n  Formeo.prototype.buildStages = function buildStages() {\n    var stages = [];\n    var createStage = function createStage(stageID) {\n      return new _stage2.default(opts, stageID);\n    };\n    if (_data.formData.stages.size) {\n      _data.formData.stages.forEach(function (stageConf, stageID) {\n        stages.push(createStage(stageID));\n      });\n    } else {\n      stages.push(createStage());\n    }\n\n    return stages;\n  };\n\n  Formeo.prototype.render = function render() {\n    var _this = this;\n    var controls = formeo.controls.element;\n\n    var elemConfig = {\n      tag: 'div',\n      attrs: {\n        className: 'formeo formeo-editor',\n        id: _this.formID\n      },\n      content: [_this.stages, controls]\n    };\n\n    if (_mi18n2.default.current.dir) {\n      elemConfig.attrs.dir = _mi18n2.default.current.dir;\n      _dom2.default.dir = _mi18n2.default.current.dir;\n    }\n\n    var formeoElem = _dom2.default.create(elemConfig);\n\n    _this.container.innerHTML = '';\n    _this.container.appendChild(formeoElem);\n\n    _this.stages.forEach(function (stageWrap) {\n      var stage = stageWrap.childNodes[0];\n      stage.style.minHeight = _dom2.default.getStyle(controls, 'height');\n    });\n\n    _events2.default.formeoLoaded = new CustomEvent('formeoLoaded', {\n      detail: {\n        formeo: formeo\n      }\n    });\n\n    document.dispatchEvent(_events2.default.formeoLoaded);\n  };\n\n  return Formeo;\n}();\n\nif (window !== undefined) {\n  window.Formeo = Formeo;\n}\n\nexports.default = Formeo;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2Zvcm1lby5qcz8xNTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuaW1wb3J0ICcuLi9zYXNzL2Zvcm1lby5zY3NzJztcclxuaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xyXG5pbXBvcnQgaCBmcm9tICcuL2NvbW1vbi9oZWxwZXJzJztcclxuaW1wb3J0IHtkYXRhLCBmb3JtRGF0YX0gZnJvbSAnLi9jb21tb24vZGF0YSc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi9jb21tb24vZXZlbnRzJztcclxuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi9jb21tb24vYWN0aW9ucyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi9jb21tb24vZG9tJztcclxuaW1wb3J0IHtDb250cm9sc30gZnJvbSAnLi9jb21wb25lbnRzL2NvbnRyb2xzJztcclxuaW1wb3J0IFN0YWdlIGZyb20gJy4vY29tcG9uZW50cy9zdGFnZSc7XHJcblxyXG4vLyBTaW1wbGUgb2JqZWN0IGNvbmZpZyBmb3IgdGhlIG1haW4gcGFydCBvZiBmb3JtZW9cclxuY29uc3QgZm9ybWVvID0ge1xyXG4gIGdldCBmb3JtRGF0YSgpIHtcclxuICAgIHJldHVybiBkYXRhLmpzb247XHJcbiAgfVxyXG59O1xyXG5sZXQgb3B0cyA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIE1haW4gY2xhc3NcclxuICovXHJcbmNsYXNzIEZvcm1lbyB7XHJcbiAgLyoqXHJcbiAgICogW2NvbnN0cnVjdG9yIGRlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyAgZm9ybWVvIG9wdGlvbnNcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fSAgIHVzZXJGb3JtRGF0YSBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICBmb3JtZW8gcmVmZXJlbmNlcyBhbmQgYWN0aW9uc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHVzZXJGb3JtRGF0YSkge1xyXG4gICAgLy8gRGVmYXVsdCBvcHRpb25zXHJcbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcclxuICAgICAgYWxsb3dFZGl0OiB0cnVlLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICBkZWJ1ZzogZmFsc2UsXHJcbiAgICAgIHNlc3Npb25TdG9yYWdlOiBmYWxzZSxcclxuICAgICAgY29udGFpbmVyOiAnLmZvcm1lby13cmFwJyxcclxuICAgICAgcHJlZml4OiAnZm9ybWVvLScsXHJcbiAgICAgIC8vIHN2Z1Nwcml0ZTogbnVsbCwgLy8gY2hhbmdlIHRvIG51bGxcclxuICAgICAgaWNvbkZvbnRGYWxsYmFjazogJ2ZvbnQtYXdlc29tZScsIC8vICdnbHlwaGljb25zJyB8fCAnZm9udC1hd2Vzb21lJyB8fCAnZm9udGVsbG8nXHJcbiAgICAgIGV2ZW50czoge30sXHJcbiAgICAgIGFjdGlvbnM6IHt9LFxyXG4gICAgICBjb250cm9sczoge30sXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgIHJvd3M6IHt9LFxyXG4gICAgICAgIGNvbHVtbnM6IHt9LFxyXG4gICAgICAgIGZpZWxkczoge31cclxuICAgICAgfSxcclxuICAgICAgaTE4bjoge1xyXG4gICAgICAgIGxvY2FsZTogJ2VzLUVTJyxcclxuICAgICAgICBsYW5nczogW1xyXG4gICAgICAgICAgJ2VzLUVTJyxcclxuICAgICAgICAgICdlbi1VUydcclxuICAgICAgICBdLFxyXG4gICAgICAgIHByZWxvYWRlZDoge1xyXG4gICAgICAgICAgJ2VuLVVTJzoge1xyXG4gICAgICAgICAgICAnYWN0aW9uLmFkZC5hdHRycy5hdHRyJzogJ1doYXQgYXR0cmlidXRlIHdvdWxkIHlvdSBsaWtlIHRvIGFkZD8nLFxyXG4gICAgICAgICAgICAnYWN0aW9uLmFkZC5hdHRycy52YWx1ZSc6ICdEZWZhdWx0IFZhbHVlJyxcclxuICAgICAgICAgICAgJ2FkZE9wdGlvbic6ICdBZGQgT3B0aW9uJyxcclxuICAgICAgICAgICAgJ2FsbEZpZWxkc1JlbW92ZWQnOiAnQWxsIGZpZWxkcyB3ZXJlIHJlbW92ZWQuJyxcclxuICAgICAgICAgICAgJ2RhdGUuYXR0ci5taW4nOiAnRmVjaGEgbcOtbmltYScsXHJcbiAgICAgICAgICAgICdhbGxvd1NlbGVjdCc6ICdBbGxvdyBTZWxlY3QnLFxyXG4gICAgICAgICAgICAnYXR0cmlidXRlJzogJ0F0dHJpYnV0ZScsXHJcbiAgICAgICAgICAgICdhdHRyaWJ1dGVzJzogJ0F0dHJpYnV0ZXMnLFxyXG4gICAgICAgICAgICAnYXR0cnMuY2xhc3MnOiAnQ2xhc3MnLFxyXG4gICAgICAgICAgICAnYXR0cnMuY2xhc3NOYW1lJzogJ0NsYXNzJyxcclxuICAgICAgICAgICAgJ2F0dHJzLnJlcXVpcmVkJzogJ1JlcXVpcmVkIEZpZWxkJyxcclxuICAgICAgICAgICAgJ2F0dHJzLnR5cGUnOiAnVHlwZScsXHJcbiAgICAgICAgICAgICdhdHRycy5pZCc6ICdJZCcsXHJcbiAgICAgICAgICAgICdhdHRycy50aXRsZSc6ICdUaXRsZScsXHJcbiAgICAgICAgICAgICdhdHRycy5zdHlsZSc6ICdTdHlsZScsXHJcbiAgICAgICAgICAgICdhdHRycy5kaXInOiAnRGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgJ2F1dG9jb21wbGV0ZSc6ICdBdXRvY29tcGxldGUnLFxyXG4gICAgICAgICAgICAnYnV0dG9uJzogJ0J1dHRvbicsXHJcbiAgICAgICAgICAgICdjYW5ub3RCZUVtcHR5JzogJ1RoaXMgZmllbGQgY2Fubm90IGJlIGVtcHR5JyxcclxuICAgICAgICAgICAgJ2NoZWNrYm94JzogJ0NoZWNrYm94JyxcclxuICAgICAgICAgICAgJ2NoZWNrYm94ZXMnOiAnQ2hlY2tib3hlcycsXHJcbiAgICAgICAgICAgICdjaGVja2JveEdyb3VwJzogJ0NoZWNrYm94IEdyb3VwJyxcclxuICAgICAgICAgICAgJ2NsYXNzTmFtZSc6ICdDbGFzcycsXHJcbiAgICAgICAgICAgICdjbGFzcyc6ICdDbGFzcycsXHJcbiAgICAgICAgICAgICdjbGVhcic6ICdDbGVhcicsXHJcbiAgICAgICAgICAgICdjbGVhckFsbE1lc3NhZ2UnOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIGFsbCBmaWVsZHM/JyxcclxuICAgICAgICAgICAgJ2Nsb3NlJzogJ0Nsb3NlJyxcclxuICAgICAgICAgICAgJ2NvbHVtbic6ICdDb2x1bW4nLFxyXG4gICAgICAgICAgICAnY29tbW9uRmllbGRzJzogJ0NvbW1vbiBGaWVsZHMnLFxyXG4gICAgICAgICAgICAnY29uZmlybUNsZWFyQWxsJzogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgYWxsIGZpZWxkcz8nLFxyXG4gICAgICAgICAgICAnY29udGVudCc6ICdDb250ZW50JyxcclxuICAgICAgICAgICAgJ2NvbnRyb2wnOiAnQ29udHJvbCcsXHJcbiAgICAgICAgICAgICdjb250cm9sR3JvdXBzLm5leHRHcm91cCc6ICdOZXh0IEdyb3VwJyxcclxuICAgICAgICAgICAgJ2NvbnRyb2xHcm91cHMucHJldkdyb3VwJzogJ1ByZXZpb3VzIEdyb3VwJyxcclxuICAgICAgICAgICAgJ2NvcHknOiAnQ29weSBUbyBDbGlwYm9hcmQnLFxyXG4gICAgICAgICAgICAnZGFuZ2VyJzogJ0RhbmdlcicsXHJcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbic6ICdIZWxwIFRleHQnLFxyXG4gICAgICAgICAgICAnZGVzY3JpcHRpb25GaWVsZCc6ICdEZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICdkZXZNb2RlJzogJ0RldmVsb3BlciBNb2RlJyxcclxuICAgICAgICAgICAgJ2RpdmlkZXInOiAnRGl2aWRlcicsXHJcbiAgICAgICAgICAgICdlZGl0aW5nLnJvdyc6ICdFZGl0aW5nIFJvdycsXHJcbiAgICAgICAgICAgICdlZGl0TmFtZXMnOiAnRWRpdCBOYW1lcycsXHJcbiAgICAgICAgICAgICdlZGl0b3JUaXRsZSc6ICdGb3JtIEVsZW1lbnRzJyxcclxuICAgICAgICAgICAgJ2VkaXRYTUwnOiAnRWRpdCBYTUwnLFxyXG4gICAgICAgICAgICAnZW4tVVMnOiAnRW5nbGlzaCcsXHJcbiAgICAgICAgICAgICdmaWVsZCc6ICdGaWVsZCcsXHJcbiAgICAgICAgICAgICdmaWVsZE5vbkVkaXRhYmxlJzogJ1RoaXMgZmllbGQgY2Fubm90IGJlIGVkaXRlZC4nLFxyXG4gICAgICAgICAgICAnZmllbGRSZW1vdmVXYXJuaW5nJzogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBmaWVsZD8nLFxyXG4gICAgICAgICAgICAnZmlsZVVwbG9hZCc6ICdGaWxlIFVwbG9hZCcsXHJcbiAgICAgICAgICAgICdmb3JtVXBkYXRlZCc6ICdGb3JtIFVwZGF0ZWQnLFxyXG4gICAgICAgICAgICAnZ2V0U3RhcnRlZCc6ICdEcmFnIGEgZmllbGQgZnJvbSB0aGUgcmlnaHQgdG8gdGhpcyBhcmVhJyxcclxuICAgICAgICAgICAgJ2dyb3VwJzogJ0dyb3VwJyxcclxuICAgICAgICAgICAgJ2dyb3VwZWQnOiAnR3JvdXBlZCcsXHJcbiAgICAgICAgICAgICdoZWFkZXInOiAnSGVhZGVyJyxcclxuICAgICAgICAgICAgJ2hpZGRlbic6ICdIaWRkZW4gSW5wdXQnLFxyXG4gICAgICAgICAgICAnaGlkZSc6ICdFZGl0JyxcclxuICAgICAgICAgICAgJ2h0bWxFbGVtZW50cyc6ICdIVE1MIEVsZW1lbnRzJyxcclxuICAgICAgICAgICAgJ2luZm8nOiAnSW5mbycsXHJcbiAgICAgICAgICAgICdpbnB1dC5kYXRlJzogJ0RhdGUnLFxyXG4gICAgICAgICAgICAnaW5wdXQudGV4dCc6ICdUZXh0JyxcclxuICAgICAgICAgICAgJ2xhYmVsJzogJ0xhYmVsJyxcclxuICAgICAgICAgICAgJ2xhYmVsQ291bnQnOiAne2xhYmVsfSB7Y291bnR9JyxcclxuICAgICAgICAgICAgJ2xhYmVsRW1wdHknOiAnRmllbGQgTGFiZWwgY2Fubm90IGJlIGVtcHR5JyxcclxuICAgICAgICAgICAgJ2xheW91dCc6ICdMYXlvdXQnLFxyXG4gICAgICAgICAgICAnbGltaXRSb2xlJzogJ0xpbWl0IGFjY2VzcyB0byBvbmUgb3IgbW9yZSBvZiB0aGUgZm9sbG93aW5nIHJvbGVzOicsXHJcbiAgICAgICAgICAgICdtYW5kYXRvcnknOiAnTWFuZGF0b3J5JyxcclxuICAgICAgICAgICAgJ21heGxlbmd0aCc6ICdNYXggTGVuZ3RoJyxcclxuICAgICAgICAgICAgJ21ldGEuZ3JvdXAnOiAnR3JvdXAnLFxyXG4gICAgICAgICAgICAnbWV0YS5pY29uJzogJ0ljbycsXHJcbiAgICAgICAgICAgICdtZXRhLmxhYmVsJzogJ0xhYmVsJyxcclxuICAgICAgICAgICAgJ21pbk9wdGlvbk1lc3NhZ2UnOiAnVGhpcyBmaWVsZCByZXF1aXJlcyBhIG1pbmltdW0gb2YgMiBvcHRpb25zJyxcclxuICAgICAgICAgICAgJ25hbWUnOiAnTmFtZScsXHJcbiAgICAgICAgICAgICdubyc6ICdObycsXHJcbiAgICAgICAgICAgICdudW1iZXInOiAnTnVtYmVyJyxcclxuICAgICAgICAgICAgJ29mZic6ICdPZmYnLFxyXG4gICAgICAgICAgICAnb24nOiAnT24nLFxyXG4gICAgICAgICAgICAnb3B0aW9uJzogJ09wdGlvbicsXHJcbiAgICAgICAgICAgICdvcHRpb25hbCc6ICdvcHRpb25hbCcsXHJcbiAgICAgICAgICAgICdvcHRpb25FbXB0eSc6ICdPcHRpb24gdmFsdWUgcmVxdWlyZWQnLFxyXG4gICAgICAgICAgICAnb3B0aW9uTGFiZWwnOiAnT3B0aW9uIHtjb3VudH0nLFxyXG4gICAgICAgICAgICAnb3B0aW9ucyc6ICdPcHRpb25zJyxcclxuICAgICAgICAgICAgJ3BhbmVsRWRpdEJ1dHRvbnMuYXR0cnMnOiAnKyBBdHRyaWJ1dGUnLFxyXG4gICAgICAgICAgICAncGFuZWxFZGl0QnV0dG9ucy5vcHRpb25zJzogJysgT3B0aW9uJyxcclxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLmF0dHJzJzogJ0F0dHJzJyxcclxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLmNvbmZpZyc6ICdDb25maWcnLFxyXG4gICAgICAgICAgICAncGFuZWxMYWJlbHMubWV0YSc6ICdNZXRhJyxcclxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLm9wdGlvbnMnOiAnT3B0aW9ucycsXHJcbiAgICAgICAgICAgICdwYXJhZ3JhcGgnOiAnUGFyYWdyYXBoJyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJzogJ1BsYWNlaG9sZGVyJyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLmNsYXNzTmFtZSc6ICdzcGFjZSBzZXBhcmF0ZWQgY2xhc3NlcycsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5lbWFpbCc6ICdFbnRlciB5b3UgZW1haWwnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIubGFiZWwnOiAnTGFiZWwnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIucGFzc3dvcmQnOiAnRW50ZXIgeW91ciBwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5wbGFjZWhvbGRlcic6ICdQbGFjZWhvbGRlcicsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci50ZXh0JzogJ0VudGVyIHNvbWUgVGV4dCcsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci50ZXh0YXJlYSc6ICdFbnRlciBhIGxvdCBvZiB0ZXh0JyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLnZhbHVlJzogJ1ZhbHVlJyxcclxuICAgICAgICAgICAgJ3ByZXZpZXcnOiAnUHJldmlldycsXHJcbiAgICAgICAgICAgICdwcmltYXJ5JzogJ1ByaW1hcnknLFxyXG4gICAgICAgICAgICAncmFkaW8nOiAnUmFkaW8nLFxyXG4gICAgICAgICAgICAncmFkaW9Hcm91cCc6ICdSYWRpbyBHcm91cCcsXHJcbiAgICAgICAgICAgICdyZW1vdmUnOiAnUmVtb3ZlJyxcclxuICAgICAgICAgICAgJ3JlbW92ZU1lc3NhZ2UnOiAnUmVtb3ZlIEVsZW1lbnQnLFxyXG4gICAgICAgICAgICAncmVxdWlyZWQnOiAnUmVxdWlyZWQnLFxyXG4gICAgICAgICAgICAncmVzZXQnOiAnUmVzZXQnLFxyXG4gICAgICAgICAgICAncmljaFRleHQnOiAnUmljaCBUZXh0IEVkaXRvcicsXHJcbiAgICAgICAgICAgICdyb2xlcyc6ICdBY2Nlc3MnLFxyXG4gICAgICAgICAgICAncm93JzogJ1JvdycsXHJcbiAgICAgICAgICAgICdyb3cubWFrZUlucHV0R3JvdXAnOiAnTWFrZSB0aGlzIHJvdyBhbiBpbnB1dCBncm91cC4nLFxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgJ3Jvdy5tYWtlSW5wdXRHcm91cERlc2MnOiAnSW5wdXQgR3JvdXBzIGVuYWJsZSB1c2VycyB0byBhZGQgc2V0cyBvZiBpbnB1dHMgYXQgYSB0aW1lLicsXHJcbiAgICAgICAgICAgICdyb3cuc2V0dGluZ3MuZmllbGRzZXRXcmFwJzogJ1dyYXAgcm93IGluIGEgJmx0O2ZpZWxkc2V0Jmd0OyB0YWcnLFxyXG4gICAgICAgICAgICAncm93LnNldHRpbmdzLmZpZWxkc2V0V3JhcC5hcmlhJzogJ1dyYXAgUm93IGluIEZpZWxkc2V0JyxcclxuICAgICAgICAgICAgJ3NhdmUnOiAnU2F2ZScsXHJcbiAgICAgICAgICAgICdzZWNvbmRhcnknOiAnU2Vjb25kYXJ5JyxcclxuICAgICAgICAgICAgJ3NlbGVjdCc6ICdTZWxlY3QnLFxyXG4gICAgICAgICAgICAnc2VsZWN0Q29sb3InOiAnU2VsZWN0IENvbG9yJyxcclxuICAgICAgICAgICAgJ3NlbGVjdGlvbnNNZXNzYWdlJzogJ0FsbG93IE11bHRpcGxlIFNlbGVjdGlvbnMnLFxyXG4gICAgICAgICAgICAnc2VsZWN0T3B0aW9ucyc6ICdPcHRpb25zJyxcclxuICAgICAgICAgICAgJ3NlcGFyYXRvcic6ICdTZXBhcmF0b3InLFxyXG4gICAgICAgICAgICAnc2V0dGluZ3MnOiAnU2V0dGluZ3MnLFxyXG4gICAgICAgICAgICAnc2l6ZSc6ICdTaXplJyxcclxuICAgICAgICAgICAgJ3NpemVzJzogJ1NpemVzJyxcclxuICAgICAgICAgICAgJ3NpemVzLmxnJzogJ0xhcmdlJyxcclxuICAgICAgICAgICAgJ3NpemVzLm0nOiAnRGVmYXVsdCcsXHJcbiAgICAgICAgICAgICdzaXplcy5zbSc6ICdTbWFsbCcsXHJcbiAgICAgICAgICAgICdzaXplcy54cyc6ICdFeHRyYSBTbWFsbCcsXHJcbiAgICAgICAgICAgICdzdHlsZSc6ICdTdHlsZScsXHJcbiAgICAgICAgICAgICdzdHlsZXMnOiAnU3R5bGVzJyxcclxuICAgICAgICAgICAgJ3N0eWxlcy5idG4nOiAnQnV0dG9uIFN0eWxlJyxcclxuICAgICAgICAgICAgJ3N0eWxlcy5idG4uZGFuZ2VyJzogJ0RhbmdlcicsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmRlZmF1bHQnOiAnRGVmYXVsdCcsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmluZm8nOiAnSW5mbycsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLnByaW1hcnknOiAnUHJpbWFyeScsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLnN1Y2Nlc3MnOiAnU3VjY2VzcycsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLndhcm5pbmcnOiAnV2FybmluZycsXHJcbiAgICAgICAgICAgICdzdWJ0eXBlJzogJ1R5cGUnLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ICdTdWNjZXNzJyxcclxuICAgICAgICAgICAgJ3RleHQnOiAnVGV4dCBGaWVsZCcsXHJcbiAgICAgICAgICAgICd0ZXh0YXJlYSc6ICdUZXh0YXJlYScsXHJcbiAgICAgICAgICAgICd0b2dnbGUnOiAnVG9nZ2xlJyxcclxuICAgICAgICAgICAgJ3VuZ3JvdXBlZCc6ICdVbi1Hcm91cGVkJyxcclxuICAgICAgICAgICAgJ3ZpZXdYTUwnOiAnPC8+JyxcclxuICAgICAgICAgICAgJ3dhcm5pbmcnOiAnV2FybmluZycsXHJcbiAgICAgICAgICAgICd5ZXMnOiAnWWVzJ1xyXG4gICAgICAgICAgfSwgJ2VzLUVTJzoge1xyXG4gICAgICAgICAgICAnYWN0aW9uLmFkZC5hdHRycy5hdHRyJzogJ8K/UXXDqSBhdHJpYnV0byB0ZSBndXN0YXLDrWEgYWdyZWdhcj8nLFxyXG4gICAgICAgICAgICAnYWN0aW9uLmFkZC5hdHRycy52YWx1ZSc6ICdWYWxvciBwb3IgZGVmZWN0bycsXHJcbiAgICAgICAgICAgICdhZGRPcHRpb24nOiAnQWdyZWdhciBvcGNpw7NuJyxcclxuICAgICAgICAgICAgJ2FsbEZpZWxkc1JlbW92ZWQnOiAnVG9kb3MgbG9zIGNhbXBvcyBoYW4gc2lkbyBlbGltaW5hZG9zLicsXHJcbiAgICAgICAgICAgICdhbGxvd1NlbGVjdCc6ICdQZXJtaXRpciBzZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgICdhdHRyaWJ1dGUnOiAnQXRyaWJ1dG8nLFxyXG4gICAgICAgICAgICAnYXR0cmlidXRlcyc6ICdBdHJpYnV0b3MnLFxyXG4gICAgICAgICAgICAnYXR0cnMuY2xhc3MnOiAnQ2xhc2UnLFxyXG4gICAgICAgICAgICAnYXR0cnMuY2xhc3NOYW1lJzogJ05vbWJyZSBkZSBsYSBjbGFzZScsXHJcbiAgICAgICAgICAgICdhdHRycy5yZXF1aXJlZCc6ICdDYW1wbyByZXF1ZXJpZG8nLFxyXG4gICAgICAgICAgICAnYXR0cnMudHlwZSc6ICdUaXBvJyxcclxuICAgICAgICAgICAgJ2F0dHJzLmlkJzogJ0lkJyxcclxuICAgICAgICAgICAgJ2F0dHJzLnRpdGxlJzogJ1RpdHVsbycsXHJcbiAgICAgICAgICAgICdhdHRycy5zdHlsZSc6ICdFc3RpbG8nLFxyXG4gICAgICAgICAgICAnYXR0cnMuZGlyJzogJ0RpcmVjY2nDs24nLFxyXG4gICAgICAgICAgICAnYXR0cnMubWluJzogJ1ZhbG9yIG3DrW5pbW8nLFxyXG5cdFx0XHQnYXR0cnMubWF4JzogJ1ZhbG9yIG3DoXhpbW8nLFxyXG5cdFx0XHQnYXR0cnMuTWluJzogJ0ZlY2hhIG3DrW5pbWEnLFxyXG5cdFx0XHQnYXR0cnMuTWF4JzogJ0ZlY2hhIG3DoXhpbWEnLFxyXG5cdFx0XHQnYXR0cnMudmFsdWUnOiAnVmFsb3IgcG9yIGRlZmVjdG8nLFxyXG5cdFx0XHQnYXR0cnMuc3RlcCc6ICdJbnRlcnZhbG8nLFxyXG4gICAgICAgICAgICAnYXR0cnMuYWNjZXB0JzogJ1RpcG8gZGUgYXJjaGl2bycsXHJcbiAgICAgICAgICAgICdhdHRycy5zaXplJyA6ICdUYW1hw7FvIGRlbCBhcmNoaXZvIGVuIE1CJyxcclxuICAgICAgICAgICAgJ2F0dHJzLnBsYWNlaG9sZGVyJyA6ICdFdGlxdWV0YScsXHJcbiAgICAgICAgICAgICdhdHRycy5tYXhsZW5ndGgnOiAnQ2FudGlkYWQgbcOheGltYSBkZSBjYXJhY3RlcmVzJyxcclxuICAgICAgICAgICAgJ2F1dG9jb21wbGV0ZSc6ICdBdXRvY29tcGxldGFyJyxcclxuICAgICAgICAgICAgJ2J1dHRvbic6ICdCb3TDs24nLFxyXG4gICAgICAgICAgICAnY2Fubm90QmVFbXB0eSc6ICdFc3RlIGNhbXBvIG5vIHB1ZWRlIGVzdGFyIHZhY8OtbycsXHJcbiAgICAgICAgICAgICdjaGVja2JveCc6ICdDaGVja2JveCcsXHJcbiAgICAgICAgICAgICdjaGVja2JveGVzJzogJ0NoZWNrYm94ZXMnLFxyXG4gICAgICAgICAgICAnY2hlY2tib3hHcm91cCc6ICdHcnVwbyBkZSBDaGVja2JveCcsXHJcbiAgICAgICAgICAgICdjbGFzc05hbWUnOiAnTm9tYnJlIGRlIGxhIGNsYXNlJyxcclxuICAgICAgICAgICAgJ2NsYXNzJzogJ0NsYXNlJyxcclxuICAgICAgICAgICAgJ2NsZWFyJzogJ0xpbXBpYXInLFxyXG4gICAgICAgICAgICAnY2xlYXJBbGxNZXNzYWdlJzogJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBsaW1waWFyIHRvZG9zIGxvcyBjYW1wb3M/JyxcclxuICAgICAgICAgICAgJ2Nsb3NlJzogJ0NlcnJhcicsXHJcbiAgICAgICAgICAgICdjb2x1bW4nOiAnQ29sdW1uYScsXHJcbiAgICAgICAgICAgICdjb21tb25GaWVsZHMnOiAnQ2FtcG9zIGNvbXVuZXMnLFxyXG4gICAgICAgICAgICAnY29uZmlybUNsZWFyQWxsJzogJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciB0b2RvcyBsb3MgY2FtcG9zPycsXHJcbiAgICAgICAgICAgICdjb250ZW50JzogJ0NvbnRlbmlkbycsXHJcbiAgICAgICAgICAgICdjb250cm9sJzogJ0NvbnRyb2wnLFxyXG4gICAgICAgICAgICAnY29udHJvbEdyb3Vwcy5uZXh0R3JvdXAnOiAnU2lndWllbnRlIGdydXBvJyxcclxuICAgICAgICAgICAgJ2NvbnRyb2xHcm91cHMucHJldkdyb3VwJzogJ0dydXBvIGFudGVyaW9yJyxcclxuICAgICAgICAgICAgJ2NvcHknOiAnQ29waWFyIGVuIHBvcnRhcGFwZWxlcycsXHJcbiAgICAgICAgICAgICdkYW5nZXInOiAnUGVsaWdybycsXHJcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbic6ICdUZXh0byBkZSBheXVkYScsXHJcbiAgICAgICAgICAgICdkZXNjcmlwdGlvbkZpZWxkJzogJ0Rlc2NyaXBjacOzbicsXHJcbiAgICAgICAgICAgICdkZXZNb2RlJzogJ01vZG8gZGVzYXJyb2xsYWRvcicsXHJcbiAgICAgICAgICAgICdkaXZpZGVyJzogJ1NlcGFyYWRvcicsXHJcbiAgICAgICAgICAgICdlZGl0aW5nLnJvdyc6ICdFZGl0YW5kbyBmaWxhJyxcclxuICAgICAgICAgICAgJ2VkaXROYW1lcyc6ICdFZGl0YXIgbm9tYnJlcycsXHJcbiAgICAgICAgICAgICdlZGl0b3JUaXRsZSc6ICdFbGVtZW50b3MgZGVsIGZvcm11bGFyaW8nLFxyXG4gICAgICAgICAgICAnZWRpdFhNTCc6ICdFZGl0YXIgWE1MJyxcclxuICAgICAgICAgICAgJ2VuLVVTJzogJ0luZ2xlcycsXHJcbiAgICAgICAgICAgICdmaWVsZCc6ICdDYW1wbycsXHJcbiAgICAgICAgICAgICdmaWVsZE5vbkVkaXRhYmxlJzogJ0VzdGUgY2FtcG8gbm8gcHVlZGUgc2VyIGVkaXRhZG8uJyxcclxuICAgICAgICAgICAgJ2ZpZWxkUmVtb3ZlV2FybmluZyc6ICfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgw6lzdGUgY2FtcG8/JyxcclxuICAgICAgICAgICAgJ2ZpbGVVcGxvYWQnOiAnU3ViaXIgYXJjaGl2bycsXHJcbiAgICAgICAgICAgICdmb3JtVXBkYXRlZCc6ICdBY3R1YWxpemFyIGZvcm11bGFyaW8nLFxyXG4gICAgICAgICAgICAnZ2V0U3RhcnRlZCc6ICdBcnJhc3RhIHVuIGNhbXBvIGRlIGxhIGRlcmVjaGEgYSBlc3RhIMOhcmVhJyxcclxuICAgICAgICAgICAgJ2dyb3VwJzogJ0dydXBvJyxcclxuICAgICAgICAgICAgJ2dyb3VwZWQnOiAnQWdydXBhZG8nLFxyXG4gICAgICAgICAgICAnaGVhZGVyJzogJ1TDrXR1bG8nLFxyXG4gICAgICAgICAgICAnaGlkZGVuJzogJ0VudHJhZGEgb2N1bHRhJyxcclxuICAgICAgICAgICAgJ2hpZGUnOiAnRWRpdGFyJyxcclxuICAgICAgICAgICAgJ2h0bWxFbGVtZW50cyc6ICdFbGVtZW50b3MgSFRNTCcsXHJcbiAgICAgICAgICAgICdpbmZvJzogJ0luZm8nLFxyXG4gICAgICAgICAgICAnaW5wdXQuZGF0ZSc6ICdGZWNoYScsXHJcbiAgICAgICAgICAgICdpbnB1dC50ZXh0JzogJ1RleHRvJyxcclxuICAgICAgICAgICAgJ2xhYmVsJzogJ0V0aXF1ZXRhJyxcclxuICAgICAgICAgICAgJ2xhYmVsQ291bnQnOiAne2xhYmVsfSB7Y291bnR9JyxcclxuICAgICAgICAgICAgJ2xhYmVsRW1wdHknOiAnTGEgZXRpcXVldGEgZGVsIGNhbXBvIG5vIHB1ZWRlIGVzdGFyIHZhY8OtYScsXHJcbiAgICAgICAgICAgICdsYXlvdXQnOiAnRGlzZcOxbycsXHJcbiAgICAgICAgICAgICdsaW1pdFJvbGUnOiAnTGltaXRlIGVsIGFjY2VzbyBhIHVubyBvIG3DoXMgZGUgbG9zIHNpZ3VpZW50ZXMgcm9sZXM6JyxcclxuICAgICAgICAgICAgJ21hbmRhdG9yeSc6ICdPYmxpZ2F0b3JpbycsXHJcbiAgICAgICAgICAgICdtYXhsZW5ndGgnOiAnTG9uZ2l0dWQgbcOheGltYScsXHJcbiAgICAgICAgICAgICdtZXRhLmdyb3VwJzogJ0dyb3VwcCcsXHJcbiAgICAgICAgICAgICdtZXRhLmljb24nOiAnSWNvJyxcclxuICAgICAgICAgICAgJ21ldGEubGFiZWwnOiAnRXRpcXVldGEnLFxyXG4gICAgICAgICAgICAnbWluT3B0aW9uTWVzc2FnZSc6ICfDiXN0ZSBjYW1wbyByZXF1aWVyZSB1biBtaW5pbW8gZGUgMiBvcGNpb25lcycsXHJcbiAgICAgICAgICAgICduYW1lJzogJ05vbWJyZScsXHJcbiAgICAgICAgICAgICdubyc6ICdObycsXHJcbiAgICAgICAgICAgICdudW1iZXInOiAnTsO6bWVybycsXHJcbiAgICAgICAgICAgICdvZmYnOiAnRGVzYWN0aXZhZG8nLFxyXG4gICAgICAgICAgICAnb24nOiAnQWN0aXZhZG8nLFxyXG4gICAgICAgICAgICAnb3B0aW9uJzogJ09wY2nDs24nLFxyXG4gICAgICAgICAgICAnb3B0aW9uYWwnOiAnT3BjaW9uYWwnLFxyXG4gICAgICAgICAgICAnb3B0aW9uRW1wdHknOiAnVmFsb3IgZGUgbGEgb3BjacOzbiByZXF1ZXJpZG8nLFxyXG4gICAgICAgICAgICAnb3B0aW9uTGFiZWwnOiAnT3BjacOzbiB7Y291bnR9JyxcclxuICAgICAgICAgICAgJ29wdGlvbnMnOiAnT3BjaW9uZXMnLFxyXG4gICAgICAgICAgICAncGFuZWxFZGl0QnV0dG9ucy5hdHRycyc6ICcrIEF0cmlidXRvJyxcclxuICAgICAgICAgICAgJ3BhbmVsRWRpdEJ1dHRvbnMub3B0aW9ucyc6ICcrIE9wY2nDs24nLFxyXG4gICAgICAgICAgICAncGFuZWxMYWJlbHMuYXR0cnMnOiAnQXRyaWJ1dG9zJyxcclxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLmNvbmZpZyc6ICdDb25maWd1cmFyJyxcclxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLm1ldGEnOiAnTWV0YScsXHJcbiAgICAgICAgICAgICdwYW5lbExhYmVscy5vcHRpb25zJzogJ09wY2lvbmVzJyxcclxuICAgICAgICAgICAgJ3BhcmFncmFwaCc6ICdQw6FycmFmbycsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICdFdGlxdWV0YScsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5jbGFzc05hbWUnOiAnQ2xhc2VzIHNlcGFyYWRhcyBwb3IgZXNwYWNpbycsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5lbWFpbCc6ICdJbmdyZXNhIHR1IGNvcnJlbycsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5sYWJlbCc6ICdFdGlxdWV0YScsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5wYXNzd29yZCc6ICdJbmdyZXNhIHR1IGNvbnRyYXNlw7FhJyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLnBsYWNlaG9sZGVyJzogJ0V0aXF1ZXRhJyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLnRleHQnOiAnSW5ncmVzYSBjdWFscXVpZXIgdGV4dG8nLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIudGV4dGFyZWEnOiAnSW5ncmVzYSB1bmEgZ3JhbiBjYW50aWRhZCBkZSB0ZXh0bycsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci52YWx1ZSc6ICdWYWxvcicsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5taW4nOiAnVmFsb3IgbcOtbmltbycsICAgICBcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLm1heCc6ICdWYWxvciBtw6F4aW1vJywgICAgICAgICBcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLk1pbic6ICdhw7FvLW1lcy1kw61hLCBFajogMjAxOC0wOC0xMycsICAgICBcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLk1heCc6ICdhw7FvLW1lcy1kw61hLCBFajogMjAxOC0wOC0xNCcsICAgIFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIuc3RlcCc6ICdJbnRlcnZhbG8nLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIubWF4bGVuZ3RoJzogJ0xvbmdpdHVkIG3DoXhpbWEnLFxyXG4gICAgICAgICAgICAncHJldmlldyc6ICdWaXN0YSBwcmV2aWEnLFxyXG4gICAgICAgICAgICAncHJpbWFyeSc6ICdQcmltYXJpbycsXHJcbiAgICAgICAgICAgICdyYWRpbyc6ICdSYWRpbycsXHJcbiAgICAgICAgICAgICdyYWRpb0dyb3VwJzogJ0dydXBvIGRlIFJhZGlvJyxcclxuICAgICAgICAgICAgJ3JlbW92ZSc6ICdFbGltaW5hcicsXHJcbiAgICAgICAgICAgICdyZW1vdmVNZXNzYWdlJzogJ0VsaW1pbmFyIGVsZW1lbnRvJyxcclxuICAgICAgICAgICAgJ3JlcXVpcmVkJzogJ1JlcXVlcmlkbycsXHJcbiAgICAgICAgICAgICdyZXNldCc6ICdSZWluaWNpYXInLFxyXG4gICAgICAgICAgICAncmljaFRleHQnOiAnUmljaCBUZXh0IEVkaXRvcicsXHJcbiAgICAgICAgICAgICdyb2xlcyc6ICdBY2Nlc29zJyxcclxuICAgICAgICAgICAgJ3Jvdyc6ICdGaWxhJyxcclxuICAgICAgICAgICAgJ3Jvdy5tYWtlSW5wdXRHcm91cCc6ICdDb252aWVydGUgZXN0YSBmaWxhIGVuIHVuIGdydXBvIGRlIGVudHJhZGEuJyxcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICAgICdyb3cubWFrZUlucHV0R3JvdXBEZXNjJzogJ0xvcyBJbnB1dHMgcGVybWl0ZW4gYSBsb3MgdXN1YXJpb3MgYWdyZWdhciBjb25qdW50b3MgZGUgZW50cmFkYXMgYSBsYSB2ZXouJyxcclxuICAgICAgICAgICAgJ3Jvdy5zZXR0aW5ncy5maWVsZHNldFdyYXAnOiAnQWp1c3RhciBmaWxhIGVuIHVuYSBldGlxdWV0YSAmbHQ7ZmllbGRzZXQmZ3Q7JyxcclxuICAgICAgICAgICAgJ3Jvdy5zZXR0aW5ncy5maWVsZHNldFdyYXAuYXJpYSc6ICdBanVzdGFyIGZpbGEgZW4gRmllbGRzZXQnLFxyXG4gICAgICAgICAgICAnc2F2ZSc6ICdHdWFyZGFyJyxcclxuICAgICAgICAgICAgJ3NlY29uZGFyeSc6ICdTZWN1bmRhcmlvJyxcclxuICAgICAgICAgICAgJ3NlbGVjdCc6ICdTZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgICdzZWxlY3RDb2xvcic6ICdTZWxlY2Npb25hciB0ZXh0bycsXHJcbiAgICAgICAgICAgICdzZWxlY3Rpb25zTWVzc2FnZSc6ICdQZXJtaXRpciBtdWx0aXBsZSBzZWxlY2Npw7NuJyxcclxuICAgICAgICAgICAgJ3NlbGVjdE9wdGlvbnMnOiAnT3B0aW9ucycsXHJcbiAgICAgICAgICAgICdzZXBhcmF0b3InOiAnU2VwYXJhZG9yJyxcclxuICAgICAgICAgICAgJ3NldHRpbmdzJzogJ0FqdXN0ZXMnLFxyXG4gICAgICAgICAgICAnc2l6ZSc6ICdUYW1hw7FvJyxcclxuICAgICAgICAgICAgJ3NpemVzJzogJ1RhbWHDsW9zJyxcclxuICAgICAgICAgICAgJ3NpemVzLmxnJzogJ0xhcmdvJyxcclxuICAgICAgICAgICAgJ3NpemVzLm0nOiAnRGVmZWN0bycsXHJcbiAgICAgICAgICAgICdzaXplcy5zbSc6ICdQZXF1ZcOxbycsXHJcbiAgICAgICAgICAgICdzaXplcy54cyc6ICdFeHRyYcOxIHBlcXVlw7FvJyxcclxuICAgICAgICAgICAgJ3N0eWxlJzogJ0VzdGlsbycsXHJcbiAgICAgICAgICAgICdzdHlsZXMnOiAnRXN0aWxvcycsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuJzogJ0VzdGlsbyBkZSBib3TDs24nLFxyXG4gICAgICAgICAgICAnc3R5bGVzLmJ0bi5kYW5nZXInOiAnUGVsaWdybycsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmRlZmF1bHQnOiAnRGVmYXVsdCcsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmluZm8nOiAnSW5mbycsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLnByaW1hcnknOiAnUHJpbWFyaW8nLFxyXG4gICAgICAgICAgICAnc3R5bGVzLmJ0bi5zdWNjZXNzJzogJ8OJeGl0bycsXHJcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLndhcm5pbmcnOiAnQWR2ZXJ0ZW5jaWEnLFxyXG4gICAgICAgICAgICAnc3VidHlwZSc6ICdUaXBvJyxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAnw4l4aXRvJyxcclxuICAgICAgICAgICAgJ3RleHQnOiAnQ2FtcG8gZGUgdGV4dG8nLFxyXG4gICAgICAgICAgICAndGV4dGFyZWEnOiAnw4FyZWEgZGUgdGV4dG8nLFxyXG4gICAgICAgICAgICAndG9nZ2xlJzogJ1RvZ2dsZScsXHJcbiAgICAgICAgICAgICd1bmdyb3VwZWQnOiAnU2luIGFncnVwYXInLFxyXG4gICAgICAgICAgICAndmlld1hNTCc6ICc8Lz4nLFxyXG4gICAgICAgICAgICAnd2FybmluZyc6ICdBZHZlcnRlbmNpYScsXHJcbiAgICAgICAgICAgICd5ZXMnOiAnU2knXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBmb3JtZW9Mb2NhbGUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZm9ybWVvLWxvY2FsZScpO1xyXG4gICAgaWYgKGZvcm1lb0xvY2FsZSkge1xyXG4gICAgICBkZWZhdWx0cy5pMThuLmxvY2FsZSA9IGZvcm1lb0xvY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIF90aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8IGRlZmF1bHRzLmNvbnRhaW5lcjtcclxuICAgIGlmICh0eXBlb2YgX3RoaXMuY29udGFpbmVyID09PSAnc3RyaW5nJykge1xyXG4gICAgICBfdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKF90aGlzLmNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGBjb250YWluZXJgIHByb3BlcnR5IGJlZm9yZSBleHRlbmRpbmcgYmVjYXVzZSBjb250YWluZXJcclxuICAgIC8vIG1heSBiZSBFbGVtZW50XHJcbiAgICBkZWxldGUgb3B0aW9ucy5jb250YWluZXI7XHJcblxyXG4gICAgb3B0cyA9IGgubWVyZ2UoZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgIGRhdGEuaW5pdChvcHRzLCB1c2VyRm9ybURhdGEpO1xyXG4gICAgZXZlbnRzLmluaXQob3B0cy5ldmVudHMpO1xyXG4gICAgYWN0aW9ucy5pbml0KG9wdHMuYWN0aW9ucyk7XHJcblxyXG4gICAgLy8gTG9hZCByZW1vdGUgcmVzb3VyY2VzIHN1Y2ggYXMgY3NzIGFuZCBzdmcgc3ByaXRlXHJcbiAgICBfdGhpcy5sb2FkUmVzb3VyY2VzKCkudGhlbigoKSA9PiB7XHJcbiAgICAgIGRvbS5zZXRDb25maWcgPSBvcHRzLmNvbmZpZztcclxuICAgICAgZm9ybWVvLnJlbmRlciA9IHJlbmRlclRhcmdldCA9PiBkb20ucmVuZGVyRm9ybS5jYWxsKGRvbSwgcmVuZGVyVGFyZ2V0KTtcclxuICAgICAgaWYgKG9wdHMuYWxsb3dFZGl0KSB7XHJcbiAgICAgICAgZm9ybWVvLmVkaXQgPSBfdGhpcy5pbml0LmJpbmQoX3RoaXMpO1xyXG4gICAgICAgIF90aGlzLmluaXQuY2FsbChfdGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmb3JtZW87XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIHJlbW90ZSByZXNvdXJjZXNcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBhc3luY2hyb25vdXNseSBsb2FkZWQgcmVtb3RlIHJlc291cmNlc1xyXG4gICAqL1xyXG4gIGxvYWRSZXNvdXJjZXMoKSB7XHJcbiAgICBsZXQgcHJvbWlzZXMgPSBbXTtcclxuXHJcbiAgICBpZiAob3B0cy5zdHlsZSkge1xyXG4gICAgICBwcm9taXNlcy5wdXNoKGguYWpheChvcHRzLnN0eWxlLCBoLmluc2VydFN0eWxlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWpheCBsb2FkIHN2Z1Nwcml0ZSBhbmQgaW5qZWN0IGludG8gbWFya3VwLlxyXG4gICAgaWYgKG9wdHMuc3ZnU3ByaXRlKSB7XHJcbiAgICAgIHByb21pc2VzLnB1c2goaC5hamF4KG9wdHMuc3ZnU3ByaXRlLCBoLmluc2VydEljb25zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHdpbmRvdy5Qcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3JtZW8gaW5pdGlhbGl6ZXJcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IFJlZmVyZW5jZXMgdG8gZm9ybWVvIGluc3RhbmNlLFxyXG4gICAqIGRvbSBlbGVtZW50cywgYWN0aW9ucyBldmVudHMgYW5kIG1vcmUuXHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdCgpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBhd2FpdCBpMThuLmluaXQob3B0cy5pMThuKTtcclxuICAgIF90aGlzLmZvcm1JRCA9IGZvcm1EYXRhLmlkO1xyXG4gICAgZm9ybWVvLmNvbnRyb2xzID0gbmV3IENvbnRyb2xzKG9wdHMuY29udHJvbHMsIF90aGlzLmZvcm1JRCk7XHJcbiAgICBfdGhpcy5zdGFnZXMgPSBfdGhpcy5idWlsZFN0YWdlcygpO1xyXG4gICAgZm9ybWVvLmkxOG4gPSB7XHJcbiAgICAgIHNldExhbmc6IGZvcm1lb0xvY2FsZSA9PiB7XHJcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2Zvcm1lby1sb2NhbGUnLCBmb3JtZW9Mb2NhbGUpO1xyXG4gICAgICAgIGxldCBsb2FkTGFuZyA9IGkxOG4uc2V0Q3VycmVudC5jYWxsKGkxOG4sIGZvcm1lb0xvY2FsZSk7XHJcbiAgICAgICAgbG9hZExhbmcudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBfdGhpcy5zdGFnZXMgPSBfdGhpcy5idWlsZFN0YWdlcygpO1xyXG4gICAgICAgICAgZm9ybWVvLmNvbnRyb2xzID0gbmV3IENvbnRyb2xzKG9wdHMuY29udHJvbHMsIF90aGlzLmZvcm1JRCk7XHJcbiAgICAgICAgICBfdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVyciA9PiB7XHJcbiAgICAgICAgICBlcnIubWVzc2FnZSA9ICdUaGVyZSB3YXMgYW4gZXJyb3IgcmV0cmlldmluZyB0aGUgbGFuZ3VhZ2UgZmlsZXMnO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLnJlbmRlcigpO1xyXG5cclxuICAgIHJldHVybiBmb3JtZW87XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSB0aGUgc3RhZ2VzIHdlIHdpbGwgZHJhZyBvdXQgZWxlbWVudHMgdG9cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0YWdlcyBtYXBcclxuICAgKi9cclxuICBidWlsZFN0YWdlcygpIHtcclxuICAgIGxldCBzdGFnZXMgPSBbXTtcclxuICAgIGNvbnN0IGNyZWF0ZVN0YWdlID0gc3RhZ2VJRCA9PiBuZXcgU3RhZ2Uob3B0cywgc3RhZ2VJRCk7XHJcbiAgICBpZiAoZm9ybURhdGEuc3RhZ2VzLnNpemUpIHtcclxuICAgICAgZm9ybURhdGEuc3RhZ2VzLmZvckVhY2goKHN0YWdlQ29uZiwgc3RhZ2VJRCkgPT4ge1xyXG4gICAgICAgIHN0YWdlcy5wdXNoKGNyZWF0ZVN0YWdlKHN0YWdlSUQpKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGFnZXMucHVzaChjcmVhdGVTdGFnZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RhZ2VzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVuZGVyIHRoZSBmb3JtZW8gc2VjdGlvbnNcclxuICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAqL1xyXG4gIHJlbmRlcigpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgY29udHJvbHMgPSBmb3JtZW8uY29udHJvbHMuZWxlbWVudDtcclxuXHJcbiAgICBsZXQgZWxlbUNvbmZpZyA9IHtcclxuICAgICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6ICdmb3JtZW8gZm9ybWVvLWVkaXRvcicsXHJcbiAgICAgICAgICBpZDogX3RoaXMuZm9ybUlEXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiBbX3RoaXMuc3RhZ2VzLCBjb250cm9sc11cclxuICAgICAgfTtcclxuXHJcbiAgICBpZiAoaTE4bi5jdXJyZW50LmRpcikge1xyXG4gICAgICBlbGVtQ29uZmlnLmF0dHJzLmRpciA9IGkxOG4uY3VycmVudC5kaXI7XHJcbiAgICAgIGRvbS5kaXIgPSBpMThuLmN1cnJlbnQuZGlyO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBmb3JtZW9FbGVtID0gZG9tLmNyZWF0ZShlbGVtQ29uZmlnKTtcclxuXHJcbiAgICBfdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBfdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybWVvRWxlbSk7XHJcblxyXG4gICAgX3RoaXMuc3RhZ2VzLmZvckVhY2goc3RhZ2VXcmFwID0+IHtcclxuICAgICAgbGV0IHN0YWdlID0gc3RhZ2VXcmFwLmNoaWxkTm9kZXNbMF07XHJcbiAgICAgIHN0YWdlLnN0eWxlLm1pbkhlaWdodCA9IGRvbS5nZXRTdHlsZShjb250cm9scywgJ2hlaWdodCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXZlbnRzLmZvcm1lb0xvYWRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvTG9hZGVkJywge1xyXG4gICAgICBkZXRhaWw6IHtcclxuICAgICAgICBmb3JtZW86IGZvcm1lb1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9Mb2FkZWQpO1xyXG4gIH1cclxufVxyXG5cclxuaWYgKHdpbmRvdyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgd2luZG93LkZvcm1lbyA9IEZvcm1lbztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybWVvO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvZm9ybWVvLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBSUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakpBO0FBbUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEtBO0FBbkpBO0FBTkE7QUFqQkE7QUFDQTtBQStVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTs7Ozs7Ozs7QUFDQTs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n") }, function () { eval('/* WEBPACK VAR INJECTION */(function(global, process) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  "use strict";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === "function" && Symbol.iterator || "@@iterator";\n\n  var inModule = typeof module === "object";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we\'re in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don\'t bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we\'re in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there\'s no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don\'t have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: "normal", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: "throw", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = "suspendedStart";\n  var GenStateSuspendedYield = "suspendedYield";\n  var GenStateExecuting = "executing";\n  var GenStateCompleted = "completed";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = "GeneratorFunction";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    ["next", "throw", "return"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === "function" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === "object" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, "next");\n    var invokeThrow = invoke.bind(generator, "throw");\n    var invokeReturn = invoke.bind(generator, "return");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error("Generator is already running");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === "throw") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === "return" ||\n              (method === "throw" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator["return"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === "throw") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = "throw";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === "return") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === "throw") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = "throw";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // "next" with an undefined arg.\n          method = "next";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === "next") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === "throw") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = "next";\n            arg = undefined;\n          }\n\n        } else if (method === "return") {\n          context.abrupt("return", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === "normal") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === "next") {\n              // Deliberately forget the last sent value so that we don\'t\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === "throw") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = "throw";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return "[object Generator]";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = "normal";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: "root" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === "function") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === "t" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === "throw") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = "throw";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === "root") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle("end");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, "catchLoc");\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error("try statement without catch or finally");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, "finallyLoc") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === "break" ||\n           type === "continue") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === "throw") {\n        throw record.arg;\n      }\n\n      if (record.type === "break" ||\n          record.type === "continue") {\n        this.next = record.arg;\n      } else if (record.type === "return") {\n        this.rval = record.arg;\n        this.next = "end";\n      } else if (record.type === "normal" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    "catch": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === "throw") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error("illegal catch attempt");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === "object" ? global :\n  typeof window === "object" ? window :\n  typeof self === "object" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ 23), __webpack_require__(/*! ./../process/browser.js */ 20)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vYmFiZWwtcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzPzI0ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9tYXN0ZXIvTElDRU5TRSBmaWxlLiBBblxuICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluXG4gKiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuIShmdW5jdGlvbihnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgaXRlcmF0b3JTeW1ib2wgPVxuICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgdmFsdWUgaW5zdGFuY2VvZiBBd2FpdEFyZ3VtZW50YCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4gU29tZSBtYXkgY29uc2lkZXIgdGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgdG9vXG4gIC8vIGN1dGVzeSwgYnV0IHRoZXkgYXJlIGN1cm11ZGdlb25zLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudFxuICAgICAgICA/IFByb21pc2UucmVzb2x2ZSh2YWx1ZS5hcmcpLnRoZW4oaW52b2tlTmV4dCwgaW52b2tlVGhyb3cpXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgICAgICAvLyByZWFzb24uIE5vdGUgdGhhdCByZWplY3Rpb25zIG9mIHlpZWxkZWQgUHJvbWlzZXMgYXJlIG5vdFxuICAgICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAgICAgLy8gYmVoYXZpb3IgYmV0d2VlbiB5aWVsZCBhbmQgYXdhaXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIGl0XG4gICAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBnZW5lcmF0b3IsIGFiYW5kb24gaXRlcmF0aW9uLCB3aGF0ZXZlcikuIFdpdGhcbiAgICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgICAgIC8vIG9ubHkgb3B0aW9uIGlzIHRvIHRocm93IGl0IGZyb20gdGhlIGF3YWl0IGV4cHJlc3Npb24sIGFuZFxuICAgICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVzb2x2ZShjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgcnVudGltZS5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpXG4gICAgKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiIHx8XG4gICAgICAgICAgICAgIChtZXRob2QgPT09IFwidGhyb3dcIiAmJiBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goXG4gICAgICAgICAgICBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdLFxuICAgICAgICAgICAgZGVsZWdhdGUuaXRlcmF0b3IsXG4gICAgICAgICAgICBhcmdcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBMaWtlIHJldHVybmluZyBnZW5lcmF0b3IudGhyb3codW5jYXVnaHQpLCBidXQgd2l0aG91dCB0aGVcbiAgICAgICAgICAgIC8vIG92ZXJoZWFkIG9mIGFuIGV4dHJhIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVsZWdhdGUgZ2VuZXJhdG9yIHJhbiBhbmQgaGFuZGxlZCBpdHMgb3duIGV4Y2VwdGlvbnMgc29cbiAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIHdoYXQgdGhlIG1ldGhvZCB3YXMsIHdlIGNvbnRpbnVlIGFzIGlmIGl0IGlzXG4gICAgICAgICAgLy8gXCJuZXh0XCIgd2l0aCBhbiB1bmRlZmluZWQgYXJnLlxuICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcbiAgICAgICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcbiAgICAgICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICBjb250ZXh0Ll9zZW50ID0gYXJnO1xuXG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSBhcmc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgICBtZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBhcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgdGhpcy5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuICAgICAgICByZXR1cm4gISFjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbiAgLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90XG4gIC8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuXG4gIHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDpcbiAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdGhpc1xuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEM6L1VzZXJzL2Vkd2luLnJveS9EZXNrdG9wL2Zvcm1lby9+L2JhYmVsLXJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n') }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ../common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Column = function () {\n  function Column(dataID) {\n    _classCallCheck(this, Column);\n\n    var _this = this;\n    var columnDefaults = void 0;\n\n    var columnID = _this.columnID = dataID || (0, _utils.uuid)();\n    _this.columnData = _data.formData.columns.get(columnID);\n\n    columnDefaults = {\n      fields: [],\n      id: columnID,\n      config: {},\n      className: []\n    };\n\n    _data.formData.columns.set(columnID, _helpers2.default.merge(columnDefaults, _this.columnData));\n\n    var resizeHandle = {\n      tag: 'li',\n      className: 'resize-x-handle',\n      action: {\n        mousedown: _this.resize,\n        touchstart: _this.resize\n      },\n      content: [_dom2.default.icon('triangle-down'), _dom2.default.icon('triangle-up')]\n    };\n    var editWindow = {\n      tag: 'li',\n      className: 'column-edit group-config'\n    };\n\n    var column = {\n      tag: 'ul',\n      className: ['stage-columns', 'empty-columns'],\n      dataset: {\n        hoverTag: _mi18n2.default.get('column')\n      },\n      action: {\n        mouseup: function mouseup(evt) {\n          var column = evt.target.parentElement;\n          if (column.resizing) {\n            column.resizing = false;\n            column.parentElement.classList.remove('resizing-columns');\n          }\n        }\n      },\n      id: _this.columnID,\n      content: [_dom2.default.actionButtons(_this.columnID), editWindow, resizeHandle],\n      fType: 'columns'\n    };\n\n    column = _dom2.default.create(column);\n    this.processConfig(column);\n\n    _events2.default.columnResized = new CustomEvent('columnResized', {\n      detail: {\n        column: column,\n        instance: _this\n      }\n    });\n\n    var sortable = this.sortable = _sortablejs2.default.create(column, {\n      animation: 150,\n      fallbackClass: 'field-moving',\n      forceFallback: true,\n      group: {\n        name: 'columns',\n        pull: true,\n        put: ['columns', 'controls'],\n        revertClone: true\n      },\n      sort: true,\n      onEnd: _this.onEnd,\n      onAdd: _this.onAdd,\n      onSort: _this.onSort,\n      onRemove: _this.onRemove,\n\n      onMove: function onMove(evt) {\n        if (evt.from !== evt.to) {\n          evt.from.classList.remove('hovering-column');\n        }\n        if (evt.related.parentElement.fType === 'columns') {\n          evt.related.parentElement.classList.add('hovering-column');\n        }\n      },\n      draggable: '.stage-fields'\n    });\n\n    _dom2.default.columns.set(columnID, { column: column, sortable: sortable });\n\n    return column;\n  }\n\n  Column.prototype.onSort = function onSort(evt) {\n    return _data.data.saveFieldOrder(evt.target);\n  };\n\n  Column.prototype.processConfig = function processConfig(column) {\n    var _this = this;\n    var columnData = _data.formData.columns.get(_this.columnID);\n    if (columnData.config.width) {\n      column.dataset.colWidth = columnData.config.width;\n      column.style.width = columnData.config.width;\n      column.style.float = 'left';\n    }\n  };\n\n  Column.prototype.onAdd = function onAdd(evt) {\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var fromColumn = from.fType === 'columns';\n    var fromControl = from.fType === 'controlGroup';\n\n    if (fromControl) {\n      var meta = _helpers2.default.get(_data.registeredFields[item.id], 'meta');\n      if (meta.group !== 'layout') {\n        var field = _dom2.default.addField(to.id, item.id);\n        to.insertBefore(field, to.childNodes[evt.newIndex]);\n        _data.data.saveFieldOrder(to);\n        _data.data.save('fields', to.id);\n      } else {\n        if (meta.id === 'layout-column') {\n          var row = to.parentElement;\n          _dom2.default.addColumn(row.id);\n          _dom2.default.columnWidths(row);\n        }\n      }\n\n      _dom2.default.remove(evt.item);\n    }\n\n    _dom2.default.fieldOrderClass(to);\n\n    if (fromColumn) {\n      _dom2.default.fieldOrderClass(from);\n    }\n\n    _dom2.default.emptyClass(evt.to);\n\n    _data.data.save();\n\n    to.classList.remove('hovering-column');\n  };\n\n  Column.prototype.onRemove = function onRemove(evt) {\n    if (evt.from.parent) {\n      _dom2.default.columnWidths(evt.from.parentElement);\n      _data.data.saveColumnOrder(evt.from.parentElement);\n    }\n    _dom2.default.emptyClass(evt.from);\n  };\n\n  Column.prototype.onEnd = function onEnd(evt) {\n    var to = evt.to,\n        from = evt.from;\n\n\n    if (from.classList.contains('empty-columns')) {\n      _dom2.default.removeEmpty(evt.from);\n      return;\n    }\n\n    _dom2.default.fieldOrderClass(to);\n    _dom2.default.fieldOrderClass(from);\n\n    if (from.parent) {\n      _dom2.default.columnWidths(from.parentElement);\n    }\n\n    _data.data.save();\n\n    if (to) {\n      to.classList.remove('hovering-column');\n    }\n  };\n\n  Column.prototype.resize = function resize(evt) {\n    var resize = {};\n    var column = evt.target.parentElement;\n    var sibling = column.nextSibling || column.previousSibling;\n    var row = column.parentElement;\n    var rowStyle = _dom2.default.getStyle(row);\n    var rowPadding = parseFloat(rowStyle.paddingLeft) + parseFloat(rowStyle.paddingRight);\n    var colWidthPercent = void 0;\n    var sibWidthPercent = void 0;\n\n    function setWidths(evt) {\n      var clientX = void 0;\n      if (evt.type === 'touchmove') {\n        clientX = evt.touches[0].clientX;\n      } else {\n        clientX = evt.clientX;\n      }\n      var newColWidth = resize.colStartWidth + clientX - resize.startX;\n      var newSibWidth = resize.sibStartWidth - clientX + resize.startX;\n\n      var percent = function percent(width) {\n        return width / resize.rowWidth * 100;\n      };\n      colWidthPercent = parseFloat(percent(newColWidth));\n      sibWidthPercent = parseFloat(percent(newSibWidth));\n\n      column.dataset.colWidth = (0, _utils.numToPercent)(colWidthPercent.toFixed(1));\n      sibling.dataset.colWidth = (0, _utils.numToPercent)(sibWidthPercent.toFixed(1));\n\n      column.style.width = (0, _utils.numToPercent)(colWidthPercent);\n      sibling.style.width = (0, _utils.numToPercent)(sibWidthPercent);\n    }\n\n    resize.move = function (evt) {\n      setWidths(evt);\n      resize.resized = true;\n    };\n\n    resize.stop = function () {\n      window.removeEventListener('mousemove', resize.move);\n      window.removeEventListener('mouseup', resize.stop);\n      window.removeEventListener('touchmove', resize.move);\n      window.removeEventListener('touchend', resize.stop);\n      if (!resize.resized) {\n        return;\n      }\n      var columnData = _data.formData.columns.get(column.id);\n      var sibColumnData = _data.formData.columns.get(sibling.id);\n      var row = column.parentElement;\n      row.querySelector('.column-preset').value = 'Personalizar';\n      row.classList.remove('resizing-columns');\n      columnData.config.width = column.dataset.colWidth;\n      sibColumnData.config.width = sibling.dataset.colWidth;\n      resize.resized = false;\n      _data.data.save();\n    };\n\n    resize.start = function (evt) {\n      if (evt.type === 'touchstart') {\n        resize.startX = evt.touches[0].clientX;\n      } else {\n        resize.startX = evt.clientX;\n      }\n      row.classList.add('resizing-columns');\n\n      var reg = /\\bcol-\\w+-\\d+/g;\n      column.className.replace(reg, '');\n      sibling.className.replace(reg, '');\n\n      resize.colStartWidth = column.offsetWidth || _dom2.default.getStyle(column, 'width');\n\n      resize.sibStartWidth = sibling.offsetWidth || _dom2.default.getStyle(sibling, 'width');\n      resize.rowWidth = row.offsetWidth - rowPadding;\n\n      window.addEventListener('mouseup', resize.stop, false);\n      window.addEventListener('mousemove', resize.move, false);\n      window.addEventListener('touchend', resize.stop, false);\n      window.addEventListener('touchmove', resize.move, false);\n    }(evt);\n  };\n\n  return Column;\n}();\n\nexports.default = Column;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvY29sdW1uLmpzP2NjMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xyXG5pbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XHJcbmltcG9ydCB7ZGF0YSwgZm9ybURhdGEsIHJlZ2lzdGVyZWRGaWVsZHMgYXMgckZpZWxkc30gZnJvbSAnLi4vY29tbW9uL2RhdGEnO1xyXG5pbXBvcnQgaCBmcm9tICcuLi9jb21tb24vaGVscGVycyc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vY29tbW9uL2V2ZW50cyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XHJcbmltcG9ydCB7dXVpZCwgbnVtVG9QZXJjZW50fSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xyXG5cclxuLyoqXHJcbiAqIFNldHVwIENvbHVtbiBlbGVtZW50c1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sdW1uIHtcclxuICAvKipcclxuICAgKiBTZXQgZGVmYXVsdHMgYW5kL29yIGxvYWQgZXhpc3RpbmcgY29sdW1uc1xyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YUlEIGNvbHVtbklkXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBDb2x1bW4gY29uZmlnIG9iamVjdFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGRhdGFJRCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBjb2x1bW5EZWZhdWx0cztcclxuXHJcbiAgICBsZXQgY29sdW1uSUQgPSBfdGhpcy5jb2x1bW5JRCA9IGRhdGFJRCB8fCB1dWlkKCk7XHJcbiAgICBfdGhpcy5jb2x1bW5EYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uSUQpO1xyXG5cclxuICAgIGNvbHVtbkRlZmF1bHRzID0ge1xyXG4gICAgICBmaWVsZHM6IFtdLFxyXG4gICAgICBpZDogY29sdW1uSUQsXHJcbiAgICAgIGNvbmZpZzoge30sXHJcbiAgICAgIGNsYXNzTmFtZTogW11cclxuICAgIH07XHJcblxyXG4gICAgZm9ybURhdGEuY29sdW1ucy5zZXQoY29sdW1uSUQsIGgubWVyZ2UoY29sdW1uRGVmYXVsdHMsIF90aGlzLmNvbHVtbkRhdGEpKTtcclxuXHJcbiAgICBsZXQgcmVzaXplSGFuZGxlID0ge1xyXG4gICAgICAgIHRhZzogJ2xpJyxcclxuICAgICAgICBjbGFzc05hbWU6ICdyZXNpemUteC1oYW5kbGUnLFxyXG4gICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgbW91c2Vkb3duOiBfdGhpcy5yZXNpemUsXHJcbiAgICAgICAgICB0b3VjaHN0YXJ0OiBfdGhpcy5yZXNpemVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnQ6IFtkb20uaWNvbigndHJpYW5nbGUtZG93bicpLCBkb20uaWNvbigndHJpYW5nbGUtdXAnKV1cclxuICAgICAgfTtcclxuICAgIGxldCBlZGl0V2luZG93ID0ge1xyXG4gICAgICAgIHRhZzogJ2xpJyxcclxuICAgICAgICBjbGFzc05hbWU6ICdjb2x1bW4tZWRpdCBncm91cC1jb25maWcnXHJcbiAgICAgIH07XHJcblxyXG4gICAgbGV0IGNvbHVtbiA9IHtcclxuICAgICAgdGFnOiAndWwnLFxyXG4gICAgICBjbGFzc05hbWU6IFsnc3RhZ2UtY29sdW1ucycsICdlbXB0eS1jb2x1bW5zJ10sXHJcbiAgICAgIGRhdGFzZXQ6IHtcclxuICAgICAgICBob3ZlclRhZzogaTE4bi5nZXQoJ2NvbHVtbicpXHJcbiAgICAgIH0sXHJcbiAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgIG1vdXNldXA6IChldnQpID0+IHtcclxuICAgICAgICAgIGxldCBjb2x1bW4gPSBldnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICBpZiAoY29sdW1uLnJlc2l6aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbHVtbi5yZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb2x1bW4ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdyZXNpemluZy1jb2x1bW5zJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBpZDogX3RoaXMuY29sdW1uSUQsXHJcbiAgICAgIGNvbnRlbnQ6IFtkb20uYWN0aW9uQnV0dG9ucyhfdGhpcy5jb2x1bW5JRCksIGVkaXRXaW5kb3csIHJlc2l6ZUhhbmRsZV0sXHJcbiAgICAgIGZUeXBlOiAnY29sdW1ucydcclxuICAgIH07XHJcblxyXG4gICAgY29sdW1uID0gZG9tLmNyZWF0ZShjb2x1bW4pO1xyXG4gICAgdGhpcy5wcm9jZXNzQ29uZmlnKGNvbHVtbik7XHJcblxyXG4gICAgZXZlbnRzLmNvbHVtblJlc2l6ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NvbHVtblJlc2l6ZWQnLCB7XHJcbiAgICAgIGRldGFpbDoge1xyXG4gICAgICAgIGNvbHVtbixcclxuICAgICAgICBpbnN0YW5jZTogX3RoaXNcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHNvcnRhYmxlID0gdGhpcy5zb3J0YWJsZSA9IFNvcnRhYmxlLmNyZWF0ZShjb2x1bW4sIHtcclxuICAgICAgYW5pbWF0aW9uOiAxNTAsXHJcbiAgICAgIGZhbGxiYWNrQ2xhc3M6ICdmaWVsZC1tb3ZpbmcnLFxyXG4gICAgICBmb3JjZUZhbGxiYWNrOiB0cnVlLFxyXG4gICAgICBncm91cDoge1xyXG4gICAgICAgIG5hbWU6ICdjb2x1bW5zJyxcclxuICAgICAgICBwdWxsOiB0cnVlLFxyXG4gICAgICAgIHB1dDogWydjb2x1bW5zJywgJ2NvbnRyb2xzJ10sXHJcbiAgICAgICAgcmV2ZXJ0Q2xvbmU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgc29ydDogdHJ1ZSxcclxuICAgICAgb25FbmQ6IF90aGlzLm9uRW5kLFxyXG4gICAgICBvbkFkZDogX3RoaXMub25BZGQsXHJcbiAgICAgIG9uU29ydDogX3RoaXMub25Tb3J0LFxyXG4gICAgICBvblJlbW92ZTogX3RoaXMub25SZW1vdmUsXHJcbiAgICAgIC8vIEF0dGVtcHQgdG8gZHJhZyBhIGZpbHRlcmVkIGVsZW1lbnRcclxuICAgICAgb25Nb3ZlOiAoZXZ0KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2dC5mcm9tICE9PSBldnQudG8pIHtcclxuICAgICAgICAgIGV2dC5mcm9tLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyaW5nLWNvbHVtbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZ0LnJlbGF0ZWQucGFyZW50RWxlbWVudC5mVHlwZSA9PT0gJ2NvbHVtbnMnKSB7XHJcbiAgICAgICAgICBldnQucmVsYXRlZC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hvdmVyaW5nLWNvbHVtbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZHJhZ2dhYmxlOiAnLnN0YWdlLWZpZWxkcydcclxuICAgIH0pO1xyXG5cclxuICAgIGRvbS5jb2x1bW5zLnNldChjb2x1bW5JRCwge2NvbHVtbiwgc29ydGFibGV9KTtcclxuXHJcbiAgICByZXR1cm4gY29sdW1uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29sdW1uIHNvcnRlZCBldmVudFxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHNvcnQgZXZlbnQgZGF0YVxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gQ29sdW1uIG9yZGVyLCBhcnJheSBvZiBjb2x1bW4gaWRzXHJcbiAgICovXHJcbiAgb25Tb3J0KGV2dCkge1xyXG4gICAgcmV0dXJuIGRhdGEuc2F2ZUZpZWxkT3JkZXIoZXZ0LnRhcmdldCk7XHJcbiAgICAvLyBkYXRhLnNhdmUoJ2NvbHVtbicsIGV2dC50YXJnZXQuaWQpO1xyXG4gICAgLy8gZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcm9jZXNzIGNvbHVtbiBjb25maWd1cmF0aW9uIGRhdGFcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGNvbHVtblxyXG4gICAqL1xyXG4gIHByb2Nlc3NDb25maWcoY29sdW1uKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGNvbHVtbkRhdGEgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChfdGhpcy5jb2x1bW5JRCk7XHJcbiAgICBpZiAoY29sdW1uRGF0YS5jb25maWcud2lkdGgpIHtcclxuICAgICAgY29sdW1uLmRhdGFzZXQuY29sV2lkdGggPSBjb2x1bW5EYXRhLmNvbmZpZy53aWR0aDtcclxuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gY29sdW1uRGF0YS5jb25maWcud2lkdGg7XHJcbiAgICAgIGNvbHVtbi5zdHlsZS5mbG9hdCA9ICdsZWZ0JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV2ZW50IHdoZW4gY29sdW1uIGlzIGFkZGVkXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKi9cclxuICBvbkFkZChldnQpIHtcclxuICAgIGxldCB7ZnJvbSwgaXRlbSwgdG99ID0gZXZ0O1xyXG4gICAgbGV0IGZyb21Db2x1bW4gPSBmcm9tLmZUeXBlID09PSAnY29sdW1ucyc7XHJcbiAgICBsZXQgZnJvbUNvbnRyb2wgPSBmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJztcclxuXHJcbiAgICBpZiAoZnJvbUNvbnRyb2wpIHtcclxuICAgICAgbGV0IG1ldGEgPSBoLmdldChyRmllbGRzW2l0ZW0uaWRdLCAnbWV0YScpO1xyXG4gICAgICBpZiAobWV0YS5ncm91cCAhPT0gJ2xheW91dCcpIHtcclxuICAgICAgICBsZXQgZmllbGQgPSBkb20uYWRkRmllbGQodG8uaWQsIGl0ZW0uaWQpO1xyXG4gICAgICAgIHRvLmluc2VydEJlZm9yZShmaWVsZCwgdG8uY2hpbGROb2Rlc1tldnQubmV3SW5kZXhdKTtcclxuICAgICAgICBkYXRhLnNhdmVGaWVsZE9yZGVyKHRvKTtcclxuICAgICAgICBkYXRhLnNhdmUoJ2ZpZWxkcycsIHRvLmlkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAobWV0YS5pZCA9PT0gJ2xheW91dC1jb2x1bW4nKSB7XHJcbiAgICAgICAgICBsZXQgcm93ID0gdG8ucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgIGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcclxuICAgICAgICAgIGRvbS5jb2x1bW5XaWR0aHMocm93KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRvbS5yZW1vdmUoZXZ0Lml0ZW0pO1xyXG4gICAgICAvLyBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBkb20uZmllbGRPcmRlckNsYXNzKHRvKTtcclxuXHJcbiAgICBpZiAoZnJvbUNvbHVtbikge1xyXG4gICAgICBkb20uZmllbGRPcmRlckNsYXNzKGZyb20pO1xyXG4gICAgfVxyXG5cclxuICAgIGRvbS5lbXB0eUNsYXNzKGV2dC50byk7XHJcblxyXG4gICAgZGF0YS5zYXZlKCk7XHJcblxyXG4gICAgdG8uY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctY29sdW1uJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCB3aGVuIGZpZWxkIGlzIHJlbW92ZWQgZnJvbSBjb2x1bW5cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxyXG4gICAqL1xyXG4gIG9uUmVtb3ZlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5mcm9tLnBhcmVudCkge1xyXG4gICAgICBkb20uY29sdW1uV2lkdGhzKGV2dC5mcm9tLnBhcmVudEVsZW1lbnQpO1xyXG4gICAgICBkYXRhLnNhdmVDb2x1bW5PcmRlcihldnQuZnJvbS5wYXJlbnRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIGRvbS5lbXB0eUNsYXNzKGV2dC5mcm9tKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGRyYWdnaW5nIGVuZHNcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxyXG4gICAqL1xyXG4gIG9uRW5kKGV2dCkge1xyXG4gICAgbGV0IHt0bywgZnJvbX0gPSBldnQ7XHJcblxyXG4gICAgaWYgKGZyb20uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbXB0eS1jb2x1bW5zJykpIHtcclxuICAgICAgZG9tLnJlbW92ZUVtcHR5KGV2dC5mcm9tKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGRvbS5maWVsZE9yZGVyQ2xhc3ModG8pO1xyXG4gICAgZG9tLmZpZWxkT3JkZXJDbGFzcyhmcm9tKTtcclxuXHJcbiAgICBpZiAoZnJvbS5wYXJlbnQpIHtcclxuICAgICAgZG9tLmNvbHVtbldpZHRocyhmcm9tLnBhcmVudEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGEuc2F2ZSgpO1xyXG5cclxuICAgIGlmICh0bykge1xyXG4gICAgICB0by5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcmluZy1jb2x1bW4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSBjb2x1bW4gcmVzaXppbmdcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dCByZXNpemUgZXZlbnRcclxuICAgKi9cclxuICByZXNpemUoZXZ0KSB7XHJcbiAgICBsZXQgcmVzaXplID0ge307XHJcbiAgICBsZXQgY29sdW1uID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgbGV0IHNpYmxpbmcgPSBjb2x1bW4ubmV4dFNpYmxpbmcgfHwgY29sdW1uLnByZXZpb3VzU2libGluZztcclxuICAgIGxldCByb3cgPSBjb2x1bW4ucGFyZW50RWxlbWVudDtcclxuICAgIGxldCByb3dTdHlsZSA9IGRvbS5nZXRTdHlsZShyb3cpO1xyXG4gICAgbGV0IHJvd1BhZGRpbmcgPSBwYXJzZUZsb2F0KHJvd1N0eWxlLnBhZGRpbmdMZWZ0KSArXHJcbiAgICBwYXJzZUZsb2F0KHJvd1N0eWxlLnBhZGRpbmdSaWdodCk7XHJcbiAgICBsZXQgY29sV2lkdGhQZXJjZW50O1xyXG4gICAgbGV0IHNpYldpZHRoUGVyY2VudDtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHdpZHRoIGJlZm9yZSByZXNpemluZyBzbyB0aGUgY29sdW1uXHJcbiAgICAgKiBkb2VzIG5vdCByZXNpemUgbmVhciB3aW5kb3cgZWRnZXNcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZXZ0XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldFdpZHRocyhldnQpIHtcclxuICAgICAgbGV0IGNsaWVudFg7XHJcbiAgICAgIGlmIChldnQudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcclxuICAgICAgICBjbGllbnRYID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjbGllbnRYID0gZXZ0LmNsaWVudFg7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IG5ld0NvbFdpZHRoID0gKHJlc2l6ZS5jb2xTdGFydFdpZHRoICsgY2xpZW50WCAtIHJlc2l6ZS5zdGFydFgpO1xyXG4gICAgICBsZXQgbmV3U2liV2lkdGggPSAocmVzaXplLnNpYlN0YXJ0V2lkdGggLSBjbGllbnRYICsgcmVzaXplLnN0YXJ0WCk7XHJcblxyXG4gICAgICBjb25zdCBwZXJjZW50ID0gd2lkdGggPT4gKHdpZHRoIC8gcmVzaXplLnJvd1dpZHRoICogMTAwKTtcclxuICAgICAgY29sV2lkdGhQZXJjZW50ID0gcGFyc2VGbG9hdChwZXJjZW50KG5ld0NvbFdpZHRoKSk7XHJcbiAgICAgIHNpYldpZHRoUGVyY2VudCA9IHBhcnNlRmxvYXQocGVyY2VudChuZXdTaWJXaWR0aCkpO1xyXG5cclxuICAgICAgY29sdW1uLmRhdGFzZXQuY29sV2lkdGggPSBudW1Ub1BlcmNlbnQoY29sV2lkdGhQZXJjZW50LnRvRml4ZWQoMSkpO1xyXG4gICAgICBzaWJsaW5nLmRhdGFzZXQuY29sV2lkdGggPSBudW1Ub1BlcmNlbnQoc2liV2lkdGhQZXJjZW50LnRvRml4ZWQoMSkpO1xyXG5cclxuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gbnVtVG9QZXJjZW50KGNvbFdpZHRoUGVyY2VudCk7XHJcbiAgICAgIHNpYmxpbmcuc3R5bGUud2lkdGggPSBudW1Ub1BlcmNlbnQoc2liV2lkdGhQZXJjZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXNpemUubW92ZSA9IGV2dCA9PiB7XHJcbiAgICAgIHNldFdpZHRocyhldnQpO1xyXG4gICAgICByZXNpemUucmVzaXplZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc2l6ZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByZXNpemUubW92ZSk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgcmVzaXplLnN0b3ApO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcmVzaXplLm1vdmUpO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCByZXNpemUuc3RvcCk7XHJcbiAgICAgIGlmICghcmVzaXplLnJlc2l6ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGNvbHVtbkRhdGEgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpO1xyXG4gICAgICBsZXQgc2liQ29sdW1uRGF0YSA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KHNpYmxpbmcuaWQpO1xyXG4gICAgICBsZXQgcm93ID0gY29sdW1uLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIHJvdy5xdWVyeVNlbGVjdG9yKCcuY29sdW1uLXByZXNldCcpLnZhbHVlID0gJ1BlcnNvbmFsaXphcic7XHJcbiAgICAgIHJvdy5jbGFzc0xpc3QucmVtb3ZlKCdyZXNpemluZy1jb2x1bW5zJyk7XHJcbiAgICAgIGNvbHVtbkRhdGEuY29uZmlnLndpZHRoID0gY29sdW1uLmRhdGFzZXQuY29sV2lkdGg7XHJcbiAgICAgIHNpYkNvbHVtbkRhdGEuY29uZmlnLndpZHRoID0gc2libGluZy5kYXRhc2V0LmNvbFdpZHRoO1xyXG4gICAgICByZXNpemUucmVzaXplZCA9IGZhbHNlO1xyXG4gICAgICBkYXRhLnNhdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgcmVzaXplLnN0YXJ0ID0gKGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICBpZiAoZXZ0LnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xyXG4gICAgICAgIHJlc2l6ZS5zdGFydFggPSBldnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc2l6ZS5zdGFydFggPSBldnQuY2xpZW50WDtcclxuICAgICAgfVxyXG4gICAgICByb3cuY2xhc3NMaXN0LmFkZCgncmVzaXppbmctY29sdW1ucycpO1xyXG5cclxuICAgICAgLy8gcmVtb3ZlIGJvb3RzdHJhcCBjb2x1bW4gY2xhc3NlcyBzaW5jZSB3ZSBhcmUgY3VzdG9tIHNpemluZ1xyXG4gICAgICBsZXQgcmVnID0gL1xcYmNvbC1cXHcrLVxcZCsvZztcclxuICAgICAgY29sdW1uLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywgJycpO1xyXG4gICAgICBzaWJsaW5nLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywgJycpO1xyXG5cclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgIHJlc2l6ZS5jb2xTdGFydFdpZHRoID0gY29sdW1uLm9mZnNldFdpZHRoIHx8IGRvbS5nZXRTdHlsZShjb2x1bW4sICd3aWR0aCcpO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgcmVzaXplLnNpYlN0YXJ0V2lkdGggPSBzaWJsaW5nLm9mZnNldFdpZHRoIHx8IGRvbS5nZXRTdHlsZShzaWJsaW5nLCAnd2lkdGgnKTtcclxuICAgICAgcmVzaXplLnJvd1dpZHRoID0gcm93Lm9mZnNldFdpZHRoIC0gcm93UGFkZGluZzsgLy8gY29tcGVuc2F0ZSBmb3IgcGFkZGluZ1xyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCByZXNpemUuc3RvcCwgZmFsc2UpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVzaXplLm1vdmUsIGZhbHNlKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgcmVzaXplLnN0b3AsIGZhbHNlKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHJlc2l6ZS5tb3ZlLCBmYWxzZSk7XHJcbiAgICB9KShldnQpO1xyXG4gIH1cclxuXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL2NvbHVtbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBSUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBakJBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQXJTQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Controls = undefined;\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ../common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _panels = __webpack_require__(/*! ./panels */ 9);\n\nvar _panels2 = _interopRequireDefault(_panels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar opts = {};\n\nvar Controls = exports.Controls = function () {\n  function Controls(controlOptions, formID) {\n    _classCallCheck(this, Controls);\n\n    var _this = this;\n    this.formID = formID;\n    var _controlOptions$group = controlOptions.groupOrder,\n        groupOrder = _controlOptions$group === undefined ? [] : _controlOptions$group;\n\n    this.groupOrder = (0, _utils.unique)(groupOrder.concat(['common', 'html', 'layout']));\n    this.cPosition = {};\n    var defaultElements = [{\n      tag: 'div',\n      config: {\n        label: _mi18n2.default.get('column')\n      },\n      meta: {\n        group: 'layout',\n        icon: 'columns',\n        id: 'layout-column'\n      }\n    }, {\n      tag: 'div',\n      config: {\n        label: _mi18n2.default.get('row')\n      },\n      meta: {\n        group: 'layout',\n        icon: 'rows',\n        id: 'layout-row'\n      }\n    }, {\n      tag: 'input',\n      attrs: {\n        required: false,\n        type: [{ label: 'Texto', value: 'text' }, { label: 'Contrasea', value: 'password' }, { label: 'Correo', value: 'email' }, { label: 'Color', value: 'color' }, { label: 'Telfono', value: 'tel' }],\n        placeholder: '',\n        className: 'single-input-primary',\n        maxlength: 200\n      },\n      config: {\n        label: _mi18n2.default.get('input.text')\n      },\n      meta: {\n        group: 'common',\n        icon: 'text-input',\n        id: 'text-input'\n      },\n      fMap: 'attrs.value'\n    }, {\n      tag: 'input',\n      attrs: {\n        type: 'date',\n        required: false,\n        className: 'single-input-primary',\n        Min: '',\n        Max: ''\n      },\n      config: {\n        disabledAttrs: ['type'],\n        label: _mi18n2.default.get('input.date')\n      },\n      meta: {\n        group: 'common',\n        icon: 'calendar',\n        id: 'date-input'\n      }\n    }, {\n      tag: 'button',\n      attrs: {\n        className: [{ label: _mi18n2.default.get('grouped'), value: 'f-btn-group' }, { label: _mi18n2.default.get('ungrouped'), value: 'f-field-group' }]\n      },\n      config: {\n        label: _mi18n2.default.get('button'),\n        hideLabel: true,\n        disabledAttrs: ['type']\n      },\n      meta: {\n        group: 'common',\n        icon: 'button',\n        id: 'button'\n      },\n      options: [{\n        label: _mi18n2.default.get('button'),\n        type: [{ label: _mi18n2.default.get('button'), value: 'button', selected: true }, { label: _mi18n2.default.get('reset'), value: 'reset' }, { label: _mi18n2.default.get('submit'), value: 'submit' }],\n        className: [{\n          label: _mi18n2.default.get('default'),\n          value: '',\n          selected: true\n        }, {\n          label: _mi18n2.default.get('primary'),\n          value: 'primary'\n        }, {\n          label: _mi18n2.default.get('danger'),\n          value: 'error' }, {\n          label: _mi18n2.default.get('success'),\n          value: 'success' }, {\n          label: _mi18n2.default.get('warning'),\n          value: 'warning'\n        }]\n      }]\n    }, {\n      tag: 'select',\n      config: {\n        label: _mi18n2.default.get('select')\n      },\n      attrs: {\n        required: false,\n        className: 'single-input-primary'\n      },\n      meta: {\n        group: 'common',\n        icon: 'select',\n        id: 'select'\n      },\n      options: [1, 2, 3, 4].map(function (i) {\n        return {\n          label: _mi18n2.default.get('labelCount', {\n            label: _mi18n2.default.get('option'),\n            count: i\n          }),\n          value: 'option-' + i,\n          selected: false\n        };\n      })\n    }, {\n      tag: 'textarea',\n      config: {\n        label: _mi18n2.default.get('textarea')\n      },\n\n      meta: {\n        group: 'common',\n        icon: 'textarea',\n        id: 'textarea'\n      },\n      attrs: {\n        required: false,\n        placeholder: '',\n        maxlength: 200,\n        className: 'single-input-primary'\n      }\n    }, {\n      tag: 'input',\n      attrs: {\n        type: 'checkbox',\n        required: false\n      },\n      config: {\n        label: _mi18n2.default.get('checkbox') + '/' + _mi18n2.default.get('group'),\n        disabledAttrs: ['type']\n      },\n      meta: {\n        group: 'common',\n        icon: 'checkbox',\n        id: 'checkbox'\n      },\n      options: [{\n        label: _mi18n2.default.get('labelCount', {\n          label: _mi18n2.default.get('checkbox'),\n          count: 1\n        }),\n        value: 'checkbox-1',\n        selected: true\n      }]\n    }, {\n      tag: 'input',\n      attrs: {\n        type: 'radio',\n        required: false\n      },\n      config: {\n        label: _mi18n2.default.get('radioGroup'),\n        disabledAttrs: ['type']\n      },\n      meta: {\n        group: 'common',\n        icon: 'radio-group',\n        id: 'radio'\n      },\n      options: [1, 2, 3].map(function (i) {\n        return {\n          label: _mi18n2.default.get('labelCount', { label: _mi18n2.default.get('radio'), count: i }),\n          value: 'radio-' + i,\n          selected: false\n        };\n      })\n    }, {\n      tag: 'div',\n      config: {\n        label: 'HTML',\n        hideLabel: true,\n        editable: false,\n        disabledAttrs: ['className', 'type']\n      },\n      meta: {\n        group: 'common',\n        icon: 'asterisk fa-15px',\n        id: 'html-summernote'\n      },\n      attrs: {\n        html: ''\n      },\n      content: ''\n    }, {\n      tag: 'iframe',\n      config: {\n        label: 'iFrame',\n        hideLabel: true,\n        editable: false\n      },\n      meta: {\n        group: 'common',\n        icon: 'globe fa-15px',\n        id: 'iframe'\n      },\n      attrs: {\n        src: '',\n        width: '100%'\n      }\n    }, {\n      tag: 'img',\n      config: {\n        label: 'Imgen',\n        hideLabel: true,\n        editable: true\n      },\n      meta: {\n        group: 'common',\n        icon: 'picture fa-15px',\n        id: 'image'\n      },\n      attrs: {\n        src: '',\n        width: '100%'\n      }\n    }, {\n      tag: 'h1',\n      attrs: {\n        tag: [{ value: 'h1', label: 'H1' }, { value: 'h2', label: 'H2' }, { value: 'h3', label: 'H3' }, { value: 'h4', label: 'H4' }],\n        className: ''\n      },\n      config: {\n        label: _mi18n2.default.get('header'),\n        editable: true,\n        hideLabel: true\n      },\n      meta: {\n        group: 'common',\n        icon: 'header',\n        id: 'header'\n      },\n      content: _mi18n2.default.get('header')\n    }, {\n      tag: 'p',\n      attrs: {\n        className: ''\n      },\n      config: {\n        label: _mi18n2.default.get('paragraph'),\n        hideLabel: true,\n        editable: true\n      },\n      meta: {\n        group: 'common',\n        icon: 'paragraph',\n        id: 'paragraph'\n      },\n\n      content: 'Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition. Organically grow the holistic world view of disruptive innovation via workplace diversity and empowerment.'\n    }, {\n      tag: 'hr',\n      config: {\n        label: _mi18n2.default.get('separator'),\n        hideLabel: true\n      },\n      meta: {\n        group: 'common',\n        icon: 'divider',\n        id: 'divider'\n      }\n    }, {\n      tag: 'input',\n      attrs: {\n        type: 'file',\n        required: false,\n        accept: [{ value: 'image/*', label: 'Imagen', id: 'image' }, { value: '.pdf', label: 'Pdf', id: 'pdf' }, { value: '.xls,.xlsx,.csv,.xlm', label: 'Excel', id: 'excel' }, { value: '.doc,.docx', label: 'Word', id: 'word', selected: true }, { value: '.txt', label: 'Text', id: 'txt' }, { value: '.rar', label: 'Archivo comprimido RAR', id: 'rar' }, { value: '.zip', label: 'Archivo comprimido ZIP', id: 'zip' }, { value: 'audio/*', label: 'Audio', id: 'audio' }, { value: 'video/*', label: 'Video', id: 'video' }, { value: '*', label: 'Otro', id: 'other' }],\n        'size': '5',\n        placeholder: ''\n      },\n      config: {\n        disabledAttrs: ['type'],\n        label: _mi18n2.default.get('fileUpload')\n      },\n      meta: {\n        group: 'common',\n        icon: 'upload',\n        id: 'upload'\n      },\n      fMap: 'attrs.value'\n    }, {\n      tag: 'input',\n      attrs: {\n        type: 'number',\n        required: false,\n        className: 'single-input-primary',\n        min: 0,\n        max: 10,\n        value: 1,\n        step: 1,\n        placeholder: ''\n      },\n      config: {\n        label: _mi18n2.default.get('number'),\n        disabledAttrs: ['type']\n      },\n      meta: {\n        group: 'common',\n        icon: 'hash',\n        id: 'number'\n      },\n      fMap: 'attrs.value'\n    }, {\n      tag: 'input',\n      attrs: {\n        type: 'hidden',\n        value: ''\n      },\n      config: {\n        label: _mi18n2.default.get('hidden'),\n        hideLabel: true\n      },\n      meta: {\n        group: 'common',\n        icon: 'hidden',\n        id: 'hidden'\n      },\n      fMap: 'attrs.value'\n    }];\n\n    this.defaults = {\n      sortable: true,\n      elementOrder: {},\n      groups: [{\n        id: 'layout',\n        label: _mi18n2.default.get('layout'),\n        elementOrder: ['row', 'column']\n      }, {\n        id: 'common',\n        label: _mi18n2.default.get('commonFields'),\n        elementOrder: ['button', 'checkbox']\n      }, {\n        id: 'html',\n        label: _mi18n2.default.get('htmlElements'),\n        elementOrder: ['header', 'block-text']\n      }],\n      disable: {\n        groups: [],\n        elements: []\n      },\n      elements: []\n    };\n\n    opts = _helpers2.default.merge(this.defaults, controlOptions);\n\n    opts.elements = opts.elements.concat(defaultElements);\n\n    this.controlEvents = {\n      focus: function focus(evt) {\n        var currentGroup = (0, _utils.closestFtype)(evt.target);\n        _this.panels.nav.refresh(_helpers2.default.indexOfNode(currentGroup));\n      },\n      click: function click(evt) {\n        return _this.addElement(evt.target.parentElement.id);\n      }\n    };\n\n    this.buildDOM();\n  }\n\n  Controls.prototype.applyControlEvents = function applyControlEvents(evt) {\n    var item = evt.item;\n\n    var control = document.getElementById(item.id);\n    var button = control.querySelector('button');\n    var actions = Object.keys(this.controlEvents);\n    if (button) {\n      for (var i = actions.length - 1; i >= 0; i--) {\n        var event = actions[i];\n        button.addEventListener(event, this.controlEvents[event]);\n      }\n    }\n  };\n\n  Controls.prototype.prepElement = function prepElement(elem) {\n    var _this = this;\n    var dataID = (0, _utils.uuid)();\n    var button = {\n      tag: 'button',\n      attrs: {\n        type: 'button'\n      },\n      content: [elem.config.label],\n      action: _this.controlEvents\n    };\n    var elementControl = {\n      tag: 'li',\n      className: ['field-control', elem.meta.group + '-control', elem.meta.id + '-control'],\n      id: dataID,\n      cPosition: {},\n      content: button\n    };\n\n    if (elem.meta.icon) {\n      button.content.unshift(_dom2.default.icon(elem.meta.icon));\n    }\n\n    _data.registeredFields[dataID] = _data.registeredFields[elem.meta.id] = elem;\n    return elementControl;\n  };\n\n  Controls.prototype.groupElements = function groupElements() {\n    var _this2 = this;\n\n    var _this = this;\n    var groups = opts.groups.slice();\n    var elements = opts.elements.slice();\n    var allGroups = [];\n    var usedElementIds = [];\n\n    groups = _helpers2.default.orderObjectsBy(groups, this.groupOrder, 'id');\n\n    groups = groups.filter(function (group) {\n      return (0, _utils.match)(group.id, opts.disable.groups);\n    });\n\n    allGroups = _helpers2.default.map(groups, function (i) {\n      var group = {\n        tag: 'ul',\n        attrs: {\n          className: 'control-group',\n          id: _this.formID + '-' + groups[i].id + '-control-group'\n        },\n        fType: 'controlGroup',\n        config: {\n          label: groups[i].label || ''\n        }\n      };\n\n      if (opts.elementOrder[groups[i].id]) {\n        var userOrder = opts.elementOrder[groups[i].id];\n        var newOrder = (0, _utils.unique)(userOrder.concat(groups[i].elementOrder));\n        groups[i].elementOrder = newOrder;\n      }\n      elements = _helpers2.default.orderObjectsBy(elements, groups[i].elementOrder, 'meta.id');\n\n      group.content = elements.filter(function (field) {\n        var fieldId = field.meta.id || '';\n        var filters = [(0, _utils.match)(fieldId, opts.disable.elements), field.meta.group === groups[i].id, !_helpers2.default.inArray(field.meta.id, usedElementIds)];\n\n        var shouldFilter = true;\n        shouldFilter = filters.every(function (val) {\n          return val === true;\n        });\n        if (shouldFilter) {\n          usedElementIds.push(fieldId);\n        }\n\n        return shouldFilter;\n      }).map(function (field) {\n        return _this.prepElement.call(_this2, field);\n      });\n\n      return group;\n    });\n\n    return allGroups;\n  };\n\n  Controls.prototype.formActions = function formActions() {\n    var btnTemplate = {\n      tag: 'button',\n      attrs: {\n        type: 'button'\n      }\n    };\n\n    var clearBtn = _helpers2.default.merge(btnTemplate, {\n      content: [_dom2.default.icon('bin'), _mi18n2.default.get('clear')],\n      className: ['clear-form'],\n      attrs: {\n        title: _mi18n2.default.get('clearAll')\n      },\n      action: {\n        click: function click(evt) {\n          if (_data.formData.rows.size) {\n            _events2.default.confirmClearAll = new CustomEvent('confirmClearAll', {\n              detail: {\n                confirmationMessage: _mi18n2.default.get('confirmClearAll'),\n                clearAllAction: _dom2.default.clearForm.bind(_dom2.default),\n                btnCoords: _dom2.default.coords(evt.target),\n                rows: _dom2.default.rows,\n                rowCount: _dom2.default.rows.size\n              }\n            });\n\n            document.dispatchEvent(_events2.default.confirmClearAll);\n          } else {\n            alert('There are no fields to clear');\n          }\n        }\n      }\n    });\n\n    var saveBtn = _helpers2.default.merge(btnTemplate, {\n      content: [_dom2.default.icon('floppy-disk'), _mi18n2.default.get('save')],\n      attrs: {\n        title: _mi18n2.default.get('save')\n      },\n      className: ['save-form'],\n      action: {\n        click: function click(evt) {\n          _data.data.save();\n        }\n      }\n    });\n    var formActions = {\n      tag: 'div',\n      className: 'form-actions f-btn-group',\n\n      content: [clearBtn, saveBtn]\n    };\n\n    return formActions;\n  };\n\n  Controls.prototype.buildDOM = function buildDOM() {\n    if (this.element) {\n      return this.element;\n    }\n    var _this = this;\n    var groupedFields = this.groupElements();\n    var formActions = this.formActions();\n    _this.panels = new _panels2.default({ panels: groupedFields, type: 'controls' });\n    var groupsWrapClasses = ['control-groups', 'panels-wrap', 'panel-count-' + groupedFields.length];\n    var groupsWrap = _dom2.default.create({\n      tag: 'div',\n      className: groupsWrapClasses,\n      content: _this.panels.content\n    });\n\n    var element = _dom2.default.create({\n      tag: 'div',\n      className: this.formID + '-controls formeo-controls',\n      content: [groupsWrap]\n    });\n    var groups = element.getElementsByClassName('control-group');\n\n    this.element = element;\n    this.groups = groups;\n    this.currentGroup = groups[0];\n\n    this.actions = {\n      filter: function filter(term) {\n        var cpContent = _this.panels.content[1];\n        var filtering = term !== '';\n        var filteredTerm = groupsWrap.querySelector('.filtered-term');\n        var fields = cpContent.querySelectorAll('.field-control');\n\n        _helpers2.default.toggleElementsByStr(fields, term);\n\n        if (filtering) {\n          var filteredStr = 'Filtering \\'' + term + '\\'';\n\n          element.classList.add('filtered');\n\n          if (filteredTerm) {\n            filteredTerm.textContent = filteredStr;\n          } else {\n            filteredTerm = _dom2.default.create({\n              tag: 'h5',\n              className: 'filtered-term',\n              content: filteredStr\n            });\n            groupsWrap.insertBefore(filteredTerm, groupsWrap.firstChild);\n          }\n        } else if (filteredTerm) {\n          element.classList.remove('filtered');\n          filteredTerm.remove();\n        }\n      },\n      addElement: _this.addElement,\n      addGroup: function addGroup(group) {\n        return console.log(group);\n      }\n    };\n\n    var _loop = function _loop(i) {\n      var storeID = 'formeo-controls-' + groups[i];\n      if (!opts.sortable) {\n        localStorage.removeItem(storeID);\n      }\n      _sortablejs2.default.create(groups[i], {\n        animation: 150,\n        forceFallback: true,\n        fallbackClass: 'control-moving',\n        fallbackOnBody: true,\n        group: {\n          name: 'controls',\n          pull: 'clone',\n          put: false\n        },\n        onRemove: _this.applyControlEvents.bind(_this),\n        sort: opts.sortable,\n        store: {\n          get: function get(sortable) {\n            var order = localStorage.getItem(storeID);\n            return order ? order.split('|') : [];\n          },\n\n          set: function set(sortable) {\n            var order = sortable.toArray();\n            localStorage.setItem(storeID, order.join('|'));\n          }\n        }\n      });\n    };\n\n    for (var i = groups.length - 1; i >= 0; i--) {\n      _loop(i);\n    }\n\n    return element;\n  };\n\n  Controls.prototype.addElement = function addElement(id) {\n    var row = _dom2.default.addRow();\n    var meta = _helpers2.default.get(_data.registeredFields[id], 'meta');\n    if (meta.group !== 'layout') {\n      var column = _dom2.default.addColumn(row.id);\n      _dom2.default.addField(column.id, id);\n    } else if (meta.id === 'layout-column') {\n      _dom2.default.addColumn(row.id);\n    }\n\n    _data.data.saveColumnOrder(row);\n    _dom2.default.columnWidths(row);\n    _data.data.save();\n  };\n\n  return Controls;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvY29udHJvbHMuanM/OWRlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XHJcbmltcG9ydCBpMThuIGZyb20gJ21pMThuJztcclxuaW1wb3J0IHtkYXRhLCBmb3JtRGF0YSwgcmVnaXN0ZXJlZEZpZWxkcyBhcyByRmllbGRzfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XHJcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9jb21tb24vZXZlbnRzJztcclxuaW1wb3J0IHttYXRjaCwgdW5pcXVlLCB1dWlkLCBjbG9zZXN0RnR5cGV9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XHJcbmltcG9ydCBQYW5lbHMgZnJvbSAnLi9wYW5lbHMnO1xyXG5cclxubGV0IG9wdHMgPSB7fTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuIGV4cG9ydCBjbGFzcyBDb250cm9scyB7XHJcbiAgLyoqXHJcbiAgICogU2V0dXAgZGVmYXVsdHMgYW5kIHJldHVybiBDb250cm9scyBET01cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRyb2xPcHRpb25zXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBmb3JtSURcclxuICAgKi9cclxuICAgY29uc3RydWN0b3IoY29udHJvbE9wdGlvbnMsIGZvcm1JRCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIHRoaXMuZm9ybUlEID0gZm9ybUlEO1xyXG4gICAgbGV0IHtncm91cE9yZGVyID0gW119ID0gY29udHJvbE9wdGlvbnM7XHJcbiAgICB0aGlzLmdyb3VwT3JkZXIgPSB1bmlxdWUoZ3JvdXBPcmRlci5jb25jYXQoW1xyXG4gICAgICAnY29tbW9uJyxcclxuICAgICAgJ2h0bWwnLFxyXG4gICAgICAnbGF5b3V0JyxcclxuICAgICAgXSkpO1xyXG4gICAgdGhpcy5jUG9zaXRpb24gPSB7fTtcclxuICAgIGNvbnN0IGRlZmF1bHRFbGVtZW50cyA9IFt7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgIGxhYmVsOiBpMThuLmdldCgnY29sdW1uJylcclxuICAgICAgfSxcclxuICAgICAgbWV0YToge1xyXG4gICAgICAgIGdyb3VwOiAnbGF5b3V0JyxcclxuICAgICAgICBpY29uOiAnY29sdW1ucycsXHJcbiAgICAgICAgaWQ6ICdsYXlvdXQtY29sdW1uJ1xyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgIGxhYmVsOiBpMThuLmdldCgncm93JylcclxuICAgICAgfSxcclxuICAgICAgbWV0YToge1xyXG4gICAgICAgIGdyb3VwOiAnbGF5b3V0JyxcclxuICAgICAgICBpY29uOiAncm93cycsXHJcbiAgICAgICAgaWQ6ICdsYXlvdXQtcm93J1xyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIHRhZzogJ2lucHV0JyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogW1xyXG4gICAgICAgIHtsYWJlbDogJ1RleHRvJywgdmFsdWU6ICd0ZXh0J30sXHJcbiAgICAgICAge2xhYmVsOiAnQ29udHJhc2XDsWEnLCB2YWx1ZTogJ3Bhc3N3b3JkJ30sXHJcbiAgICAgICAge2xhYmVsOiAnQ29ycmVvJywgdmFsdWU6ICdlbWFpbCd9LFxyXG4gICAgICAgIHtsYWJlbDogJ0NvbG9yJywgdmFsdWU6ICdjb2xvcid9LFxyXG4gICAgICAgIHtsYWJlbDogJ1RlbMOpZm9ubycsIHZhbHVlOiAndGVsJ30sXHJcbiAgICAgICAgXSxcclxuICAgICAgICBwbGFjZWhvbGRlcjogJycsXHJcbiAgICAgICAgY2xhc3NOYW1lOiAnc2luZ2xlLWlucHV0LXByaW1hcnknLFxyXG4gICAgICAgIG1heGxlbmd0aDogMjAwXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgICAvLyBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXSxcclxuICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdpbnB1dC50ZXh0JylcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgICAgaWNvbjogJ3RleHQtaW5wdXQnLFxyXG4gICAgICAgICAgICBpZDogJ3RleHQtaW5wdXQnXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZk1hcDogJ2F0dHJzLnZhbHVlJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIHRhZzogJ2lucHV0JyxcclxuICAgICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdzaW5nbGUtaW5wdXQtcHJpbWFyeScsXHJcbiAgICAgICAgICAgIE1pbjogJycsXHJcbiAgICAgICAgICAgIE1heDogJydcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ10sXHJcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnaW5wdXQuZGF0ZScpXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWV0YToge1xyXG4gICAgICAgICAgICBncm91cDogJ2NvbW1vbicsXHJcbiAgICAgICAgICAgIGljb246ICdjYWxlbmRhcicsXHJcbiAgICAgICAgICAgIGlkOiAnZGF0ZS1pbnB1dCdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICB0YWc6ICdidXR0b24nLFxyXG4gICAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBbXHJcbiAgICAgICAgICAgIHtsYWJlbDogaTE4bi5nZXQoJ2dyb3VwZWQnKSwgdmFsdWU6ICdmLWJ0bi1ncm91cCd9LFxyXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCd1bmdyb3VwZWQnKSwgdmFsdWU6ICdmLWZpZWxkLWdyb3VwJ30sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSxcclxuICAgICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxyXG4gICAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxyXG4gICAgICAgICAgICBpY29uOiAnYnV0dG9uJyxcclxuICAgICAgICAgICAgaWQ6ICdidXR0b24nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb3B0aW9uczogW3tcclxuICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSxcclxuICAgICAgICAgICAgdHlwZTogW1xyXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSwgdmFsdWU6ICdidXR0b24nLCBzZWxlY3RlZDogdHJ1ZX0sXHJcbiAgICAgICAgICAgIHtsYWJlbDogaTE4bi5nZXQoJ3Jlc2V0JyksIHZhbHVlOiAncmVzZXQnfSxcclxuICAgICAgICAgICAge2xhYmVsOiBpMThuLmdldCgnc3VibWl0JyksIHZhbHVlOiAnc3VibWl0J30sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdkZWZhdWx0JyksXHJcbiAgICAgICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ3ByaW1hcnknKSxcclxuICAgICAgICAgICAgICB2YWx1ZTogJ3ByaW1hcnknXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2RhbmdlcicpLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiAnZXJyb3InfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ3N1Y2Nlc3MnKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAnc3VjY2Vzcyd9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ3dhcm5pbmcnKSxcclxuICAgICAgICAgICAgICAgICAgdmFsdWU6ICd3YXJuaW5nJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICB0YWc6ICdzZWxlY3QnLFxyXG4gICAgICAgICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdzZWxlY3QnKVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NpbmdsZS1pbnB1dC1wcmltYXJ5J1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgbWV0YToge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ3NlbGVjdCcsXHJcbiAgICAgICAgICAgICAgICBpZDogJ3NlbGVjdCdcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIG9wdGlvbnM6IFsxLCAyLCAzLCA0XS5tYXAoaSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2xhYmVsQ291bnQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdvcHRpb24nKSxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDogaVxyXG4gICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgdmFsdWU6ICdvcHRpb24tJyArIGksXHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgdGFnOiAndGV4dGFyZWEnLFxyXG4gICAgICAgICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCd0ZXh0YXJlYScpXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBiZWdpbm5pbmcgb2YgYWN0aW9ucyBiZWluZyBzdXBwb3J0ZWQgZm9yIHJlbmRlclxyXG4gICAgICAgIC8vIGVkaXRvciBmaWVsZCBhY3Rpb25zIHNob3VsZCBiZSBpbiBjb25maWcuYWN0aW9uXHJcbiAgICAgICAgLy8gYWN0aW9uOiB7XHJcbiAgICAgICAgLy8gICBtb3VzZWRvd246IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIC8vICAgICBsZXQge3RhcmdldH0gPSBldnQ7XHJcbiAgICAgICAgLy8gICAgIGxldCBzdGFydEhlaWdodCA9IHRhcmdldC5zdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IG9uTW91c2V1cCA9IGV2dCA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgbGV0IHt0YXJnZXR9ID0gZXZ0O1xyXG4gICAgICAgIC8vICAgICAgIGxldCBlbmRIZWlnaHQgPSB0YXJnZXQuc3R5bGUuaGVpZ2h0O1xyXG4gICAgICAgIC8vICAgICAgIGlmIChzdGFydEhlaWdodCAhPT0gZW5kSGVpZ2h0KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGZpZWxkSUQgPSBjbG9zZXN0KHRhcmdldCwgJy5zdGFnZS1maWVsZHMnKS5pZDtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGZpZWxkID0gZC5maWVsZHMuZ2V0KGZpZWxkSUQpLmluc3RhbmNlO1xyXG4gICAgICAgIC8vICAgICAgICAgZmllbGQuYWRkQXR0cmlidXRlKCdzdHlsZScsIGBoZWlnaHQ6ICR7ZW5kSGVpZ2h0fWApO1xyXG4gICAgICAgIC8vICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2V1cCk7XHJcbiAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgLy8gICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZXVwKTtcclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgICBpZDogJ3RleHRhcmVhJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgIHBsYWNlaG9sZGVyOiAnJyxcclxuICAgICAgICAgIG1heGxlbmd0aDogMjAwLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiAnc2luZ2xlLWlucHV0LXByaW1hcnknXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnY2hlY2tib3gnKSArICcvJyArIGkxOG4uZ2V0KCdncm91cCcpLFxyXG4gICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdjaGVja2JveCcsXHJcbiAgICAgICAgICBpZDogJ2NoZWNrYm94J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uczogW3tcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtcclxuICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdjaGVja2JveCcpLFxyXG4gICAgICAgICAgICBjb3VudDogMVxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICB2YWx1ZTogJ2NoZWNrYm94LTEnLFxyXG4gICAgICAgICAgc2VsZWN0ZWQ6IHRydWVcclxuICAgICAgICB9XVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICB0eXBlOiAncmFkaW8nLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgncmFkaW9Hcm91cCcpLFxyXG4gICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdyYWRpby1ncm91cCcsXHJcbiAgICAgICAgICBpZDogJ3JhZGlvJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uczogWzEsIDIsIDNdLm1hcChpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtsYWJlbDogaTE4bi5nZXQoJ3JhZGlvJyksIGNvdW50OiBpfSksXHJcbiAgICAgICAgICAgIHZhbHVlOiAncmFkaW8tJyArIGksXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiAnSFRNTCcsXHJcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWUsXHJcbiAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ2NsYXNzTmFtZScsICd0eXBlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdhc3RlcmlzayBmYS0xNXB4JyxcclxuICAgICAgICAgIGlkOiAnaHRtbC1zdW1tZXJub3RlJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgIGh0bWw6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiAnJ1xyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnaWZyYW1lJyxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiAnaUZyYW1lJyxcclxuICAgICAgICAgIGhpZGVMYWJlbDogdHJ1ZSxcclxuICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWV0YToge1xyXG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxyXG4gICAgICAgICAgaWNvbjogJ2dsb2JlIGZhLTE1cHgnLFxyXG4gICAgICAgICAgaWQ6ICdpZnJhbWUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgc3JjOiAnJyxcclxuICAgICAgICAgIHdpZHRoOicxMDAlJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgIHRhZzogJ2ltZycsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBsYWJlbDogJ0ltw6FnZW4nLFxyXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxyXG4gICAgICAgICAgZWRpdGFibGU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdwaWN0dXJlIGZhLTE1cHgnLFxyXG4gICAgICAgICAgaWQ6ICdpbWFnZSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICBzcmM6ICcnLFxyXG4gICAgICAgICAgd2lkdGg6JzEwMCUnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnaDEnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICB0YWc6IFtcclxuICAgICAgICAgIHt2YWx1ZTogJ2gxJywgbGFiZWw6ICdIMSd9LFxyXG4gICAgICAgICAge3ZhbHVlOiAnaDInLCBsYWJlbDogJ0gyJ30sXHJcbiAgICAgICAgICB7dmFsdWU6ICdoMycsIGxhYmVsOiAnSDMnfSxcclxuICAgICAgICAgIHt2YWx1ZTogJ2g0JywgbGFiZWw6ICdINCd9XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2hlYWRlcicpLFxyXG4gICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdoZWFkZXInLFxyXG4gICAgICAgICAgaWQ6ICdoZWFkZXInXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiBpMThuLmdldCgnaGVhZGVyJylcclxuICAgICAgfSwge1xyXG4gICAgICAgIHRhZzogJ3AnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgncGFyYWdyYXBoJyksXHJcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWUsXHJcbiAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdwYXJhZ3JhcGgnLFxyXG4gICAgICAgICAgaWQ6ICdwYXJhZ3JhcGgnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgIGNvbnRlbnQ6ICdMZXZlcmFnZSBhZ2lsZSBmcmFtZXdvcmtzIHRvIHByb3ZpZGUgYSByb2J1c3Qgc3lub3BzaXMgZm9yIGhpZ2ggbGV2ZWwgb3ZlcnZpZXdzLiBJdGVyYXRpdmUgYXBwcm9hY2hlcyB0byBjb3Jwb3JhdGUgc3RyYXRlZ3kgZm9zdGVyIGNvbGxhYm9yYXRpdmUgdGhpbmtpbmcgdG8gZnVydGhlciB0aGUgb3ZlcmFsbCB2YWx1ZSBwcm9wb3NpdGlvbi4gT3JnYW5pY2FsbHkgZ3JvdyB0aGUgaG9saXN0aWMgd29ybGQgdmlldyBvZiBkaXNydXB0aXZlIGlubm92YXRpb24gdmlhIHdvcmtwbGFjZSBkaXZlcnNpdHkgYW5kIGVtcG93ZXJtZW50LidcclxuICAgICAgfSwge1xyXG4gICAgICAgIHRhZzogJ2hyJyxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnc2VwYXJhdG9yJyksXHJcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdkaXZpZGVyJyxcclxuICAgICAgICAgIGlkOiAnZGl2aWRlcidcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0YWc6ICdpbnB1dCcsXHJcbiAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgIHR5cGU6ICdmaWxlJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgIGFjY2VwdDogWyAgICAgICAgICBcclxuICAgICAgICAgICAge3ZhbHVlOiAnaW1hZ2UvKicsIGxhYmVsOiAnSW1hZ2VuJywgaWQ6J2ltYWdlJ30sXHJcbiAgICAgICAgICAgIHt2YWx1ZTogJy5wZGYnLCBsYWJlbDogJ1BkZicsIGlkOidwZGYnfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAnLnhscywueGxzeCwuY3N2LC54bG0nLCBsYWJlbDogJ0V4Y2VsJywgaWQ6J2V4Y2VsJ30sXHJcbiAgICAgICAgICAgIHt2YWx1ZTogJy5kb2MsLmRvY3gnLCBsYWJlbDogJ1dvcmQnLCBpZDond29yZCcsIHNlbGVjdGVkOiB0cnVlfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAnLnR4dCcsIGxhYmVsOiAnVGV4dCcsIGlkOid0eHQnfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAnLnJhcicsIGxhYmVsOiAnQXJjaGl2byBjb21wcmltaWRvIFJBUicsIGlkOidyYXInfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAnLnppcCcsIGxhYmVsOiAnQXJjaGl2byBjb21wcmltaWRvIFpJUCcsIGlkOid6aXAnfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAnYXVkaW8vKicsIGxhYmVsOiAnQXVkaW8nLCBpZDonYXVkaW8nfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAndmlkZW8vKicsIGxhYmVsOiAnVmlkZW8nLCBpZDondmlkZW8nfSxcclxuICAgICAgICAgICAge3ZhbHVlOiAnKicsIGxhYmVsOiAnT3RybycsIGlkOidvdGhlcid9XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgJ3NpemUnOic1JyxcclxuICAgICAgICAgIHBsYWNlaG9sZGVyOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXSxcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnZmlsZVVwbG9hZCcpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXHJcbiAgICAgICAgICBpY29uOiAndXBsb2FkJyxcclxuICAgICAgICAgIGlkOiAndXBsb2FkJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZk1hcDogJ2F0dHJzLnZhbHVlJ1xyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgIGNsYXNzTmFtZTogJ3NpbmdsZS1pbnB1dC1wcmltYXJ5JyxcclxuICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgIG1heDogMTAsXHJcbiAgICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICAgIHN0ZXA6IDEsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogJydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdudW1iZXInKSxcclxuICAgICAgICAgIGRpc2FibGVkQXR0cnM6IFsndHlwZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXHJcbiAgICAgICAgICBpY29uOiAnaGFzaCcsXHJcbiAgICAgICAgICBpZDogJ251bWJlcidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZNYXA6ICdhdHRycy52YWx1ZSdcclxuICAgICAgfSwge1xyXG4gICAgICAgIHRhZzogJ2lucHV0JyxcclxuICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgdHlwZTogJ2hpZGRlbicsXHJcbiAgICAgICAgICB2YWx1ZTogJydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdoaWRkZW4nKSxcclxuICAgICAgICAgIGhpZGVMYWJlbDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGE6IHtcclxuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcclxuICAgICAgICAgIGljb246ICdoaWRkZW4nLFxyXG4gICAgICAgICAgaWQ6ICdoaWRkZW4nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmTWFwOiAnYXR0cnMudmFsdWUnXHJcbiAgICAgIH1dO1xyXG5cclxuICAgICAgdGhpcy5kZWZhdWx0cyA9IHtcclxuICAgICAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgICAgICBlbGVtZW50T3JkZXI6IHt9LFxyXG4gICAgICAgIGdyb3VwczogW3tcclxuICAgICAgICAgIGlkOiAnbGF5b3V0JyxcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGF5b3V0JyksXHJcbiAgICAgICAgICBlbGVtZW50T3JkZXI6IFtcclxuICAgICAgICAgICdyb3cnLFxyXG4gICAgICAgICAgJ2NvbHVtbidcclxuICAgICAgICAgIF1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBpZDogJ2NvbW1vbicsXHJcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2NvbW1vbkZpZWxkcycpLFxyXG4gICAgICAgICAgZWxlbWVudE9yZGVyOiBbXHJcbiAgICAgICAgICAnYnV0dG9uJyxcclxuICAgICAgICAgICdjaGVja2JveCcsXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgaWQ6ICdodG1sJyxcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnaHRtbEVsZW1lbnRzJyksXHJcbiAgICAgICAgICBlbGVtZW50T3JkZXI6IFtcclxuICAgICAgICAgICdoZWFkZXInLFxyXG4gICAgICAgICAgJ2Jsb2NrLXRleHQnXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfV0sXHJcbiAgICAgICAgZGlzYWJsZToge1xyXG4gICAgICAgICAgZ3JvdXBzOiBbXSxcclxuICAgICAgICAgIGVsZW1lbnRzOiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWxlbWVudHM6IFtdXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBvcHRzID0gaC5tZXJnZSh0aGlzLmRlZmF1bHRzLCBjb250cm9sT3B0aW9ucyk7XHJcblxyXG4gICAgICBvcHRzLmVsZW1lbnRzID0gb3B0cy5lbGVtZW50cy5jb25jYXQoZGVmYXVsdEVsZW1lbnRzKTtcclxuXHJcbiAgICAgIHRoaXMuY29udHJvbEV2ZW50cyA9IHtcclxuICAgICAgICBmb2N1czogZXZ0ID0+IHtcclxuICAgICAgICAgIGxldCBjdXJyZW50R3JvdXAgPSBjbG9zZXN0RnR5cGUoZXZ0LnRhcmdldCk7XHJcbiAgICAgICAgICBfdGhpcy5wYW5lbHMubmF2LnJlZnJlc2goaC5pbmRleE9mTm9kZShjdXJyZW50R3JvdXApKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsaWNrOiBldnQgPT4gX3RoaXMuYWRkRWxlbWVudChldnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuaWQpXHJcbiAgICAgIC8vIG1vdXNlZG93bjogZXZ0ID0+IHtcclxuICAgICAgLy8gICBsZXQgcG9zaXRpb24gPSBfdGhpcy5jUG9zaXRpb247XHJcbiAgICAgIC8vICAgcG9zaXRpb24ueCA9IGV2dC5jbGllbnRYO1xyXG4gICAgICAvLyAgIHBvc2l0aW9uLnkgPSBldnQuY2xpZW50WTtcclxuICAgICAgLy8gfSxcclxuICAgICAgLy8gbW91c2V1cDogZXZ0ID0+IHtcclxuICAgICAgLy8gICBsZXQgcG9zaXRpb24gPSBfdGhpcy5jUG9zaXRpb247XHJcbiAgICAgIC8vICAgaWYgKGNsaWNrZWQoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZLCBwb3NpdGlvbiwgZXZ0LmJ1dHRvbikpIHtcclxuICAgICAgLy8gICAgIF90aGlzLmFkZEVsZW1lbnQoZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50LmlkKTtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5idWlsZERPTSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhZ2dpbmcgZm9ybSB0aGUgY29udHJvbCBiYXIgY2xlYXJzIGVsZW1lbnRcclxuICAgKiBldmVudHMgbGV0cyBhZGQgdGhlbSBiYWNrIGFmdGVyIGRyYWcuXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKi9cclxuICAgYXBwbHlDb250cm9sRXZlbnRzKGV2dCkge1xyXG4gICAgbGV0IHtpdGVtfSA9IGV2dDtcclxuICAgIGxldCBjb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbS5pZCk7XHJcbiAgICBsZXQgYnV0dG9uID0gY29udHJvbC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcclxuICAgIGxldCBhY3Rpb25zID0gT2JqZWN0LmtleXModGhpcy5jb250cm9sRXZlbnRzKTtcclxuICAgIGlmIChidXR0b24pe1xyXG4gICAgICBmb3IgKGxldCBpID0gYWN0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGxldCBldmVudCA9IGFjdGlvbnNbaV07XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuY29udHJvbEV2ZW50c1tldmVudF0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBjb250cm9sIGNvbmZpZyBmb3IgVUkgYW5kIGJpbmQgYWN0aW9uc1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbVxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gZWxlbWVudENvbnRyb2xcclxuICAgKi9cclxuICAgcHJlcEVsZW1lbnQoZWxlbSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBkYXRhSUQgPSB1dWlkKCk7XHJcbiAgICBsZXQgYnV0dG9uID0ge1xyXG4gICAgICB0YWc6ICdidXR0b24nLFxyXG4gICAgICBhdHRyczoge1xyXG4gICAgICAgIHR5cGU6ICdidXR0b24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRlbnQ6IFtlbGVtLmNvbmZpZy5sYWJlbF0sXHJcbiAgICAgIGFjdGlvbjogX3RoaXMuY29udHJvbEV2ZW50cyxcclxuICAgIH07XHJcbiAgICBsZXQgZWxlbWVudENvbnRyb2wgPSB7XHJcbiAgICAgIHRhZzogJ2xpJyxcclxuICAgICAgY2xhc3NOYW1lOiBbXHJcbiAgICAgICdmaWVsZC1jb250cm9sJyxcclxuICAgICAgYCR7ZWxlbS5tZXRhLmdyb3VwfS1jb250cm9sYCxcclxuICAgICAgYCR7ZWxlbS5tZXRhLmlkfS1jb250cm9sYCxcclxuICAgICAgXSxcclxuICAgICAgaWQ6IGRhdGFJRCxcclxuICAgICAgY1Bvc2l0aW9uOiB7fSxcclxuICAgICAgY29udGVudDogYnV0dG9uXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChlbGVtLm1ldGEuaWNvbikge1xyXG4gICAgICBidXR0b24uY29udGVudC51bnNoaWZ0KGRvbS5pY29uKGVsZW0ubWV0YS5pY29uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGZpZWxkIHRvIHRoZSByZWdpc3RlciBieSB1dWlkIGFuZCBtZXRhIGlkXHJcbiAgICByRmllbGRzW2RhdGFJRF0gPSByRmllbGRzW2VsZW0ubWV0YS5pZF0gPSBlbGVtO1xyXG4gICAgcmV0dXJuIGVsZW1lbnRDb250cm9sO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR3JvdXAgZWxlbWVudHMgaW50byB0aGVpciByZXNwZWN0aXZlIGNvbnRyb2wgZ3JvdXBcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gYWxsR3JvdXBzXHJcbiAgICovXHJcbiAgIGdyb3VwRWxlbWVudHMoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGdyb3VwcyA9IG9wdHMuZ3JvdXBzLnNsaWNlKCk7XHJcbiAgICBsZXQgZWxlbWVudHMgPSBvcHRzLmVsZW1lbnRzLnNsaWNlKCk7XHJcbiAgICBsZXQgYWxsR3JvdXBzID0gW107XHJcbiAgICBsZXQgdXNlZEVsZW1lbnRJZHMgPSBbXTtcclxuXHJcbiAgICAvLyBBcHBseSBvcmRlciB0byBHcm91cHNcclxuICAgIGdyb3VwcyA9IGgub3JkZXJPYmplY3RzQnkoZ3JvdXBzLCB0aGlzLmdyb3VwT3JkZXIsICdpZCcpO1xyXG5cclxuICAgIC8vIHJlbW92ZSBkaXNhYmxlZCBncm91cHNcclxuICAgIGdyb3VwcyA9IGdyb3Vwcy5maWx0ZXIoZ3JvdXAgPT4gbWF0Y2goZ3JvdXAuaWQsIG9wdHMuZGlzYWJsZS5ncm91cHMpKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgZ3JvdXAgY29uZmlnXHJcbiAgICBhbGxHcm91cHMgPSBoLm1hcChncm91cHMsIChpKSA9PiB7XHJcbiAgICAgIGxldCBncm91cCA9IHtcclxuICAgICAgICB0YWc6ICd1bCcsXHJcbiAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtZ3JvdXAnLFxyXG4gICAgICAgICAgaWQ6IF90aGlzLmZvcm1JRCArICctJyArIGdyb3Vwc1tpXS5pZCArICctY29udHJvbC1ncm91cCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZUeXBlOiAnY29udHJvbEdyb3VwJyxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiBncm91cHNbaV0ubGFiZWwgfHwgJydcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBBcHBseSBvcmRlciB0byBlbGVtZW50c1xyXG4gICAgICBpZiAob3B0cy5lbGVtZW50T3JkZXJbZ3JvdXBzW2ldLmlkXSkge1xyXG4gICAgICAgIGxldCB1c2VyT3JkZXIgPSBvcHRzLmVsZW1lbnRPcmRlcltncm91cHNbaV0uaWRdO1xyXG4gICAgICAgIGxldCBuZXdPcmRlciA9IHVuaXF1ZSh1c2VyT3JkZXIuY29uY2F0KGdyb3Vwc1tpXS5lbGVtZW50T3JkZXIpKTtcclxuICAgICAgICBncm91cHNbaV0uZWxlbWVudE9yZGVyID0gbmV3T3JkZXI7XHJcbiAgICAgIH1cclxuICAgICAgZWxlbWVudHMgPSBoLm9yZGVyT2JqZWN0c0J5KGVsZW1lbnRzLCBncm91cHNbaV0uZWxlbWVudE9yZGVyLCAnbWV0YS5pZCcpO1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEZpbGwgY29udHJvbCBncm91cHMgd2l0aCB0aGVpciBmaWVsZHNcclxuICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBmaWVsZCBGaWVsZCBjb25maWd1cmF0aW9uIG9iamVjdC5cclxuICAgICAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICBGaWx0ZXJlZCBhcnJheSBvZiBGaWVsZCBjb25maWcgb2JqZWN0c1xyXG4gICAgICAgKi9cclxuICAgICAgIGdyb3VwLmNvbnRlbnQgPSBlbGVtZW50cy5maWx0ZXIoZmllbGQgPT4ge1xyXG4gICAgICAgIGxldCBmaWVsZElkID0gZmllbGQubWV0YS5pZCB8fCAnJztcclxuICAgICAgICBsZXQgZmlsdGVycyA9IFtcclxuICAgICAgICBtYXRjaChmaWVsZElkLCBvcHRzLmRpc2FibGUuZWxlbWVudHMpLFxyXG4gICAgICAgIChmaWVsZC5tZXRhLmdyb3VwID09PSBncm91cHNbaV0uaWQpLFxyXG4gICAgICAgICFoLmluQXJyYXkoZmllbGQubWV0YS5pZCwgdXNlZEVsZW1lbnRJZHMpXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgbGV0IHNob3VsZEZpbHRlciA9IHRydWU7XHJcbiAgICAgICAgc2hvdWxkRmlsdGVyID0gZmlsdGVycy5ldmVyeSh2YWwgPT4gdmFsID09PSB0cnVlKTtcclxuICAgICAgICBpZiAoc2hvdWxkRmlsdGVyKSB7XHJcbiAgICAgICAgICB1c2VkRWxlbWVudElkcy5wdXNoKGZpZWxkSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNob3VsZEZpbHRlcjtcclxuICAgICAgfSkubWFwKGZpZWxkID0+IF90aGlzLnByZXBFbGVtZW50LmNhbGwodGhpcywgZmllbGQpKTtcclxuXHJcbiAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGFsbEdyb3VwcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFtmb3JtQWN0aW9ucyBkZXNjcmlwdGlvbl1cclxuICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICAgZm9ybUFjdGlvbnMoKSB7XHJcbiAgICBsZXQgYnRuVGVtcGxhdGUgPSB7XHJcbiAgICAgIHRhZzogJ2J1dHRvbicsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgdHlwZTogJ2J1dHRvbidcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgY2xlYXJCdG4gPSBoLm1lcmdlKGJ0blRlbXBsYXRlLCB7XHJcbiAgICAgIGNvbnRlbnQ6IFtkb20uaWNvbignYmluJyksIGkxOG4uZ2V0KCdjbGVhcicpXSxcclxuICAgICAgY2xhc3NOYW1lOiBbJ2NsZWFyLWZvcm0nXSxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NsZWFyQWxsJylcclxuICAgICAgfSxcclxuICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgY2xpY2s6IGV2dCA9PiB7XHJcbiAgICAgICAgICBpZiAoZm9ybURhdGEucm93cy5zaXplKSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5jb25maXJtQ2xlYXJBbGwgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NvbmZpcm1DbGVhckFsbCcsIHtcclxuICAgICAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbk1lc3NhZ2U6IGkxOG4uZ2V0KCdjb25maXJtQ2xlYXJBbGwnKSxcclxuICAgICAgICAgICAgICAgIGNsZWFyQWxsQWN0aW9uOiBkb20uY2xlYXJGb3JtLmJpbmQoZG9tKSxcclxuICAgICAgICAgICAgICAgIGJ0bkNvb3JkczogZG9tLmNvb3JkcyhldnQudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgIHJvd3M6IGRvbS5yb3dzLFxyXG4gICAgICAgICAgICAgICAgcm93Q291bnQ6IGRvbS5yb3dzLnNpemVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuY29uZmlybUNsZWFyQWxsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSBhcmUgbm8gZmllbGRzIHRvIGNsZWFyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIGxldCBzZXR0aW5nc0J0biA9IGgubWVyZ2UoYnRuVGVtcGxhdGUsIHtcclxuICAgIC8vICAgY29udGVudDogW2RvbS5pY29uKCdzZXR0aW5ncycpLCBpMThuLmdldCgnc2V0dGluZ3MnKV0sXHJcbiAgICAvLyAgIGF0dHJzOiB7XHJcbiAgICAvLyAgICAgdGl0bGU6IGkxOG4uZ2V0KCdzZXR0aW5ncycpXHJcbiAgICAvLyAgIH0sXHJcbiAgICAvLyAgIGNsYXNzTmFtZTogWydidG4nLCAnYnRuLXNlY29uZGFyeScsICdlZGl0LXNldHRpbmdzJ10sXHJcbiAgICAvLyAgIGFjdGlvbjoge1xyXG4gICAgLy8gICAgIGNsaWNrOiAoKSA9PiB7XHJcbiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xyXG4gICAgLy8gICAgICAgbGV0IHN0YWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMuZm9ybUlEICsgJy1zdGFnZScpO1xyXG4gICAgLy8gICAgICAgc3RhZ2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdlZGl0aW5nLXN0YWdlJyk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KTtcclxuICAgIGxldCBzYXZlQnRuID0gaC5tZXJnZShidG5UZW1wbGF0ZSwge1xyXG4gICAgICBjb250ZW50OiBbZG9tLmljb24oJ2Zsb3BweS1kaXNrJyksIGkxOG4uZ2V0KCdzYXZlJyldLFxyXG4gICAgICBhdHRyczoge1xyXG4gICAgICAgIHRpdGxlOiBpMThuLmdldCgnc2F2ZScpXHJcbiAgICAgIH0sXHJcbiAgICAgIGNsYXNzTmFtZTogWydzYXZlLWZvcm0nXSxcclxuICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgY2xpY2s6IChldnQpID0+IHtcclxuICAgICAgICAgIC8vIEB0b2RvOiBjb21wbGV0ZSBhY3Rpb25zIGNvbm5lY3Rpb25cclxuICAgICAgICAgIC8vIGxldCBzYXZlRXZ0ID0ge1xyXG4gICAgICAgICAgLy8gICBhY3Rpb246ICgpID0+IHt9LFxyXG4gICAgICAgICAgLy8gICBjb29yZHM6IGRvbS5jb29yZHMoZXZ0LnRhcmdldCksXHJcbiAgICAgICAgICAvLyAgIG1lc3NhZ2U6ICcnXHJcbiAgICAgICAgICAvLyB9O1xyXG5cclxuICAgICAgICAgIC8vIGFjdGlvbnMuY2xpY2suYnRuKHNhdmVFdnQpO1xyXG4gICAgICAgICAgZGF0YS5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGxldCBmb3JtQWN0aW9ucyA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiAnZm9ybS1hY3Rpb25zIGYtYnRuLWdyb3VwJyxcclxuICAgICAgLy8gY29udGVudDogW2NsZWFyQnRuLCBzZXR0aW5nc0J0biwgc2F2ZUJ0bl1cclxuICAgICAgY29udGVudDogW2NsZWFyQnRuLCBzYXZlQnRuXVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZm9ybUFjdGlvbnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBtYXJrdXAgZm9yIHRoZSBmb3JtIGNvbnRyb2xzL2ZpZWxkc1xyXG4gICAqIEByZXR1cm4ge0RPTX1cclxuICAgKi9cclxuICAgYnVpbGRET00oKSB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGdyb3VwZWRGaWVsZHMgPSB0aGlzLmdyb3VwRWxlbWVudHMoKTtcclxuICAgIGxldCBmb3JtQWN0aW9ucyA9IHRoaXMuZm9ybUFjdGlvbnMoKTtcclxuICAgIF90aGlzLnBhbmVscyA9IG5ldyBQYW5lbHMoe3BhbmVsczogZ3JvdXBlZEZpZWxkcywgdHlwZTogJ2NvbnRyb2xzJ30pO1xyXG4gICAgbGV0IGdyb3Vwc1dyYXBDbGFzc2VzID0gW1xyXG4gICAgJ2NvbnRyb2wtZ3JvdXBzJyxcclxuICAgICdwYW5lbHMtd3JhcCcsXHJcbiAgICBgcGFuZWwtY291bnQtJHtncm91cGVkRmllbGRzLmxlbmd0aH1gXHJcbiAgICBdO1xyXG4gICAgbGV0IGdyb3Vwc1dyYXAgPSBkb20uY3JlYXRlKHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiBncm91cHNXcmFwQ2xhc3NlcyxcclxuICAgICAgY29udGVudDogX3RoaXMucGFuZWxzLmNvbnRlbnRcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBlbGVtZW50ID0gZG9tLmNyZWF0ZSh7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGNsYXNzTmFtZTogdGhpcy5mb3JtSUQgKyAnLWNvbnRyb2xzIGZvcm1lby1jb250cm9scycsXHJcbiAgICAgIGNvbnRlbnQ6IFtncm91cHNXcmFwLyosIGZvcm1BY3Rpb25zKi9dXHJcbiAgICB9KTtcclxuICAgIGxldCBncm91cHMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbnRyb2wtZ3JvdXAnKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5ncm91cHMgPSBncm91cHM7XHJcbiAgICB0aGlzLmN1cnJlbnRHcm91cCA9IGdyb3Vwc1swXTtcclxuXHJcbiAgICB0aGlzLmFjdGlvbnMgPSB7XHJcbiAgICAgIGZpbHRlcjogKHRlcm0pID0+IHtcclxuICAgICAgICBsZXQgY3BDb250ZW50ID0gX3RoaXMucGFuZWxzLmNvbnRlbnRbMV07XHJcbiAgICAgICAgbGV0IGZpbHRlcmluZyA9ICh0ZXJtICE9PSAnJyk7XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkVGVybSA9IGdyb3Vwc1dyYXAucXVlcnlTZWxlY3RvcignLmZpbHRlcmVkLXRlcm0nKTtcclxuICAgICAgICBsZXQgZmllbGRzID0gY3BDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWVsZC1jb250cm9sJyk7XHJcblxyXG4gICAgICAgIGgudG9nZ2xlRWxlbWVudHNCeVN0cihmaWVsZHMsIHRlcm0pO1xyXG5cclxuICAgICAgICBpZiAoZmlsdGVyaW5nKSB7XHJcbiAgICAgICAgICAvLyBAdG9kbyBjaGFuZ2UgdG8gdXNlIGxhbmd1YWdlIGZpbGVcclxuICAgICAgICAgIGxldCBmaWx0ZXJlZFN0ciA9IGBGaWx0ZXJpbmcgJyR7dGVybX0nYDtcclxuXHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcmVkJyk7XHJcblxyXG4gICAgICAgICAgaWYgKGZpbHRlcmVkVGVybSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFRlcm0udGV4dENvbnRlbnQgPSBmaWx0ZXJlZFN0cjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkVGVybSA9IGRvbS5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgIHRhZzogJ2g1JyxcclxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdmaWx0ZXJlZC10ZXJtJyxcclxuICAgICAgICAgICAgICBjb250ZW50OiBmaWx0ZXJlZFN0clxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZ3JvdXBzV3JhcC5pbnNlcnRCZWZvcmUoZmlsdGVyZWRUZXJtLCBncm91cHNXcmFwLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRUZXJtKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcmVkJyk7XHJcbiAgICAgICAgICBmaWx0ZXJlZFRlcm0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBhZGRFbGVtZW50OiBfdGhpcy5hZGRFbGVtZW50LFxyXG4gICAgICBhZGRHcm91cDogKGdyb3VwKSA9PiBjb25zb2xlLmxvZyhncm91cClcclxuICAgIH07XHJcblxyXG4gICAgLy8gTWFrZSBjb250cm9scyBzb3J0YWJsZVxyXG4gICAgZm9yIChsZXQgaSA9IGdyb3Vwcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBsZXQgc3RvcmVJRCA9IGBmb3JtZW8tY29udHJvbHMtJHtncm91cHNbaV19YDtcclxuICAgICAgaWYgKCFvcHRzLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmVJRCk7XHJcbiAgICAgIH1cclxuICAgICAgU29ydGFibGUuY3JlYXRlKGdyb3Vwc1tpXSwge1xyXG4gICAgICAgIGFuaW1hdGlvbjogMTUwLFxyXG4gICAgICAgIGZvcmNlRmFsbGJhY2s6IHRydWUsXHJcbiAgICAgICAgZmFsbGJhY2tDbGFzczogJ2NvbnRyb2wtbW92aW5nJyxcclxuICAgICAgICBmYWxsYmFja09uQm9keTogdHJ1ZSxcclxuICAgICAgICBncm91cDoge1xyXG4gICAgICAgICAgbmFtZTogJ2NvbnRyb2xzJyxcclxuICAgICAgICAgIHB1bGw6ICdjbG9uZScsXHJcbiAgICAgICAgICBwdXQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblJlbW92ZTogX3RoaXMuYXBwbHlDb250cm9sRXZlbnRzLmJpbmQoX3RoaXMpLFxyXG4gICAgICAgIHNvcnQ6IG9wdHMuc29ydGFibGUsXHJcbiAgICAgICAgc3RvcmU6IHtcclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogR2V0IHRoZSBvcmRlciBvZiBlbGVtZW50cy5cclxuICAgICAgICAgICAqIEBwYXJhbSAgIHtTb3J0YWJsZX0gIHNvcnRhYmxlXHJcbiAgICAgICAgICAgKiBAcmV0dXJuIHtBcnJheX1cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgIGdldDogc29ydGFibGUgPT4ge1xyXG4gICAgICAgICAgICBsZXQgb3JkZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yZUlEKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9yZGVyID8gb3JkZXIuc3BsaXQoJ3wnKSA6IFtdO1xyXG4gICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIFNhdmUgdGhlIG9yZGVyIG9mIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICogQHBhcmFtIHtTb3J0YWJsZX0gIHNvcnRhYmxlXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgICBzZXQ6IHNvcnRhYmxlID0+IHtcclxuICAgICAgICAgICAgbGV0IG9yZGVyID0gc29ydGFibGUudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yZUlELCBvcmRlci5qb2luKCd8JykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBlbmQgYW4gZWxlbWVudCB0byB0aGUgc3RhZ2VcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgb2YgZWxlbWVudHNcclxuICAgKi9cclxuICAgYWRkRWxlbWVudChpZCkge1xyXG4gICAgbGV0IHJvdyA9IGRvbS5hZGRSb3coKTtcclxuICAgIGxldCBtZXRhID0gaC5nZXQockZpZWxkc1tpZF0sICdtZXRhJyk7XHJcbiAgICBpZiAobWV0YS5ncm91cCAhPT0gJ2xheW91dCcpIHtcclxuICAgICAgbGV0IGNvbHVtbiA9IGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcclxuICAgICAgZG9tLmFkZEZpZWxkKGNvbHVtbi5pZCwgaWQpO1xyXG4gICAgfSBlbHNlIGlmIChtZXRhLmlkID09PSAnbGF5b3V0LWNvbHVtbicpIHtcclxuICAgICAgZG9tLmFkZENvbHVtbihyb3cuaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKHJvdyk7XHJcbiAgICBkb20uY29sdW1uV2lkdGhzKHJvdyk7XHJcbiAgICBkYXRhLnNhdmUoKTtcclxuICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL2NvbnRyb2xzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUlBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUZBO0FBQUE7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUxBO0FBV0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFFQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBeEJBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFiQTtBQW1CQTtBQUNBO0FBQ0E7QUFEQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBdkJBO0FBbEJBO0FBZ0RBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU5BO0FBUUE7QUF2QkE7QUF5QkE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBOUJBO0FBcUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU5BO0FBZkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBckJBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBaEJBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQVpBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQVpBO0FBaUJBO0FBQ0E7QUFDQTtBQU1BO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBckJBO0FBdUJBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBaEJBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTkE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQTdCQTtBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFyQkE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBZkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBUUE7QUFDQTtBQUNBO0FBSEE7QUFRQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUE3QkE7QUFDQTtBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFMQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBUEE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBREE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFOQTtBQUNBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBWEE7QUFOQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUEvQkE7QUFDQTtBQS9CQTtBQWtFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBWkE7QUF0RUE7QUFDQTtBQWdFQTtBQUFBO0FBc0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _animation = __webpack_require__(/*! ../common/animation */ 8);\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _actions = __webpack_require__(/*! ../common/actions */ 7);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _panels = __webpack_require__(/*! ./panels */ 9);\n\nvar _panels2 = _interopRequireDefault(_panels);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Field = function () {\n  function Field(dataID) {\n    _classCallCheck(this, Field);\n\n    var _this = this;\n\n    var fieldData = _data.formData.fields.get(dataID) || (0, _utils.clone)(_data.registeredFields[dataID]);\n    _this.fieldID = fieldData.id || (0, _utils.uuid)();\n    _this.metaID = fieldData.meta.id;\n    fieldData.id = _this.fieldID;\n\n    _data.formData.fields.set(_this.fieldID, fieldData);\n    this.fieldData = fieldData;\n\n    var field = {\n      tag: 'li',\n      attrs: {\n        className: 'stage-fields field-type-' + fieldData.meta.id\n      },\n      id: _this.fieldID,\n      content: [_dom2.default.actionButtons(_this.fieldID, 'field'), _this.fieldEdit()],\n      panelNav: _this.panelNav,\n      dataset: {\n        hoverTag: _mi18n2.default.get('field')\n      },\n      fType: 'fields',\n      action: {\n        mouseenter: function mouseenter(evt) {\n          var field = document.getElementById(_this.fieldID);\n          field.classList.add('hovering-field');\n        },\n        mouseleave: function mouseleave(evt) {\n          var field = document.getElementById(_this.fieldID);\n          field.classList.remove('hovering-field');\n        },\n        mousedown: function mousedown(evt) {\n          if (evt && evt.target && evt.target.tagName == 'INPUT') {\n            evt.stopPropagation();\n          }\n        }\n      }\n    };\n\n    field = _dom2.default.create(field);\n\n    _dom2.default.fields.set(_this.fieldID, {\n      field: field,\n      instance: _this\n    });\n\n    _this.preview = _dom2.default.create(_this.fieldPreview());\n    field.appendChild(_this.preview);\n\n    return field;\n  }\n\n  Field.prototype.updatePreview = function updatePreview() {\n    var _this = this;\n    var fieldData = _helpers2.default.copyObj(_data.formData.fields.get(_this.fieldID));\n    var newPreview = _dom2.default.create(fieldData, true);\n    _dom2.default.empty(_this.preview);\n    _this.preview.appendChild(newPreview);\n\n    return newPreview;\n  };\n\n  Field.prototype.editPanel = function editPanel(panelType) {\n    var _this = this;\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var propType = void 0;\n    var panel = void 0;\n    var panelWrap = {\n      tag: 'div',\n      className: 'f-panel-wrap',\n      content: []\n    };\n\n    if (fieldData[panelType]) {\n      panel = {\n        tag: 'ul',\n        attrs: {\n          className: ['field-edit-group', 'field-edit-' + panelType]\n        },\n        editGroup: panelType,\n        isSortable: panelType === 'options',\n        content: []\n      };\n      propType = _dom2.default.contentType(fieldData[panelType]);\n\n      panelWrap.content.push(panel);\n\n      var panelArray = void 0;\n      if (propType === 'array') {\n        panelArray = fieldData[panelType];\n      } else {\n        panelArray = Object.keys(fieldData[panelType]);\n      }\n\n      _helpers2.default.forEach(panelArray, function (dataProp, i) {\n        var args = {\n          i: i,\n          dataProp: dataProp,\n          fieldData: fieldData,\n          panelType: panelType,\n          propType: propType\n        };\n\n        panel.content.push(_this.panelContent(args));\n      });\n    }\n\n    return panelWrap;\n  };\n\n  Field.prototype.panelContent = function panelContent(args) {\n    var _this = this;\n    var panelType = args.panelType,\n        dataProp = args.dataProp;\n\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    dataProp = typeof dataProp === 'string' ? dataProp : args.i;\n    var id = (0, _utils.uuid)();\n    var propVal = fieldData[panelType][dataProp];\n\n    var inputs = {\n      tag: 'div',\n      className: ['prop-inputs'],\n      content: _this.editPanelInputs(dataProp, propVal, panelType, id)\n    };\n    var property = {\n      tag: 'li',\n      className: [panelType + '-' + dataProp + '-wrap', 'prop-wrap'],\n      id: id,\n      content: []\n    };\n    var order = {\n      tag: 'button',\n      attrs: {\n        type: 'button',\n        className: 'prop-order prop-control'\n      },\n      content: _dom2.default.icon('move-vertical')\n    };\n    var removeOrAddImage = {};\n\n    if (_this.metaID === 'image' && dataProp === 'src') {\n      removeOrAddImage = {\n        tag: 'button',\n        attrs: {\n          type: 'button',\n          className: 'prop-open-filemanager prop-control'\n        },\n        action: {\n          click: function click(evt) {\n            openFileManager(property);\n          }\n        },\n        content: _dom2.default.icon('upload')\n      };\n    } else {\n      removeOrAddImage = {\n        tag: 'button',\n        attrs: {\n          type: 'button',\n          className: 'prop-remove prop-control'\n        },\n        action: {\n          click: function click(evt) {\n            _animation2.default.slideUp(document.getElementById(property.id), 250, function (elem) {\n              var parent = elem.parentElement;\n              var fieldData = _data.formData.fields.get(_this.fieldID);\n              var fieldPanelData = fieldData[panelType];\n              _dom2.default.remove(elem);\n              if (Array.isArray(fieldPanelData)) {\n                fieldPanelData.splice(dataProp, 1);\n              } else {\n                fieldPanelData[dataProp] = undefined;\n              }\n              _data.data.save(panelType, parent);\n              _dom2.default.empty(_this.preview);\n              var newPreview = _dom2.default.create(fieldData, true);\n              _this.preview.appendChild(newPreview);\n              _this.resizePanelWrap();\n            });\n          }\n        },\n        content: _dom2.default.icon('remove')\n      };\n    }\n\n    var controls = {\n      tag: 'div',\n      className: 'prop-controls',\n      content: [removeOrAddImage]\n    };\n\n    if (args.propType === 'array') {\n      inputs.className.push('f-input-group');\n      controls.content.unshift(order);\n    }\n\n    property.propData = fieldData[panelType][dataProp];\n\n    if (this.isAllowedAttr(dataProp)) {\n      property.content.push(controls, inputs);\n    }\n\n    property.className.push('control-count-' + controls.content.length);\n\n    return property;\n  };\n\n  Field.prototype.editPanelInputs = function editPanelInputs(prop, propVal, panelType, id) {\n    var _this = this;\n    var inputs = [];\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var isOption = panelType === 'options';\n    var processProperty = function processProperty(key, val) {\n      var propType = key === 'html' ? key : _dom2.default.contentType(val);\n      var propIsNum = typeof prop === 'number';\n      var fMap = panelType + '.' + key;\n\n      if (propIsNum) {\n        fMap = panelType + '[' + prop + '].' + key;\n      }\n      var typeAttrs = function typeAttrs(key, val, type) {\n        var placeholder = _mi18n2.default.get('placeholder.' + key) || _helpers2.default.capitalize(key);\n        var attrs = {\n          html: {\n            type: 'html',\n            className: 'summernote-edit',\n            tabindex: '0'\n          },\n          string: {\n            type: 'text',\n            value: val,\n            placeholder: placeholder\n          },\n          boolean: {\n            get type() {\n              var boolType = 'checkbox';\n              if (_this.fieldData.attrs) {\n                var attrType = _this.fieldData.attrs.type;\n                if (attrType === 'radio' && key === 'selected') {\n                  boolType = 'radio';\n                }\n              }\n              return boolType;\n            },\n            value: val\n          },\n          number: {\n            type: 'number',\n            value: val\n          },\n          array: {\n            className: ''\n          }\n        };\n        return attrs[type];\n      };\n      var inputLabel = function inputLabel(key) {\n        var labelKey = panelType + '.' + key;\n        return _mi18n2.default.get(labelKey) || _helpers2.default.capitalize(key);\n      };\n      var propertyInputs = {\n        array: function array(key, val) {\n          var select = {\n            fMap: fMap,\n            tag: 'select',\n            id: prop + '-' + id,\n            attrs: typeAttrs(key, val, 'array'),\n            config: {\n              label: inputLabel(key),\n              hideLabel: isOption\n            },\n            content: val.map(function (v) {\n              return {\n                tag: 'option',\n                attrs: {\n                  value: v.value,\n                  selected: v.selected\n                },\n                content: v.label\n              };\n            }),\n            action: {\n              change: function change(evt) {\n                var values = [];\n                var propData = fieldData[panelType][prop];\n                var optionData = isOption ? propData[key] : propData;\n                var newValue = optionData.map(function (value) {\n                  var selected = value.selected,\n                      option = _objectWithoutProperties(value, ['selected']);\n\n                  values.push(option.value);\n                  return option;\n                });\n\n                var index = values.indexOf(evt.target.value);\n                newValue[index].selected = true;\n                _helpers2.default.set(fieldData, fMap, newValue);\n\n                _data.data.save();\n                _this.updatePreview();\n              }\n            }\n          };\n          return select;\n        },\n        string: function string(key, val) {\n          var input = {\n            fMap: fMap,\n            tag: 'input',\n            id: prop + '-' + id,\n            attrs: typeAttrs(key, val, 'string'),\n            action: {\n              change: function change(evt) {\n                _helpers2.default.set(fieldData, fMap, evt.target.value);\n                _this.updatePreview();\n                _data.data.save();\n              }\n            }\n          };\n\n          if (!propIsNum) {\n            input.config = {\n              label: inputLabel(key)\n            };\n          }\n\n          return input;\n        },\n        html: function html(key, val) {\n          var input = {\n            fMap: fMap,\n            tag: 'div',\n            id: prop + '-' + id,\n            attrs: typeAttrs(key, val, 'html')\n          };\n\n          return input;\n        },\n        boolean: function boolean(key, val) {\n          var input = {\n            tag: 'input',\n            attrs: typeAttrs(key, val, 'boolean'),\n            fMap: fMap,\n            id: prop + '-' + id,\n            name: _this.fieldID + '-selected',\n            action: {\n              change: function change(evt) {\n                _helpers2.default.set(fieldData, fMap, evt.target.checked);\n                _this.updatePreview();\n              }\n            }\n          };\n\n          if (val) {\n            input.attrs.checked = val;\n          }\n\n          if (propIsNum) {\n            var addon = {\n              tag: 'span',\n              className: 'f-addon',\n              content: _dom2.default.checkbox(input)\n            };\n            input = addon;\n          } else {\n            input.config = {\n              label: inputLabel(key)\n            };\n          }\n\n          return input;\n        },\n        object: function object(objKey, objVal) {\n          var inputs = [];\n\n          for (var objProp in objVal) {\n            if (objVal.hasOwnProperty(objProp)) {\n              inputs.push(processProperty(objProp, objVal[objProp]));\n            }\n          }\n\n          return inputs;\n        }\n      };\n\n      propertyInputs.number = propertyInputs.string;\n\n      return propertyInputs[propType](key, val);\n    };\n\n    inputs.push(processProperty(prop, propVal));\n\n    return inputs;\n  };\n\n  Field.prototype.isAllowedAttr = function isAllowedAttr() {\n    var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'type';\n\n    var _this = this;\n    var allowed = true;\n    var disabledAttrs = _data.registeredFields[_this.metaID].config.disabledAttrs;\n    if (disabledAttrs) {\n      allowed = !_helpers2.default.inArray(attr, disabledAttrs);\n    }\n\n    return allowed;\n  };\n\n  Field.prototype.addAttribute = function addAttribute(attr, val) {\n    if (!this.isAllowedAttr(attr)) {\n      window.alert('Attribute \"' + attr + '\": not permitted');\n    }\n\n    var _this = this;\n    var field = document.getElementById(_this.fieldID);\n    var editGroup = field.querySelector('.field-edit-attrs');\n    var safeAttr = _helpers2.default.hyphenCase(attr);\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var labelKey = 'attrs.' + safeAttr;\n\n    if (!_mi18n2.default.current[labelKey]) {\n      _mi18n2.default.put(labelKey, _helpers2.default.capitalize(attr));\n    }\n\n    if (typeof val === 'string' && _helpers2.default.inArray(val, ['true', 'false'])) {\n      val = JSON.parse(val);\n    }\n\n    fieldData.attrs[safeAttr] = val;\n\n    var args = {\n      dataObj: fieldData,\n      dataProp: safeAttr,\n      i: Object.keys(fieldData.attrs).length,\n      panelType: 'attrs'\n    };\n\n    var existingAttr = editGroup.querySelector('.attrs-' + safeAttr + '-wrap');\n    var newAttr = _dom2.default.create(_this.panelContent(args));\n    if (existingAttr) {\n      editGroup.replaceChild(newAttr, existingAttr);\n    } else {\n      editGroup.appendChild(newAttr);\n    }\n\n    _data.data.save(args.panelType, editGroup);\n    _this.updatePreview();\n    _this.resizePanelWrap();\n  };\n\n  Field.prototype.addOption = function addOption() {\n    var _this = this;\n    var field = _dom2.default.fields.get(_this.fieldID).field;\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var optionData = fieldData['options'];\n    var editGroup = field.querySelector('.field-edit-options');\n    var propData = (0, _utils.cleanObj)(optionData[optionData.length - 1]);\n    fieldData.options.push(propData);\n\n    var args = {\n      i: editGroup.childNodes.length,\n      dataProp: propData,\n      dataObj: fieldData,\n      panelType: 'options',\n      propType: 'array'\n    };\n\n    editGroup.appendChild(_dom2.default.create(_this.panelContent(args)));\n    _this.resizePanelWrap();\n\n    _data.data.save();\n    _dom2.default.empty(_this.preview);\n    var newPreview = _dom2.default.create(_data.formData.fields.get(_this.fieldID), true);\n    _this.preview.appendChild(newPreview);\n  };\n\n  Field.prototype.panelEditButtons = function panelEditButtons(type) {\n    var _this = this;\n    var addBtn = {\n      tag: 'button',\n      attrs: {\n        type: 'button',\n        className: 'add-' + type\n      },\n      content: _mi18n2.default.get('panelEditButtons.' + type),\n      action: {\n        click: function click(evt) {\n          var addEvt = {\n            btnCoords: _dom2.default.coords(evt.target)\n          };\n\n          if (type === 'attrs') {\n            addEvt.addAction = _this.addAttribute.bind(_this);\n            addEvt.message = {\n              attr: _mi18n2.default.get('action.add.attrs.attr'),\n              value: _mi18n2.default.get('action.add.attrs.value')\n            };\n          } else if (type === 'options') {\n            addEvt.addAction = _this.addOption.bind(_this);\n          }\n\n          var eventType = _helpers2.default.capitalize(type);\n          var customEvt = new CustomEvent('onAdd' + eventType, {\n            detail: addEvt\n          });\n\n          _actions2.default.add[type](addEvt);\n\n          document.dispatchEvent(customEvt);\n        }\n      }\n    };\n    var panelEditButtons = {\n      tag: 'div',\n      attrs: {\n        className: 'panel-action-buttons'\n      },\n      content: [addBtn]\n    };\n\n    return panelEditButtons;\n  };\n\n  Field.prototype.fieldEdit = function fieldEdit() {\n    var _this = this;\n    var panels = [];\n    var editable = ['object', 'array'];\n    var noPanels = ['config', 'meta', 'action'];\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var allowedPanels = Object.keys(fieldData).filter(function (elem) {\n      return !_helpers2.default.inArray(elem, noPanels);\n    });\n\n    var fieldEdit = {\n      tag: 'div',\n      className: ['field-edit', 'slide-toggle', 'panels-wrap'],\n      attrs: {\n        'data-fieldtype': _this.metaID\n      }\n    };\n\n    _helpers2.default.forEach(allowedPanels, function (panelType, i) {\n      var propType = _dom2.default.contentType(fieldData[panelType]);\n      if (_helpers2.default.inArray(propType, editable)) {\n        var panel = {\n          tag: 'div',\n          attrs: {\n            className: 'f-panel ' + panelType + '-panel'\n          },\n          config: {\n            label: _mi18n2.default.get('panelLabels.' + panelType) || ''\n          },\n          content: [_this.editPanel(panelType), _this.panelEditButtons(panelType)],\n          action: {}\n        };\n\n        panels.push(panel);\n      }\n    });\n\n    var panelsConfig = {\n      panels: panels,\n      id: _this.fieldID,\n      metaID: _this.metaID\n    };\n\n    if (panels.length) {\n      var editPanels = _this.panels = new _panels2.default(panelsConfig);\n      fieldEdit.className.push('panel-count-' + panels.length);\n      fieldEdit.content = editPanels.content;\n      _this.panelNav = editPanels.nav;\n      _this.resizePanelWrap = editPanels.actions.resize;\n    } else {\n      setTimeout(function () {\n        var field = _dom2.default.fields.get(_this.fieldID).field;\n        var editToggle = field.querySelector('.item-edit-toggle');\n        var fieldActions = field.querySelector('.field-actions');\n        var actionButtons = fieldActions.getElementsByTagName('button');\n        fieldActions.style.maxWidth = actionButtons.length * 24 + 'px';\n        _dom2.default.remove(editToggle);\n      }, 0);\n    }\n\n    return fieldEdit;\n  };\n\n  Field.prototype.fieldPreview = function fieldPreview() {\n    var _this = this;\n    var fieldData = (0, _utils.clone)(_data.formData.fields.get(_this.fieldID));\n    var field = _dom2.default.fields.get(_this.fieldID).field;\n    var togglePreviewEdit = function togglePreviewEdit(evt) {\n      var column = field.parentElement;\n      if (evt.target.contentEditable === 'true') {\n        if (_helpers2.default.inArray(evt.type, ['focus', 'blur'])) {\n          var isActive = document.activeElement === evt.target;\n          column.classList.toggle('editing-field-preview', isActive);\n          _dom2.default.toggleSortable(field.parentElement, evt.type === 'focus');\n        } else if (_helpers2.default.inArray(evt.type, ['mousedown', 'mouseup'])) {\n          _dom2.default.toggleSortable(field.parentElement, evt.type === 'mousedown');\n        }\n      }\n    };\n\n    fieldData.id = 'prev-' + _this.fieldID;\n\n    var fieldPreview = {\n      tag: 'div',\n      attrs: {\n        className: 'field-preview'\n      },\n      content: _dom2.default.create(fieldData, true),\n      action: {\n        focus: togglePreviewEdit,\n        blur: togglePreviewEdit,\n        mousedown: togglePreviewEdit,\n        mouseup: togglePreviewEdit,\n        change: function change(evt) {\n          var target = evt.target;\n\n          if (target.fMap) {\n            var _fieldData = _data.formData.fields.get(_this.fieldID);\n            var checked = target.checked,\n                type = target.type,\n                fMap = target.fMap;\n\n            if (_helpers2.default.inArray(type, ['checkbox', 'radio'])) {\n              var options = _fieldData.options;\n\n              if (type === 'radio') {\n                options.forEach(function (option) {\n                  return option.selected = false;\n                });\n              }\n              _helpers2.default.set(_fieldData, fMap, checked);\n\n              _data.data.save();\n            }\n          }\n        },\n        click: function click(evt) {\n          if (evt.target.contentEditable === 'true') {\n            evt.preventDefault();\n          }\n        },\n        input: function input(evt) {\n          var fieldData = _data.formData.fields.get(_this.fieldID);\n          var prop = 'content';\n          if (evt.target.fMap) {\n            prop = evt.target.fMap;\n          }\n          if (evt.target.contentEditable === 'true') {\n            _helpers2.default.set(fieldData, prop, evt.target.innerHTML);\n          } else {\n            _helpers2.default.set(fieldData, prop, evt.target.value);\n          }\n          _data.data.save('field', _this.fieldID);\n        }\n      }\n    };\n\n    return fieldPreview;\n  };\n\n  return Field;\n}();\n\nexports.default = Field;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvZmllbGQuanM/MGNiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XHJcbmltcG9ydCB7ZGF0YSwgZm9ybURhdGEsIHJlZ2lzdGVyZWRGaWVsZHMgYXMgckZpZWxkc30gZnJvbSAnLi4vY29tbW9uL2RhdGEnO1xyXG5pbXBvcnQgYW5pbWF0ZSBmcm9tICcuLi9jb21tb24vYW5pbWF0aW9uJztcclxuaW1wb3J0IGggZnJvbSAnLi4vY29tbW9uL2hlbHBlcnMnO1xyXG5pbXBvcnQgYWN0aW9ucyBmcm9tICcuLi9jb21tb24vYWN0aW9ucyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XHJcbmltcG9ydCBQYW5lbHMgZnJvbSAnLi9wYW5lbHMnO1xyXG5pbXBvcnQge3V1aWQsIGNsb25lLCBjbGVhbk9ian0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcclxuXHJcbi8qKlxyXG4gKiBFbGVtZW50L0ZpZWxkIGNsYXNzLlxyXG4gKi9cclxuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpZWxkIHtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGRlZmF1bHRzIGFuZCBsb2FkIGZpZWxkRGF0YVxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YUlEIGV4aXN0aW5nIGZpZWxkIElEXHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBmaWVsZCBvYmplY3RcclxuICAgKi9cclxuICAgY29uc3RydWN0b3IoZGF0YUlEKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KGRhdGFJRCkgfHwgY2xvbmUockZpZWxkc1tkYXRhSURdKTtcclxuICAgIF90aGlzLmZpZWxkSUQgPSBmaWVsZERhdGEuaWQgfHwgdXVpZCgpO1xyXG4gICAgX3RoaXMubWV0YUlEID0gZmllbGREYXRhLm1ldGEuaWQ7XHJcbiAgICBmaWVsZERhdGEuaWQgPSBfdGhpcy5maWVsZElEO1xyXG5cclxuICAgIGZvcm1EYXRhLmZpZWxkcy5zZXQoX3RoaXMuZmllbGRJRCwgZmllbGREYXRhKTtcclxuICAgIHRoaXMuZmllbGREYXRhID0gZmllbGREYXRhO1xyXG5cclxuICAgIGxldCBmaWVsZCA9IHtcclxuICAgICAgdGFnOiAnbGknLFxyXG4gICAgICBhdHRyczoge1xyXG4gICAgICAgIGNsYXNzTmFtZTogYHN0YWdlLWZpZWxkcyBmaWVsZC10eXBlLSR7ZmllbGREYXRhLm1ldGEuaWR9YFxyXG4gICAgICB9LFxyXG4gICAgICBpZDogX3RoaXMuZmllbGRJRCxcclxuICAgICAgY29udGVudDogW1xyXG4gICAgICAgIGRvbS5hY3Rpb25CdXR0b25zKF90aGlzLmZpZWxkSUQsICdmaWVsZCcpLCAvLyBmaWVsZEVkaXQgd2luZG93XHJcbiAgICAgICAgX3RoaXMuZmllbGRFZGl0KCksIC8vIGZpZWxkRWRpdCB3aW5kb3dcclxuICAgICAgICBdLFxyXG4gICAgICAgIHBhbmVsTmF2OiBfdGhpcy5wYW5lbE5hdixcclxuICAgICAgICBkYXRhc2V0OiB7XHJcbiAgICAgICAgICBob3ZlclRhZzogaTE4bi5nZXQoJ2ZpZWxkJylcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZUeXBlOiAnZmllbGRzJyxcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgIG1vdXNlZW50ZXI6IGV2dCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZpZWxkSUQpO1xyXG4gICAgICAgICAgICBmaWVsZC5jbGFzc0xpc3QuYWRkKCdob3ZlcmluZy1maWVsZCcpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG1vdXNlbGVhdmU6IGV2dCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZpZWxkSUQpO1xyXG4gICAgICAgICAgICBmaWVsZC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcmluZy1maWVsZCcpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG1vdXNlZG93bjogZXZ0PT57XHJcbiAgICAgICAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCAmJiBldnQudGFyZ2V0LnRhZ05hbWUgPT0gJ0lOUFVUJyl7XHJcbiAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZmllbGQgPSBkb20uY3JlYXRlKGZpZWxkKTtcclxuXHJcbiAgICAgIGRvbS5maWVsZHMuc2V0KF90aGlzLmZpZWxkSUQsIHtcclxuICAgICAgICBmaWVsZCxcclxuICAgICAgICBpbnN0YW5jZTogX3RoaXNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBfdGhpcy5wcmV2aWV3ID0gZG9tLmNyZWF0ZShfdGhpcy5maWVsZFByZXZpZXcoKSk7XHJcbiAgICAgIGZpZWxkLmFwcGVuZENoaWxkKF90aGlzLnByZXZpZXcpO1xyXG5cclxuICAgICAgcmV0dXJuIGZpZWxkO1xyXG4gICAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIGEgZmllbGQncyBwcmV2aWV3XHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBmcmVzaCBwcmV2aWV3XHJcbiAgICovXHJcbiAgIHVwZGF0ZVByZXZpZXcoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGZpZWxkRGF0YSA9IGguY29weU9iaihmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpKTtcclxuICAgIGxldCBuZXdQcmV2aWV3ID0gZG9tLmNyZWF0ZShmaWVsZERhdGEsIHRydWUpO1xyXG4gICAgZG9tLmVtcHR5KF90aGlzLnByZXZpZXcpO1xyXG4gICAgX3RoaXMucHJldmlldy5hcHBlbmRDaGlsZChuZXdQcmV2aWV3KTtcclxuXHJcbiAgICByZXR1cm4gbmV3UHJldmlldztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlcyB0aGUgZWRpdCBwYW5lbCBmb3IgYXR0cnMsIG1ldGEgYW5kIG9wdGlvbnMgZm9yIGEgZmllbGRzKHMpXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwYW5lbFR5cGVcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGRhdGFPYmogICBmaWVsZCBjb25maWcgb2JqZWN0XHJcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgZm9ybWVvIERPTSBjb25maWcgb2JqZWN0XHJcbiAgICovXHJcbiAgIGVkaXRQYW5lbChwYW5lbFR5cGUpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcclxuICAgIGxldCBwcm9wVHlwZTtcclxuICAgIGxldCBwYW5lbDtcclxuICAgIGxldCBwYW5lbFdyYXAgPSB7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2YtcGFuZWwtd3JhcCcsXHJcbiAgICAgIGNvbnRlbnQ6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKF90aGlzKTtcclxuXHJcbiAgICBpZiAoZmllbGREYXRhW3BhbmVsVHlwZV0pIHtcclxuICAgICAgcGFuZWwgPSB7XHJcbiAgICAgICAgdGFnOiAndWwnLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6IFtcclxuICAgICAgICAgICdmaWVsZC1lZGl0LWdyb3VwJyxcclxuICAgICAgICAgICdmaWVsZC1lZGl0LScgKyBwYW5lbFR5cGVcclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVkaXRHcm91cDogcGFuZWxUeXBlLFxyXG4gICAgICAgIGlzU29ydGFibGU6IChwYW5lbFR5cGUgPT09ICdvcHRpb25zJyksXHJcbiAgICAgICAgY29udGVudDogW11cclxuICAgICAgfTtcclxuICAgICAgcHJvcFR5cGUgPSBkb20uY29udGVudFR5cGUoZmllbGREYXRhW3BhbmVsVHlwZV0pO1xyXG5cclxuICAgICAgcGFuZWxXcmFwLmNvbnRlbnQucHVzaChwYW5lbCk7XHJcblxyXG4gICAgICBsZXQgcGFuZWxBcnJheTtcclxuICAgICAgaWYgKHByb3BUeXBlID09PSAnYXJyYXknKSB7XHJcbiAgICAgICAgLy8gbGV0IHByb3BzID0gT2JqZWN0LmtleXMoZmllbGREYXRhW3BhbmVsVHlwZV1bMF0pO1xyXG4gICAgICAgIC8vIGxldCBwYW5lbExhYmVscyA9IHtcclxuICAgICAgICAvLyAgIHRhZzogJ2RpdicsXHJcbiAgICAgICAgLy8gICBjbGFzc05hbWU6ICdpbnB1dC1ncm91cCcsXHJcbiAgICAgICAgLy8gICBjb250ZW50OiBwcm9wcy5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgICAvLyAgICAgbGV0IGxhYmVsID0ge1xyXG4gICAgICAgIC8vICAgICAgIHRhZzogJ2xhYmVsJyxcclxuICAgICAgICAvLyAgICAgICBjbGFzc05hbWU6IFsncHJvcC1sYWJlbC0nICsgZWxlbV0sXHJcbiAgICAgICAgLy8gICAgICAgY29udGVudDogaC5jYXBpdGFsaXplKGVsZW0pXHJcbiAgICAgICAgLy8gICAgIH07XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAodHlwZW9mIGZpZWxkRGF0YVtwYW5lbFR5cGVdWzBdW2VsZW1dID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAvLyAgICAgICBsYWJlbC50YWcgPSAnc3Bhbic7XHJcbiAgICAgICAgLy8gICAgICAgbGFiZWwuY2xhc3NOYW1lLnB1c2goJ2lucHV0LWdyb3VwLWFkZG9uJyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIHJldHVybiBsYWJlbDtcclxuICAgICAgICAvLyAgIH0pXHJcbiAgICAgICAgLy8gfTtcclxuICAgICAgICAvLyBsZXQgbGFiZWxXcmFwID0ge1xyXG4gICAgICAgIC8vICAgdGFnOiAnaGVhZGVyJyxcclxuICAgICAgICAvLyAgIGNvbnRlbnQ6IHBhbmVsTGFiZWxzLFxyXG4gICAgICAgIC8vICAgY2xhc3NOYW1lOiAncHJvcC1sYWJlbHMnXHJcbiAgICAgICAgLy8gfTtcclxuICAgICAgICAvLyByZW1vdmluZyBsYWJlbHMgdW50aWwgZmluZCBhIGJldHRlciB3YXkgdG8gaGFuZGxlIHRoZW0uXHJcbiAgICAgICAgLy8gcGFuZWxXcmFwLmNvbnRlbnQudW5zaGlmdChsYWJlbFdyYXApO1xyXG4gICAgICAgIHBhbmVsQXJyYXkgPSBmaWVsZERhdGFbcGFuZWxUeXBlXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYW5lbEFycmF5ID0gT2JqZWN0LmtleXMoZmllbGREYXRhW3BhbmVsVHlwZV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBoLmZvckVhY2gocGFuZWxBcnJheSwgKGRhdGFQcm9wLCBpKSA9PiB7XHJcbiAgICAgICAgbGV0IGFyZ3MgPSB7XHJcbiAgICAgICAgICBpLFxyXG4gICAgICAgICAgZGF0YVByb3AsXHJcbiAgICAgICAgICBmaWVsZERhdGEsXHJcbiAgICAgICAgICBwYW5lbFR5cGUsXHJcbiAgICAgICAgICBwcm9wVHlwZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHBhbmVsLmNvbnRlbnQucHVzaChfdGhpcy5wYW5lbENvbnRlbnQoYXJncykpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFuZWxXcmFwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmllbGQgcGFuZWwgY29udGVudHMsIGBhdHRyc2AsIGBvcHRpb25zYCwgYGNvbmZpZ2BcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGFyZ3NcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XHJcbiAgICovXHJcbiAgIHBhbmVsQ29udGVudChhcmdzKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IHtwYW5lbFR5cGUsIGRhdGFQcm9wfSA9IGFyZ3M7XHJcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcclxuICAgIGRhdGFQcm9wID0gKHR5cGVvZiBkYXRhUHJvcCA9PT0gJ3N0cmluZycpID8gZGF0YVByb3AgOiBhcmdzLmk7XHJcbiAgICBsZXQgaWQgPSB1dWlkKCk7XHJcbiAgICBsZXQgcHJvcFZhbCA9IGZpZWxkRGF0YVtwYW5lbFR5cGVdW2RhdGFQcm9wXTtcclxuXHJcbiAgICBsZXQgaW5wdXRzID0ge1xyXG4gICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICBjbGFzc05hbWU6IFsncHJvcC1pbnB1dHMnXSxcclxuICAgICAgY29udGVudDogX3RoaXMuZWRpdFBhbmVsSW5wdXRzKGRhdGFQcm9wLCBwcm9wVmFsLCBwYW5lbFR5cGUsIGlkKVxyXG4gICAgfTtcclxuICAgIGxldCBwcm9wZXJ0eSA9IHtcclxuICAgICAgdGFnOiAnbGknLFxyXG4gICAgICBjbGFzc05hbWU6IFtgJHtwYW5lbFR5cGV9LSR7ZGF0YVByb3B9LXdyYXBgLCAncHJvcC13cmFwJ10sXHJcbiAgICAgIGlkOiBpZCxcclxuICAgICAgY29udGVudDogW11cclxuICAgIH07XHJcbiAgICBsZXQgb3JkZXIgPSB7XHJcbiAgICAgIHRhZzogJ2J1dHRvbicsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgY2xhc3NOYW1lOiAncHJvcC1vcmRlciBwcm9wLWNvbnRyb2wnLFxyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50OiBkb20uaWNvbignbW92ZS12ZXJ0aWNhbCcpXHJcbiAgICB9O1xyXG4gICAgbGV0IHJlbW92ZU9yQWRkSW1hZ2UgPXt9O1xyXG5cclxuICAgIGlmKF90aGlzLm1ldGFJRCA9PT0gJ2ltYWdlJyAmJiBkYXRhUHJvcD09PSdzcmMnKXtcclxuICAgICAgcmVtb3ZlT3JBZGRJbWFnZSA9IHtcclxuICAgICAgICB0YWc6ICdidXR0b24nLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICAgIGNsYXNzTmFtZTogJ3Byb3Atb3Blbi1maWxlbWFuYWdlciBwcm9wLWNvbnRyb2wnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICBjbGljazogKGV2dCkgPT4geyBcclxuICAgICAgICAgICAgb3BlbkZpbGVNYW5hZ2VyKHByb3BlcnR5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCd1cGxvYWQnKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZXsgICAgICBcclxuICAgICAgcmVtb3ZlT3JBZGRJbWFnZSA9IHtcclxuICAgICAgICB0YWc6ICdidXR0b24nLFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICAgIGNsYXNzTmFtZTogJ3Byb3AtcmVtb3ZlIHByb3AtY29udHJvbCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY3Rpb246IHtcclxuICAgICAgICAgIGNsaWNrOiAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGFuaW1hdGUuc2xpZGVVcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9wZXJ0eS5pZCksIDI1MCwgZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcclxuICAgICAgICAgICAgICBsZXQgZmllbGRQYW5lbERhdGEgPSBmaWVsZERhdGFbcGFuZWxUeXBlXTtcclxuICAgICAgICAgICAgICBkb20ucmVtb3ZlKGVsZW0pO1xyXG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkUGFuZWxEYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgZmllbGRQYW5lbERhdGEuc3BsaWNlKGRhdGFQcm9wLCAxKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZmllbGRQYW5lbERhdGFbZGF0YVByb3BdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBkYXRhLnNhdmUocGFuZWxUeXBlLCBwYXJlbnQpO1xyXG4gICAgICAgICAgICAgIGRvbS5lbXB0eShfdGhpcy5wcmV2aWV3KTtcclxuICAgICAgICAgICAgICBsZXQgbmV3UHJldmlldyA9IGRvbS5jcmVhdGUoZmllbGREYXRhLCB0cnVlKTtcclxuICAgICAgICAgICAgICBfdGhpcy5wcmV2aWV3LmFwcGVuZENoaWxkKG5ld1ByZXZpZXcpO1xyXG4gICAgICAgICAgICAgIF90aGlzLnJlc2l6ZVBhbmVsV3JhcCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCdyZW1vdmUnKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb250cm9scyA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiAncHJvcC1jb250cm9scycsXHJcbiAgICAgIGNvbnRlbnQ6IFtyZW1vdmVPckFkZEltYWdlXVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoYXJncy5wcm9wVHlwZSA9PT0gJ2FycmF5Jykge1xyXG4gICAgICBpbnB1dHMuY2xhc3NOYW1lLnB1c2goJ2YtaW5wdXQtZ3JvdXAnKTtcclxuICAgICAgY29udHJvbHMuY29udGVudC51bnNoaWZ0KG9yZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9wZXJ0eS5wcm9wRGF0YSA9IGZpZWxkRGF0YVtwYW5lbFR5cGVdW2RhdGFQcm9wXTtcclxuXHJcbiAgICAvLyBDaGVja3MgaWYgdGhlIHByb3BlcnR5IGlzIGFsbG93ZWRcclxuICAgIGlmICh0aGlzLmlzQWxsb3dlZEF0dHIoZGF0YVByb3ApKSB7XHJcbiAgICAgIHByb3BlcnR5LmNvbnRlbnQucHVzaChjb250cm9scywgaW5wdXRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9wZXJ0eS5jbGFzc05hbWUucHVzaCgnY29udHJvbC1jb3VudC0nICsgY29udHJvbHMuY29udGVudC5sZW5ndGgpO1xyXG5cclxuICAgIHJldHVybiBwcm9wZXJ0eTsgICAgICBcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIHRoZSBpbnB1dHMgZm9yIGFuIGVkaXQgcGFuZWxcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHByb3AgICAgICBwcm9wZXJ0eSBuYW1lXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSBwcm9wVmFsICAgcHJvcGVydHkgdmFsdWVcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHBhbmVsVHlwZSBhdHRycywgb3B0aW9ucywgY29uZmlnXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEByZXR1cm4ge0FycmF5fSBlbGVtZW50IGNvbmZpZyBhcnJheVxyXG4gICAqL1xyXG4gICBlZGl0UGFuZWxJbnB1dHMocHJvcCwgcHJvcFZhbCwgcGFuZWxUeXBlLCBpZCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBpbnB1dHMgPSBbXTtcclxuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xyXG4gICAgY29uc3QgaXNPcHRpb24gPSAocGFuZWxUeXBlID09PSAnb3B0aW9ucycpO1xyXG4gICAgbGV0IHByb2Nlc3NQcm9wZXJ0eSA9IChrZXksIHZhbCkgPT4ge1xyXG4gICAgICBsZXQgcHJvcFR5cGUgPSBrZXk9PT0gJ2h0bWwnID8ga2V5IDogZG9tLmNvbnRlbnRUeXBlKHZhbCk7XHJcbiAgICAgIGxldCBwcm9wSXNOdW0gPSAodHlwZW9mIHByb3AgPT09ICdudW1iZXInKTtcclxuICAgICAgbGV0IGZNYXAgPSBwYW5lbFR5cGUgKyAnLicgKyBrZXk7XHJcblxyXG4gICAgICBpZiAocHJvcElzTnVtKSB7XHJcbiAgICAgICAgZk1hcCA9IGAke3BhbmVsVHlwZX1bJHtwcm9wfV0uJHtrZXl9YDtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB0eXBlQXR0cnMgPSAoa2V5LCB2YWwsIHR5cGUpID0+IHtcclxuICAgICAgICBsZXQgcGxhY2Vob2xkZXIgPSBpMThuLmdldChgcGxhY2Vob2xkZXIuJHtrZXl9YCkgfHwgaC5jYXBpdGFsaXplKGtleSk7XHJcbiAgICAgICAgbGV0IGF0dHJzID0ge1xyXG4gICAgICAgICAgaHRtbDoge1xyXG4gICAgICAgICAgICB0eXBlOidodG1sJyxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3VtbWVybm90ZS1lZGl0JyxcclxuICAgICAgICAgICAgdGFiaW5kZXg6ICcwJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN0cmluZzoge1xyXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiB2YWwsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9vbGVhbjoge1xyXG4gICAgICAgICAgICBnZXQgdHlwZSgpIHtcclxuICAgICAgICAgICAgICBsZXQgYm9vbFR5cGUgPSAnY2hlY2tib3gnO1xyXG4gICAgICAgICAgICAgIGlmIChfdGhpcy5maWVsZERhdGEuYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhdHRyVHlwZSA9IF90aGlzLmZpZWxkRGF0YS5hdHRycy50eXBlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJUeXBlID09PSAncmFkaW8nICYmIGtleSA9PT0gJ3NlbGVjdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICBib29sVHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBib29sVHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmFsdWU6IHZhbFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG51bWJlcjoge1xyXG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgICAgdmFsdWU6IHZhbFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGFycmF5OiB7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJycsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gYXR0cnNbdHlwZV07XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IGlucHV0TGFiZWwgPSBrZXkgPT4ge1xyXG4gICAgICAgIGxldCBsYWJlbEtleSA9IHBhbmVsVHlwZSArICcuJyArIGtleTtcclxuICAgICAgICByZXR1cm4gaTE4bi5nZXQobGFiZWxLZXkpIHx8IGguY2FwaXRhbGl6ZShrZXkpO1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBwcm9wZXJ0eUlucHV0cyA9IHtcclxuICAgICAgICBhcnJheTogKGtleSwgdmFsKSA9PiB7XHJcbiAgICAgICAgICBsZXQgc2VsZWN0ID0ge1xyXG4gICAgICAgICAgICBmTWFwLFxyXG4gICAgICAgICAgICB0YWc6ICdzZWxlY3QnLFxyXG4gICAgICAgICAgICBpZDogYCR7cHJvcH0tJHtpZH1gLFxyXG4gICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnYXJyYXknKSxcclxuICAgICAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgbGFiZWw6IGlucHV0TGFiZWwoa2V5KSxcclxuICAgICAgICAgICAgICBoaWRlTGFiZWw6IGlzT3B0aW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHZhbC5tYXAodiA9PiB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ29wdGlvbicsXHJcbiAgICAgICAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogdi52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHYuc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiB2LmxhYmVsXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9wRGF0YSA9IGZpZWxkRGF0YVtwYW5lbFR5cGVdW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbkRhdGEgPSBpc09wdGlvbiA/IHByb3BEYXRhW2tleV0gOiBwcm9wRGF0YTtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IG9wdGlvbkRhdGEubWFwKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB7c2VsZWN0ZWQsIC4uLm9wdGlvbn0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChvcHRpb24udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb247XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHZhbHVlcy5pbmRleE9mKGV2dC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWVbaW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgbmV3VmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGEuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlUHJldmlldygpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm4gc2VsZWN0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RyaW5nOiAoa2V5LCB2YWwpID0+IHtcclxuICAgICAgICAgIGxldCBpbnB1dCA9IHtcclxuICAgICAgICAgICAgZk1hcCxcclxuICAgICAgICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICAgICAgICBpZDogYCR7cHJvcH0tJHtpZH1gLFxyXG4gICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnc3RyaW5nJyksXHJcbiAgICAgICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcclxuICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgZXZ0LnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnNhdmUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGlmICghcHJvcElzTnVtKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICBsYWJlbDogaW5wdXRMYWJlbChrZXkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaHRtbDogKGtleSwgdmFsKSA9PntcclxuICAgICAgICAgIGxldCBpbnB1dCA9IHtcclxuICAgICAgICAgICAgZk1hcCxcclxuICAgICAgICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgICAgICAgaWQ6IGAke3Byb3B9LSR7aWR9YCxcclxuICAgICAgICAgICAgYXR0cnM6IHR5cGVBdHRycyhrZXksIHZhbCwgJ2h0bWwnKVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib29sZWFuOiAoa2V5LCB2YWwpID0+IHtcclxuICAgICAgICAgIGxldCBpbnB1dCA9IHtcclxuICAgICAgICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnYm9vbGVhbicpLFxyXG4gICAgICAgICAgICBmTWFwLFxyXG4gICAgICAgICAgICBpZDogcHJvcCArICctJyArIGlkLFxyXG4gICAgICAgICAgICBuYW1lOiBfdGhpcy5maWVsZElEICsgJy1zZWxlY3RlZCcsXHJcbiAgICAgICAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcclxuICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgZXZ0LnRhcmdldC5jaGVja2VkKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZVByZXZpZXcoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgICAgICBpbnB1dC5hdHRycy5jaGVja2VkID0gdmFsO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChwcm9wSXNOdW0pIHtcclxuICAgICAgICAgICAgbGV0IGFkZG9uID0ge1xyXG4gICAgICAgICAgICAgIHRhZzogJ3NwYW4nLFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2YtYWRkb24nLFxyXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGRvbS5jaGVja2JveChpbnB1dClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW5wdXQgPSBhZGRvbjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICBsYWJlbDogaW5wdXRMYWJlbChrZXkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9iamVjdDogKG9iaktleSwgb2JqVmFsKSA9PiB7XHJcbiAgICAgICAgICBsZXQgaW5wdXRzID0gW107XHJcblxyXG4gICAgICAgICAgZm9yIChsZXQgb2JqUHJvcCBpbiBvYmpWYWwpIHtcclxuICAgICAgICAgICAgaWYgKG9ialZhbC5oYXNPd25Qcm9wZXJ0eShvYmpQcm9wKSkge1xyXG4gICAgICAgICAgICAgIGlucHV0cy5wdXNoKHByb2Nlc3NQcm9wZXJ0eShvYmpQcm9wLCBvYmpWYWxbb2JqUHJvcF0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBpbnB1dHM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcHJvcGVydHlJbnB1dHMubnVtYmVyID0gcHJvcGVydHlJbnB1dHMuc3RyaW5nO1xyXG5cclxuICAgICAgcmV0dXJuIHByb3BlcnR5SW5wdXRzW3Byb3BUeXBlXShrZXksIHZhbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlucHV0cy5wdXNoKHByb2Nlc3NQcm9wZXJ0eShwcm9wLCBwcm9wVmFsKSk7XHJcblxyXG4gICAgcmV0dXJuIGlucHV0cztcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3MgaWYgYXR0cmlidXRlIGlzIGFsbG93ZWQgdG8gYmUgZWRpdGVkXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgYXR0clxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqL1xyXG4gICBpc0FsbG93ZWRBdHRyKGF0dHIgPSAndHlwZScpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgYWxsb3dlZCA9IHRydWU7XHJcbiAgICBsZXQgZGlzYWJsZWRBdHRycyA9IHJGaWVsZHNbX3RoaXMubWV0YUlEXS5jb25maWcuZGlzYWJsZWRBdHRycztcclxuICAgIGlmIChkaXNhYmxlZEF0dHJzKSB7XHJcbiAgICAgIGFsbG93ZWQgPSAhaC5pbkFycmF5KGF0dHIsIGRpc2FibGVkQXR0cnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhbGxvd2VkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgbmV3IGF0dHJpYnV0ZSB0byB0aGUgYXR0cnMgcGFuZWxzXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHJcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gdmFsXHJcbiAgICovXHJcbiAgIGFkZEF0dHJpYnV0ZShhdHRyLCB2YWwpIHtcclxuICAgIGlmICghdGhpcy5pc0FsbG93ZWRBdHRyKGF0dHIpKSB7XHJcbiAgICAgIHdpbmRvdy5hbGVydChgQXR0cmlidXRlIFwiJHthdHRyfVwiOiBub3QgcGVybWl0dGVkYCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZpZWxkSUQpO1xyXG4gICAgbGV0IGVkaXRHcm91cCA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1lZGl0LWF0dHJzJyk7XHJcbiAgICBsZXQgc2FmZUF0dHIgPSBoLmh5cGhlbkNhc2UoYXR0cik7XHJcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcclxuICAgIGNvbnN0IGxhYmVsS2V5ID0gYGF0dHJzLiR7c2FmZUF0dHJ9YDtcclxuXHJcbiAgICBpZiAoIWkxOG4uY3VycmVudFtsYWJlbEtleV0pIHtcclxuICAgICAgaTE4bi5wdXQobGFiZWxLZXksIGguY2FwaXRhbGl6ZShhdHRyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIGguaW5BcnJheSh2YWwsIFsndHJ1ZScsICdmYWxzZSddKSkge1xyXG4gICAgICB2YWwgPSBKU09OLnBhcnNlKHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZmllbGREYXRhLmF0dHJzW3NhZmVBdHRyXSA9IHZhbDtcclxuXHJcbiAgICBsZXQgYXJncyA9IHtcclxuICAgICAgZGF0YU9iajogZmllbGREYXRhLFxyXG4gICAgICBkYXRhUHJvcDogc2FmZUF0dHIsXHJcbiAgICAgIGk6IE9iamVjdC5rZXlzKGZpZWxkRGF0YS5hdHRycykubGVuZ3RoLFxyXG4gICAgICBwYW5lbFR5cGU6ICdhdHRycydcclxuICAgIH07XHJcblxyXG4gICAgbGV0IGV4aXN0aW5nQXR0ciA9IGVkaXRHcm91cC5xdWVyeVNlbGVjdG9yKGAuYXR0cnMtJHtzYWZlQXR0cn0td3JhcGApO1xyXG4gICAgbGV0IG5ld0F0dHIgPSBkb20uY3JlYXRlKF90aGlzLnBhbmVsQ29udGVudChhcmdzKSk7XHJcbiAgICBpZiAoZXhpc3RpbmdBdHRyKSB7XHJcbiAgICAgIGVkaXRHcm91cC5yZXBsYWNlQ2hpbGQobmV3QXR0ciwgZXhpc3RpbmdBdHRyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVkaXRHcm91cC5hcHBlbmRDaGlsZChuZXdBdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhLnNhdmUoYXJncy5wYW5lbFR5cGUsIGVkaXRHcm91cCk7XHJcbiAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XHJcbiAgICBfdGhpcy5yZXNpemVQYW5lbFdyYXAoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBvcHRpb24gdG8gb3B0aW9ucyBwYW5lbFxyXG4gICAqL1xyXG4gICBhZGRPcHRpb24oKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkuZmllbGQ7XHJcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcclxuICAgIGxldCBvcHRpb25EYXRhID0gZmllbGREYXRhWydvcHRpb25zJ107XHJcbiAgICBsZXQgZWRpdEdyb3VwID0gZmllbGQucXVlcnlTZWxlY3RvcignLmZpZWxkLWVkaXQtb3B0aW9ucycpO1xyXG4gICAgbGV0IHByb3BEYXRhID0gY2xlYW5PYmoob3B0aW9uRGF0YVtvcHRpb25EYXRhLmxlbmd0aC0xXSk7XHJcbiAgICBmaWVsZERhdGEub3B0aW9ucy5wdXNoKHByb3BEYXRhKTtcclxuXHJcbiAgICBsZXQgYXJncyA9IHtcclxuICAgICAgaTogZWRpdEdyb3VwLmNoaWxkTm9kZXMubGVuZ3RoLFxyXG4gICAgICBkYXRhUHJvcDogcHJvcERhdGEsXHJcbiAgICAgIGRhdGFPYmo6IGZpZWxkRGF0YSxcclxuICAgICAgcGFuZWxUeXBlOiAnb3B0aW9ucycsXHJcbiAgICAgIHByb3BUeXBlOiAnYXJyYXknXHJcbiAgICB9O1xyXG5cclxuICAgIGVkaXRHcm91cC5hcHBlbmRDaGlsZChkb20uY3JlYXRlKF90aGlzLnBhbmVsQ29udGVudChhcmdzKSkpO1xyXG4gICAgX3RoaXMucmVzaXplUGFuZWxXcmFwKCk7XHJcblxyXG4gICAgLy8gU2F2ZSBGaWVsZHMgQXR0cnNcclxuICAgIGRhdGEuc2F2ZSgpO1xyXG4gICAgZG9tLmVtcHR5KF90aGlzLnByZXZpZXcpO1xyXG4gICAgbGV0IG5ld1ByZXZpZXcgPSBkb20uY3JlYXRlKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCksIHRydWUpO1xyXG4gICAgX3RoaXMucHJldmlldy5hcHBlbmRDaGlsZChuZXdQcmV2aWV3KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGVkaXQgYnV0dG9ucyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhdHRycyBhbmQgb3B0aW9ucyBwYW5lbFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gcGFuZWwgZWRpdCBidXR0b25zIGNvbmZpZ1xyXG4gICAqL1xyXG4gICBwYW5lbEVkaXRCdXR0b25zKHR5cGUpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgYWRkQnRuID0ge1xyXG4gICAgICB0YWc6ICdidXR0b24nLFxyXG4gICAgICBhdHRyczoge1xyXG4gICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgIGNsYXNzTmFtZTogYGFkZC0ke3R5cGV9YFxyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50OiBpMThuLmdldChgcGFuZWxFZGl0QnV0dG9ucy4ke3R5cGV9YCksXHJcbiAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgIGNsaWNrOiAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICBsZXQgYWRkRXZ0ID0ge1xyXG4gICAgICAgICAgICBidG5Db29yZHM6IGRvbS5jb29yZHMoZXZ0LnRhcmdldClcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdhdHRycycpIHtcclxuICAgICAgICAgICAgYWRkRXZ0LmFkZEFjdGlvbiA9IF90aGlzLmFkZEF0dHJpYnV0ZS5iaW5kKF90aGlzKTtcclxuICAgICAgICAgICAgYWRkRXZ0Lm1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgYXR0cjogaTE4bi5nZXQoJ2FjdGlvbi5hZGQuYXR0cnMuYXR0cicpLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiBpMThuLmdldCgnYWN0aW9uLmFkZC5hdHRycy52YWx1ZScpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvcHRpb25zJykge1xyXG4gICAgICAgICAgICBhZGRFdnQuYWRkQWN0aW9uID0gX3RoaXMuYWRkT3B0aW9uLmJpbmQoX3RoaXMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGxldCBldmVudFR5cGUgPSBoLmNhcGl0YWxpemUodHlwZSk7XHJcbiAgICAgICAgICBsZXQgY3VzdG9tRXZ0ID0gbmV3IEN1c3RvbUV2ZW50KGBvbkFkZCR7ZXZlbnRUeXBlfWAsIHtcclxuICAgICAgICAgICAgZGV0YWlsOiBhZGRFdnRcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUnVuIEFjdGlvbiBIb29rXHJcbiAgICAgICAgICAgIGFjdGlvbnMuYWRkW3R5cGVdKGFkZEV2dCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGaXJlIEV2ZW50XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZ0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIGxldCBwYW5lbEVkaXRCdXR0b25zID0ge1xyXG4gICAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgIGNsYXNzTmFtZTogJ3BhbmVsLWFjdGlvbi1idXR0b25zJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGVudDogW2FkZEJ0bl1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBwYW5lbEVkaXRCdXR0b25zO1xyXG4gICAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSB0aGUgbWFya3VwIGZvciBmaWVsZCBlZGl0IG1vZGVcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZpZWxkRWRpdCBlbGVtZW50IGNvbmZpZ1xyXG4gICAqL1xyXG4gICBmaWVsZEVkaXQoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IHBhbmVscyA9IFtdO1xyXG4gICAgbGV0IGVkaXRhYmxlID0gWydvYmplY3QnLCAnYXJyYXknXTtcclxuICAgIGxldCBub1BhbmVscyA9IFsnY29uZmlnJywgJ21ldGEnLCAnYWN0aW9uJ107XHJcbiAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcclxuICAgIGxldCBhbGxvd2VkUGFuZWxzID0gT2JqZWN0LmtleXMoZmllbGREYXRhKS5maWx0ZXIoZWxlbSA9PiB7XHJcbiAgICAgIHJldHVybiAhaC5pbkFycmF5KGVsZW0sIG5vUGFuZWxzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKF90aGlzKTtcclxuXHJcbiAgICBsZXQgZmllbGRFZGl0ID0ge1xyXG4gICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICBjbGFzc05hbWU6IFsnZmllbGQtZWRpdCcsICdzbGlkZS10b2dnbGUnLCAncGFuZWxzLXdyYXAnXSxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICAnZGF0YS1maWVsZHR5cGUnOl90aGlzLm1ldGFJRFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGguZm9yRWFjaChhbGxvd2VkUGFuZWxzLCAocGFuZWxUeXBlLCBpKSA9PiB7XHJcbiAgICAgIGxldCBwcm9wVHlwZSA9IGRvbS5jb250ZW50VHlwZShmaWVsZERhdGFbcGFuZWxUeXBlXSk7XHJcbiAgICAgIGlmIChoLmluQXJyYXkocHJvcFR5cGUsIGVkaXRhYmxlKSkge1xyXG4gICAgICAgIGxldCBwYW5lbCA9IHtcclxuICAgICAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGBmLXBhbmVsICR7cGFuZWxUeXBlfS1wYW5lbGBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KGBwYW5lbExhYmVscy4ke3BhbmVsVHlwZX1gKSB8fCAnJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNvbnRlbnQ6IFtcclxuICAgICAgICAgIF90aGlzLmVkaXRQYW5lbChwYW5lbFR5cGUpLFxyXG4gICAgICAgICAgX3RoaXMucGFuZWxFZGl0QnV0dG9ucyhwYW5lbFR5cGUpXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgYWN0aW9uOiB7XHJcbiAgICAgICAgICAgIC8vIGNoYW5nZTogZXZ0ID0+IHtcclxuICAgICAgICAgICAgLy8gbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XHJcbiAgICAgICAgICAgIC8vICAgaWYgKGV2dC50YXJnZXQuZk1hcCkge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHZhbHVlID0gZXZ0LnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgLy8gICAgIGxldCB0YXJnZXRUeXBlID0gZXZ0LnRhcmdldC50eXBlO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKHRhcmdldFR5cGUgPT09ICdjaGVja2JveCcgfHwgdGFyZ2V0VHlwZSA9PT0gJ3JhZGlvJykge1xyXG4gICAgICAgICAgICAvLyAgICAgICBsZXQgb3B0aW9ucyA9IGZpZWxkRGF0YS5vcHRpb25zO1xyXG4gICAgICAgICAgICAvLyAgICAgICB2YWx1ZSA9IGV2dC50YXJnZXQuY2hlY2tlZDtcclxuXHJcbiAgICAgICAgICAgIC8vICAgICAgIC8vIHVuY2hlY2sgb3B0aW9ucyBpZiByYWRpb1xyXG4gICAgICAgICAgICAvLyAgICAgICBpZiAoZXZ0LnRhcmdldC50eXBlID09PSAncmFkaW8nKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQgPSBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vICAgICBoLnNldChmaWVsZERhdGEsIGV2dC50YXJnZXQuZk1hcCwgdmFsdWUpO1xyXG4gICAgICAgICAgICAvLyAgICAgZGF0YS5zYXZlKHBhbmVsVHlwZSwgX3RoaXMuZmllbGRJRCk7XHJcbiAgICAgICAgICAgIC8vICAgICAvLyB0aHJvdHRsZSB0aGlzIGZvciBzdXJlXHJcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XHJcbiAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcGFuZWxzLnB1c2gocGFuZWwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgcGFuZWxzQ29uZmlnID0ge1xyXG4gICAgICBwYW5lbHMsXHJcbiAgICAgIGlkOiBfdGhpcy5maWVsZElELFxyXG4gICAgICBtZXRhSUQ6IF90aGlzLm1ldGFJRFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAocGFuZWxzLmxlbmd0aCkge1xyXG4gICAgICBsZXQgZWRpdFBhbmVscyA9IF90aGlzLnBhbmVscyA9IG5ldyBQYW5lbHMocGFuZWxzQ29uZmlnKTtcclxuICAgICAgZmllbGRFZGl0LmNsYXNzTmFtZS5wdXNoKCdwYW5lbC1jb3VudC0nICsgcGFuZWxzLmxlbmd0aCk7XHJcbiAgICAgIGZpZWxkRWRpdC5jb250ZW50ID0gZWRpdFBhbmVscy5jb250ZW50O1xyXG4gICAgICBfdGhpcy5wYW5lbE5hdiA9IGVkaXRQYW5lbHMubmF2O1xyXG4gICAgICBfdGhpcy5yZXNpemVQYW5lbFdyYXAgPSBlZGl0UGFuZWxzLmFjdGlvbnMucmVzaXplO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgbGV0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkuZmllbGQ7XHJcbiAgICAgICAgbGV0IGVkaXRUb2dnbGUgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuaXRlbS1lZGl0LXRvZ2dsZScpO1xyXG4gICAgICAgIGxldCBmaWVsZEFjdGlvbnMgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuZmllbGQtYWN0aW9ucycpO1xyXG4gICAgICAgIGxldCBhY3Rpb25CdXR0b25zID0gZmllbGRBY3Rpb25zLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKTtcclxuICAgICAgICBmaWVsZEFjdGlvbnMuc3R5bGUubWF4V2lkdGggPSBgJHthY3Rpb25CdXR0b25zLmxlbmd0aCAqIDI0fXB4YDtcclxuICAgICAgICBkb20ucmVtb3ZlKGVkaXRUb2dnbGUpO1xyXG4gICAgICB9LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmllbGRFZGl0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgZmllbGQgcHJldmlldyBjb25maWdcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZpZWxkUHJldmlld1xyXG4gICAqL1xyXG4gICBmaWVsZFByZXZpZXcoKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGZpZWxkRGF0YSA9IGNsb25lKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkpO1xyXG4gICAgY29uc3QgZmllbGQgPSBkb20uZmllbGRzLmdldChfdGhpcy5maWVsZElEKS5maWVsZDtcclxuICAgIGNvbnN0IHRvZ2dsZVByZXZpZXdFZGl0ID0gZXZ0ID0+IHtcclxuICAgICAgY29uc3QgY29sdW1uID0gZmllbGQucGFyZW50RWxlbWVudDtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcclxuICAgICAgICBpZiAoaC5pbkFycmF5KGV2dC50eXBlLCBbJ2ZvY3VzJywgJ2JsdXInXSkpIHtcclxuICAgICAgICAgIGxldCBpc0FjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGV2dC50YXJnZXQ7XHJcbiAgICAgICAgICBjb2x1bW4uY2xhc3NMaXN0LnRvZ2dsZSgnZWRpdGluZy1maWVsZC1wcmV2aWV3JywgaXNBY3RpdmUpO1xyXG4gICAgICAgICAgZG9tLnRvZ2dsZVNvcnRhYmxlKGZpZWxkLnBhcmVudEVsZW1lbnQsIChldnQudHlwZSA9PT0gJ2ZvY3VzJykpO1xyXG4gICAgICAgIH0gZWxzZSBpZihoLmluQXJyYXkoZXZ0LnR5cGUsIFsnbW91c2Vkb3duJywgJ21vdXNldXAnXSkpIHtcclxuICAgICAgICAgIGRvbS50b2dnbGVTb3J0YWJsZShmaWVsZC5wYXJlbnRFbGVtZW50LCAoZXZ0LnR5cGUgPT09ICdtb3VzZWRvd24nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZpZWxkRGF0YS5pZCA9ICdwcmV2LScgKyBfdGhpcy5maWVsZElEO1xyXG5cclxuICAgIGxldCBmaWVsZFByZXZpZXcgPSB7XHJcbiAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiAnZmllbGQtcHJldmlldydcclxuICAgICAgfSxcclxuICAgICAgY29udGVudDogZG9tLmNyZWF0ZShmaWVsZERhdGEsIHRydWUpLFxyXG4gICAgICBhY3Rpb246IHtcclxuICAgICAgICBmb2N1czogdG9nZ2xlUHJldmlld0VkaXQsXHJcbiAgICAgICAgYmx1cjogdG9nZ2xlUHJldmlld0VkaXQsXHJcbiAgICAgICAgbW91c2Vkb3duOiB0b2dnbGVQcmV2aWV3RWRpdCxcclxuICAgICAgICBtb3VzZXVwOiB0b2dnbGVQcmV2aWV3RWRpdCxcclxuICAgICAgICBjaGFuZ2U6IGV2dCA9PiB7XHJcbiAgICAgICAgICBsZXQge3RhcmdldH0gPSBldnQ7XHJcbiAgICAgICAgICBpZiAodGFyZ2V0LmZNYXApIHtcclxuICAgICAgICAgICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XHJcbiAgICAgICAgICAgIGxldCB7Y2hlY2tlZCwgdHlwZSwgZk1hcH0gPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmIChoLmluQXJyYXkodHlwZSwgWydjaGVja2JveCcsICdyYWRpbyddKSkge1xyXG4gICAgICAgICAgICAgIGxldCBvcHRpb25zID0gZmllbGREYXRhLm9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHVuY2hlY2sgb3B0aW9ucyBpZiByYWRpb1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmZvckVhY2gob3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaC5zZXQoZmllbGREYXRhLCBmTWFwLCBjaGVja2VkKTtcclxuXHJcbiAgICAgICAgICAgICAgZGF0YS5zYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsaWNrOiBldnQgPT4ge1xyXG4gICAgICAgICAgaWYgKGV2dC50YXJnZXQuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnB1dDogZXZ0ID0+IHtcclxuICAgICAgICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xyXG4gICAgICAgICAgbGV0IHByb3AgPSAnY29udGVudCc7XHJcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5mTWFwKSB7XHJcbiAgICAgICAgICAgIHByb3AgPSBldnQudGFyZ2V0LmZNYXA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICBoLnNldChmaWVsZERhdGEsIHByb3AsIGV2dC50YXJnZXQuaW5uZXJIVE1MKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgcHJvcCwgZXZ0LnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkYXRhLnNhdmUoJ2ZpZWxkJywgX3RoaXMuZmllbGRJRCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBmaWVsZFByZXZpZXc7XHJcbiAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tcG9uZW50cy9maWVsZC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBZkE7QUFDQTtBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQU1BO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFYQTtBQWFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUExQkE7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUE1QkE7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxCQTtBQW5CQTtBQXdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFMQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFOQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUhBO0FBQ0E7QUE0SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQTFCQTtBQVBBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFJQTtBQVpBO0FBQ0E7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhDQTtBQU5BO0FBQ0E7QUFpREE7QUFDQTtBQUNBOzs7O0FBMXdCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Row = function () {\n  function Row(dataID) {\n    _classCallCheck(this, Row);\n\n    var _this = this;\n    var defaults = void 0;\n    var row = void 0;\n\n    var rowID = _this.rowID = dataID || (0, _utils.uuid)();\n\n    defaults = {\n      columns: [],\n      id: _this.rowID,\n      config: {\n        fieldset: false,\n        legend: '',\n        inputGroup: false },\n      attrs: {\n        className: 'f-row'\n      }\n    };\n\n    var rowData = _data.formData.rows.get(rowID);\n\n    _data.formData.rows.set(rowID, _helpers2.default.merge(defaults, rowData));\n\n    row = {\n      tag: 'li',\n      className: 'stage-rows empty-rows',\n      dataset: {\n        hoverTag: _mi18n2.default.get('row'),\n        editingHoverTag: _mi18n2.default.get('editing.row')\n      },\n      id: rowID,\n      content: [_dom2.default.actionButtons(rowID, 'row'), _this.editWindow],\n      fType: 'rows'\n    };\n\n    row = _dom2.default.create(row);\n\n    var sortable = _sortablejs2.default.create(row, {\n      animation: 150,\n      fallbackClass: 'column-moving',\n      forceFallback: true,\n      group: { name: 'rows', pull: true, put: ['rows', 'controls', 'columns'] },\n      sort: true,\n      onRemove: _this.onRemove,\n      onEnd: _this.onEnd,\n      onAdd: _this.onAdd,\n      onSort: _this.onSort,\n      draggable: '.stage-columns',\n      filter: '.resize-x-handle'\n    });\n\n    _dom2.default.rows.set(rowID, { row: row, sortable: sortable });\n\n    return row;\n  }\n\n  Row.prototype.onSort = function onSort(evt) {\n    _data.data.saveColumnOrder(evt.target);\n    _data.data.save();\n  };\n\n  Row.prototype.onRemove = function onRemove(evt) {\n    _dom2.default.columnWidths(evt.from);\n    _data.data.saveColumnOrder(evt.target);\n    _dom2.default.emptyClass(evt.from);\n  };\n\n  Row.prototype.onEnd = function onEnd(evt) {\n    if (evt.from.classList.contains('empty-rows')) {\n      _dom2.default.removeEmpty(evt.from);\n    }\n\n    _data.data.save();\n  };\n\n  Row.prototype.onAdd = function onAdd(evt) {\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var fromRow = from.fType === 'rows';\n    var fromColumn = from.fType === 'columns';\n    var fromControls = from.fType === 'controlGroup';\n    var column = void 0;\n\n    if (fromRow) {\n      column = item;\n    } else if (fromColumn || fromControls) {\n      var meta = _helpers2.default.get(_data.registeredFields[item.id], 'meta');\n      if (meta.group !== 'layout') {\n        column = _dom2.default.addColumn(to.id);\n        _dom2.default.addField(column.id, item.id);\n      } else if (meta.id === 'layout-column') {\n        _dom2.default.addColumn(to.id);\n      }\n    }\n\n    if (fromColumn || fromControls) {\n      _dom2.default.remove(item);\n    }\n\n    _data.data.saveColumnOrder(to);\n\n    _dom2.default.columnWidths(to);\n    _dom2.default.emptyClass(to);\n    _data.data.save();\n  };\n\n  _createClass(Row, [{\n    key: 'editWindow',\n    get: function get() {\n      var _this = this;\n      var rowData = _data.formData.rows.get(_this.rowID);\n\n      var editWindow = {\n        tag: 'div',\n        className: 'row-edit group-config'\n      };\n      var fieldsetLabel = {\n        tag: 'label',\n        content: _mi18n2.default.get('row.settings.fieldsetWrap')\n      };\n      var fieldsetInput = {\n        tag: 'input',\n        id: _this.rowID + '-fieldset',\n        attrs: {\n          type: 'checkbox',\n          checked: rowData.config.fieldset,\n          ariaLabel: _mi18n2.default.get('row.settings.fieldsetWrap.aria')\n        },\n        action: {\n          click: function click(e) {\n            rowData.config.fieldset = e.target.checked;\n            _data.data.save();\n          }\n        }\n      };\n\n      var inputGroupInput = {\n        tag: 'input',\n        id: _this.rowID + '-inputGroup',\n        attrs: {\n          type: 'checkbox',\n          checked: rowData.config.inputGroup,\n          ariaLabel: _mi18n2.default.get('row.settings.inputGroup.aria')\n        },\n        action: {\n          click: function click(e) {\n            rowData.config.inputGroup = e.target.checked;\n            _data.data.save();\n          }\n        },\n        config: {\n          label: _mi18n2.default.get('row.makeInputGroup'),\n          description: _mi18n2.default.get('row.makeInputGroupDesc')\n        }\n      };\n\n      var inputAddon = {\n        tag: 'span',\n        className: 'input-group-addon',\n        content: fieldsetInput\n      };\n      var legendInput = {\n        tag: 'input',\n        attrs: {\n          type: 'text',\n          ariaLabel: 'Legend for fieldset',\n          value: rowData.config.legend,\n          placeholder: 'Legend'\n        },\n        action: {\n          input: function input(e) {\n            rowData.config.legend = e.target.value;\n            _data.data.save();\n          }\n        },\n        className: ''\n      };\n      var fieldsetInputGroup = {\n        tag: 'div',\n        className: 'input-group',\n        content: [inputAddon, legendInput]\n      };\n\n      var fieldSetControls = [fieldsetLabel, fieldsetInputGroup];\n      fieldSetControls = _dom2.default.formGroup(fieldSetControls);\n      var columnSettingsLabel = Object.assign({}, fieldsetLabel, {\n        content: 'Defina el ancho de las columnas'\n      });\n      var columnSettingsPresetLabel = Object.assign({}, fieldsetLabel, {\n        content: 'Preestablecer diseo', className: 'col-sm-4 form-control-label'\n      });\n      var columnSettingsPresetSelect = {\n        tag: 'div',\n        className: 'col-sm-8',\n        content: _dom2.default.columnPresetControl(_this.rowID)\n      };\n      var formGroupContent = [columnSettingsPresetLabel, columnSettingsPresetSelect];\n      var columnSettingsPreset = _dom2.default.formGroup(formGroupContent, 'row');\n\n      editWindow.content = [inputGroupInput, _dom2.default.create('hr'), fieldSetControls, _dom2.default.create('hr'), columnSettingsLabel, columnSettingsPreset];\n\n      return editWindow;\n    }\n  }]);\n\n  return Row;\n}();\n\nexports.default = Row;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvcm93LmpzP2VkMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xyXG5pbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XHJcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcclxuaW1wb3J0IHtkYXRhLCBmb3JtRGF0YSwgcmVnaXN0ZXJlZEZpZWxkcyBhcyByRmllbGRzfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XHJcbmltcG9ydCB7dXVpZH0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcclxuXHJcbi8qKlxyXG4gKiBFZGl0b3IgUm93XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3cge1xyXG5cclxuICAvKipcclxuICAgKiBTZXQgZGVmYXVsdCBhbmQgZ2VuZXJhdGUgZG9tIGZvciByb3cgaW4gZWRpdG9yXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBkYXRhSURcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZGF0YUlEKSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IGRlZmF1bHRzO1xyXG4gICAgbGV0IHJvdztcclxuXHJcbiAgICBsZXQgcm93SUQgPSBfdGhpcy5yb3dJRCA9IGRhdGFJRCB8fCB1dWlkKCk7XHJcblxyXG4gICAgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgY29sdW1uczogW10sXHJcbiAgICAgICAgaWQ6IF90aGlzLnJvd0lELFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgZmllbGRzZXQ6IGZhbHNlLCAvLyB3cmFwIGNvbnRlbnRzIG9mIHJvdyBpbiBmaWVsZHNldFxyXG4gICAgICAgICAgbGVnZW5kOiAnJywgLy8gTGVnZW5kIGZvciBmaWVsZHNldFxyXG4gICAgICAgICAgaW5wdXRHcm91cDogZmFsc2UgLy8gaXMgcmVwZWF0YWJsZSBpbnB1dC1ncm91cD9cclxuICAgICAgICB9LFxyXG4gICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6ICdmLXJvdydcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgbGV0IHJvd0RhdGEgPSBmb3JtRGF0YS5yb3dzLmdldChyb3dJRCk7XHJcblxyXG4gICAgZm9ybURhdGEucm93cy5zZXQocm93SUQsIGgubWVyZ2UoZGVmYXVsdHMsIHJvd0RhdGEpKTtcclxuXHJcbiAgICByb3cgPSB7XHJcbiAgICAgIHRhZzogJ2xpJyxcclxuICAgICAgY2xhc3NOYW1lOiAnc3RhZ2Utcm93cyBlbXB0eS1yb3dzJyxcclxuICAgICAgZGF0YXNldDoge1xyXG4gICAgICAgIGhvdmVyVGFnOiBpMThuLmdldCgncm93JyksXHJcbiAgICAgICAgZWRpdGluZ0hvdmVyVGFnOiBpMThuLmdldCgnZWRpdGluZy5yb3cnKVxyXG4gICAgICB9LFxyXG4gICAgICBpZDogcm93SUQsXHJcbiAgICAgIGNvbnRlbnQ6IFtkb20uYWN0aW9uQnV0dG9ucyhyb3dJRCwgJ3JvdycpLCBfdGhpcy5lZGl0V2luZG93XSxcclxuICAgICAgZlR5cGU6ICdyb3dzJ1xyXG4gICAgfTtcclxuXHJcbiAgICByb3cgPSBkb20uY3JlYXRlKHJvdyk7XHJcblxyXG4gICAgY29uc3Qgc29ydGFibGUgPSBTb3J0YWJsZS5jcmVhdGUocm93LCB7XHJcbiAgICAgIGFuaW1hdGlvbjogMTUwLFxyXG4gICAgICBmYWxsYmFja0NsYXNzOiAnY29sdW1uLW1vdmluZycsXHJcbiAgICAgIGZvcmNlRmFsbGJhY2s6IHRydWUsXHJcbiAgICAgIGdyb3VwOiB7bmFtZTogJ3Jvd3MnLCBwdWxsOiB0cnVlLCBwdXQ6IFsncm93cycsICdjb250cm9scycsICdjb2x1bW5zJ119LFxyXG4gICAgICBzb3J0OiB0cnVlLFxyXG4gICAgICBvblJlbW92ZTogX3RoaXMub25SZW1vdmUsXHJcbiAgICAgIG9uRW5kOiBfdGhpcy5vbkVuZCxcclxuICAgICAgb25BZGQ6IF90aGlzLm9uQWRkLFxyXG4gICAgICBvblNvcnQ6IF90aGlzLm9uU29ydCxcclxuICAgICAgZHJhZ2dhYmxlOiAnLnN0YWdlLWNvbHVtbnMnLFxyXG4gICAgICBmaWx0ZXI6ICcucmVzaXplLXgtaGFuZGxlJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9tLnJvd3Muc2V0KHJvd0lELCB7cm93LCBzb3J0YWJsZX0pO1xyXG5cclxuICAgIHJldHVybiByb3c7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBbZWRpdFdpbmRvdyBkZXNjcmlwdGlvbl1cclxuICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBnZXQgZWRpdFdpbmRvdygpIHtcclxuICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICBsZXQgcm93RGF0YSA9IGZvcm1EYXRhLnJvd3MuZ2V0KF90aGlzLnJvd0lEKTtcclxuXHJcbiAgICBsZXQgZWRpdFdpbmRvdyA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiAncm93LWVkaXQgZ3JvdXAtY29uZmlnJ1xyXG4gICAgfTtcclxuICAgIGxldCBmaWVsZHNldExhYmVsID0ge1xyXG4gICAgICB0YWc6ICdsYWJlbCcsXHJcbiAgICAgIGNvbnRlbnQ6IGkxOG4uZ2V0KCdyb3cuc2V0dGluZ3MuZmllbGRzZXRXcmFwJylcclxuICAgIH07XHJcbiAgICBsZXQgZmllbGRzZXRJbnB1dCA9IHtcclxuICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICBpZDogX3RoaXMucm93SUQgKyAnLWZpZWxkc2V0JyxcclxuICAgICAgYXR0cnM6IHtcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIGNoZWNrZWQ6IHJvd0RhdGEuY29uZmlnLmZpZWxkc2V0LFxyXG4gICAgICAgIGFyaWFMYWJlbDogaTE4bi5nZXQoJ3Jvdy5zZXR0aW5ncy5maWVsZHNldFdyYXAuYXJpYScpXHJcbiAgICAgIH0sXHJcbiAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgIGNsaWNrOiBlID0+IHtcclxuICAgICAgICAgIHJvd0RhdGEuY29uZmlnLmZpZWxkc2V0ID0gZS50YXJnZXQuY2hlY2tlZDtcclxuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgaW5wdXRHcm91cElucHV0ID0ge1xyXG4gICAgICB0YWc6ICdpbnB1dCcsXHJcbiAgICAgIGlkOiBfdGhpcy5yb3dJRCArICctaW5wdXRHcm91cCcsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcclxuICAgICAgICBjaGVja2VkOiByb3dEYXRhLmNvbmZpZy5pbnB1dEdyb3VwLFxyXG4gICAgICAgIGFyaWFMYWJlbDogaTE4bi5nZXQoJ3Jvdy5zZXR0aW5ncy5pbnB1dEdyb3VwLmFyaWEnKVxyXG4gICAgICB9LFxyXG4gICAgICBhY3Rpb246IHtcclxuICAgICAgICBjbGljazogZSA9PiB7XHJcbiAgICAgICAgICByb3dEYXRhLmNvbmZpZy5pbnB1dEdyb3VwID0gZS50YXJnZXQuY2hlY2tlZDtcclxuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdyb3cubWFrZUlucHV0R3JvdXAnKSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogaTE4bi5nZXQoJ3Jvdy5tYWtlSW5wdXRHcm91cERlc2MnKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGxldCBmaWVsZHNldEFkZG9uID0gT2JqZWN0LmFzc2lnbih7fSwgZmllbGRzZXRMYWJlbCwge1xyXG4gICAgICAvLyBjb250ZW50OiBbZmllbGRzZXRJbnB1dCwgJyBGaWVsZHNldCddXHJcbiAgICAvLyB9KTtcclxuICAgIGxldCBpbnB1dEFkZG9uID0ge1xyXG4gICAgICB0YWc6ICdzcGFuJyxcclxuICAgICAgY2xhc3NOYW1lOiAnaW5wdXQtZ3JvdXAtYWRkb24nLFxyXG4gICAgICBjb250ZW50OiBmaWVsZHNldElucHV0XHJcbiAgICB9O1xyXG4gICAgbGV0IGxlZ2VuZElucHV0ID0ge1xyXG4gICAgICB0YWc6ICdpbnB1dCcsXHJcbiAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgIGFyaWFMYWJlbDogJ0xlZ2VuZCBmb3IgZmllbGRzZXQnLFxyXG4gICAgICAgIHZhbHVlOiByb3dEYXRhLmNvbmZpZy5sZWdlbmQsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdMZWdlbmQnXHJcbiAgICAgIH0sXHJcbiAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgIGlucHV0OiBlID0+IHtcclxuICAgICAgICAgIHJvd0RhdGEuY29uZmlnLmxlZ2VuZCA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgZGF0YS5zYXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBjbGFzc05hbWU6ICcnXHJcbiAgICB9O1xyXG4gICAgbGV0IGZpZWxkc2V0SW5wdXRHcm91cCA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiAnaW5wdXQtZ3JvdXAnLFxyXG4gICAgICBjb250ZW50OiBbaW5wdXRBZGRvbiwgbGVnZW5kSW5wdXRdXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBmaWVsZFNldENvbnRyb2xzID0gW1xyXG4gICAgICBmaWVsZHNldExhYmVsLFxyXG4gICAgICBmaWVsZHNldElucHV0R3JvdXBcclxuICAgIF07XHJcbiAgICBmaWVsZFNldENvbnRyb2xzID0gZG9tLmZvcm1Hcm91cChmaWVsZFNldENvbnRyb2xzKTtcclxuICAgIGxldCBjb2x1bW5TZXR0aW5nc0xhYmVsID0gT2JqZWN0LmFzc2lnbih7fSwgZmllbGRzZXRMYWJlbCwge1xyXG4gICAgICBjb250ZW50OiAnRGVmaW5hIGVsIGFuY2hvIGRlIGxhcyBjb2x1bW5hcydcclxuICAgIH0pO1xyXG4gICAgbGV0IGNvbHVtblNldHRpbmdzUHJlc2V0TGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBmaWVsZHNldExhYmVsLCB7XHJcbiAgICAgIGNvbnRlbnQ6ICdQcmVlc3RhYmxlY2VyIGRpc2XDsW8nLCBjbGFzc05hbWU6ICdjb2wtc20tNCBmb3JtLWNvbnRyb2wtbGFiZWwnXHJcbiAgICB9KTtcclxuICAgIGxldCBjb2x1bW5TZXR0aW5nc1ByZXNldFNlbGVjdCA9IHtcclxuICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgY2xhc3NOYW1lOiAnY29sLXNtLTgnLFxyXG4gICAgICBjb250ZW50OiBkb20uY29sdW1uUHJlc2V0Q29udHJvbChfdGhpcy5yb3dJRClcclxuICAgIH07XHJcbiAgICBsZXQgZm9ybUdyb3VwQ29udGVudCA9IFtcclxuICAgICAgY29sdW1uU2V0dGluZ3NQcmVzZXRMYWJlbCxcclxuICAgICAgY29sdW1uU2V0dGluZ3NQcmVzZXRTZWxlY3RcclxuICAgIF07XHJcbiAgICBsZXQgY29sdW1uU2V0dGluZ3NQcmVzZXQgPSBkb20uZm9ybUdyb3VwKGZvcm1Hcm91cENvbnRlbnQsICdyb3cnKTtcclxuXHJcbiAgICBlZGl0V2luZG93LmNvbnRlbnQgPSBbXHJcbiAgICAgIGlucHV0R3JvdXBJbnB1dCxcclxuICAgICAgZG9tLmNyZWF0ZSgnaHInKSxcclxuICAgICAgZmllbGRTZXRDb250cm9scyxcclxuICAgICAgZG9tLmNyZWF0ZSgnaHInKSxcclxuICAgICAgY29sdW1uU2V0dGluZ3NMYWJlbCxcclxuICAgICAgY29sdW1uU2V0dGluZ3NQcmVzZXRcclxuICAgIF07XHJcblxyXG4gICAgcmV0dXJuIGVkaXRXaW5kb3c7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgY29sdW1uIG9yZGVyIGFuZCBzYXZlXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKi9cclxuICBvblNvcnQoZXZ0KSB7XHJcbiAgICBkYXRhLnNhdmVDb2x1bW5PcmRlcihldnQudGFyZ2V0KTtcclxuICAgIGRhdGEuc2F2ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlciBmb3IgcmVtb3ZpbmcgY29udGVudCBmcm9tIGEgcm93XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKi9cclxuICBvblJlbW92ZShldnQpIHtcclxuICAgIGRvbS5jb2x1bW5XaWR0aHMoZXZ0LmZyb20pO1xyXG4gICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIoZXZ0LnRhcmdldCk7XHJcbiAgICBkb20uZW1wdHlDbGFzcyhldnQuZnJvbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYW5kbGVyIGZvciByZW1vdmluZyBjb250ZW50IGZyb20gYSByb3dcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxyXG4gICAqL1xyXG4gIG9uRW5kKGV2dCkge1xyXG4gICAgaWYoZXZ0LmZyb20uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbXB0eS1yb3dzJykpIHtcclxuICAgICAgZG9tLnJlbW92ZUVtcHR5KGV2dC5mcm9tKTtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhLnNhdmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXIgZm9yIGFkZGluZyBjb250ZW50IHRvIGEgcm93XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKi9cclxuICBvbkFkZChldnQpIHtcclxuICAgIGxldCB7ZnJvbSwgaXRlbSwgdG99ID0gZXZ0O1xyXG4gICAgbGV0IGZyb21Sb3cgPSBmcm9tLmZUeXBlID09PSAncm93cyc7XHJcbiAgICBsZXQgZnJvbUNvbHVtbiA9IGZyb20uZlR5cGUgPT09ICdjb2x1bW5zJztcclxuICAgIGxldCBmcm9tQ29udHJvbHMgPSBmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJztcclxuICAgIGxldCBjb2x1bW47XHJcblxyXG4gICAgaWYgKGZyb21Sb3cpIHtcclxuICAgICAgY29sdW1uID0gaXRlbTtcclxuICAgIH0gZWxzZSBpZihmcm9tQ29sdW1uIHx8IGZyb21Db250cm9scykge1xyXG4gICAgICBsZXQgbWV0YSA9IGguZ2V0KHJGaWVsZHNbaXRlbS5pZF0sICdtZXRhJyk7XHJcbiAgICAgIGlmIChtZXRhLmdyb3VwICE9PSAnbGF5b3V0Jykge1xyXG4gICAgICAgIGNvbHVtbiA9IGRvbS5hZGRDb2x1bW4odG8uaWQpO1xyXG4gICAgICAgIGRvbS5hZGRGaWVsZChjb2x1bW4uaWQsIGl0ZW0uaWQpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1ldGEuaWQgPT09ICdsYXlvdXQtY29sdW1uJykge1xyXG4gICAgICAgIGRvbS5hZGRDb2x1bW4odG8uaWQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZyb21Db2x1bW4gfHwgZnJvbUNvbnRyb2xzKSB7XHJcbiAgICAgIGRvbS5yZW1vdmUoaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIodG8pO1xyXG5cclxuICAgIGRvbS5jb2x1bW5XaWR0aHModG8pO1xyXG4gICAgZG9tLmVtcHR5Q2xhc3ModG8pO1xyXG4gICAgZGF0YS5zYXZlKCk7XHJcbiAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbXBvbmVudHMvcm93LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUlBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFSQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQWhMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQWRBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQWRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7Ozs7OztBQWxMQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n") }, function () { "use strict"; eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar stageOpts = {};\n\nvar Stage = function () {\n  function Stage(formeoOptions, stageID) {\n    _classCallCheck(this, Stage);\n\n    this.stageID = stageID || (0, _utils.uuid)();\n    var defaultOptions = {\n      formSettings: [{\n        tag: 'input',\n        id: 'form-title',\n        attrs: {\n          className: 'form-title',\n          placeholder: _mi18n2.default.get('Untitled Form'),\n          value: _mi18n2.default.get('Untitled Form'),\n          type: 'text'\n        },\n        config: {\n          label: _mi18n2.default.get('Form Title')\n        }\n      }, {\n        tag: 'input',\n        id: 'form-novalidate',\n        attrs: {\n          className: 'form-novalidate',\n          value: false,\n          type: 'checkbox'\n        },\n        config: {\n          label: _mi18n2.default.get('Form novalidate')\n        }\n      }, {\n        tag: 'input',\n        id: 'form-tags',\n        attrs: {\n          className: 'form-tags',\n          type: 'text'\n        },\n        config: {\n          label: _mi18n2.default.get('Tags')\n        }\n      }]\n    };\n\n    stageOpts = Object.assign(stageOpts, defaultOptions, formeoOptions);\n\n    if (!_data.formData.stages.get(this.stageID)) {\n      var defaultStageData = {\n        id: this.stageID,\n        settings: {},\n        rows: []\n      };\n      _data.formData.stages.set(this.stageID, defaultStageData);\n    }\n\n    var stageWrap = this.loadStage();\n\n    return stageWrap;\n  }\n\n  Stage.prototype.loadStage = function loadStage() {\n    var _this = this;\n    var stageWrap = this.dom;\n    var sortable = _sortablejs2.default.create(stageWrap.firstChild, {\n      animation: 150,\n      fallbackClass: 'row-moving',\n      forceFallback: true,\n      fallbackTolerance: 0,\n      group: { name: 'stages', pull: true, put: ['controls', 'rows', 'columns'] },\n\n      onAdd: _this.onAdd.bind(_this),\n      onRemove: _this.onRemove.bind(_this),\n\n      sort: true,\n      onStart: function onStart(evt) {\n        _dom2.default.activeStage = _this.stage;\n      },\n      onUpdate: function onUpdate(evt) {\n        _data.data.saveRowOrder();\n        _data.data.save();\n      },\n      onSort: _this.onSort,\n      draggable: '.stage-rows',\n      handle: '.item-handle'\n    });\n    _dom2.default.stages.set(this.stageID, {\n      stage: this.stage,\n      sortable: sortable\n    });\n    _dom2.default.activeStage = this.stage;\n    if (_data.formData.stages.get(this.stageID).rows.length) {\n      _dom2.default.loadRows(this.stage);\n    }\n\n    return stageWrap;\n  };\n\n  Stage.prototype.elementConfigs = function elementConfigs() {\n    var _this = this;\n    var config = {\n      stage: {\n        tag: 'ul',\n        attrs: {\n          className: ['stage', 'empty-stages'],\n          id: _this.stageID\n        },\n        fType: 'stages'\n      },\n      settings: {\n        tag: 'div',\n        attrs: {\n          className: 'formeo-settings',\n          id: _this.stageID + '-settings'\n        },\n        fType: 'settings'\n      }\n    };\n\n    config.settings.content = stageOpts.formSettings.slice();\n\n    return config;\n  };\n\n  Stage.prototype.onSort = function onSort(evt) {\n    _data.data.save();\n  };\n\n  Stage.prototype.onAdd = function onAdd(evt) {\n    var _this = this;\n    _dom2.default.activeStage = _this.stage;\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var newIndex = _helpers2.default.indexOfNode(item, to);\n    var row = from.fType === 'stages' ? item : _dom2.default.addRow();\n    var fromColumn = from.fType === 'columns';\n    var fromRow = from.fType === 'rows';\n    var column = void 0;\n\n    if (from.fType === 'controlGroup') {\n      var meta = _data.registeredFields[item.id].meta;\n      if (meta.group !== 'layout') {\n        column = _dom2.default.addColumn(row.id);\n        _dom2.default.addField(column.id, item.id);\n      } else if (meta.id === 'layout-column') {\n        _dom2.default.addColumn(row.id);\n      }\n      _dom2.default.remove(item);\n    } else if (fromColumn) {\n      var _column = _dom2.default.addColumn(row.id);\n      _column.appendChild(item);\n      _data.data.saveFieldOrder(_column);\n      _dom2.default.emptyClass(_column);\n    } else if (fromRow) {\n      row.appendChild(item);\n      _data.data.saveColumnOrder(row);\n      _dom2.default.emptyClass(row);\n    }\n\n    to.insertBefore(row, to.children[newIndex]);\n    _dom2.default.columnWidths(row);\n    _data.data.saveRowOrder(to);\n\n    return _data.data.save();\n  };\n\n  Stage.prototype.onRemove = function onRemove(evt) {\n    return _data.data.save();\n  };\n\n  _createClass(Stage, [{\n    key: 'dom',\n    get: function get() {\n      if (this.stage) {\n        return this.stage;\n      }\n      var config = this.elementConfigs();\n\n      var stageWrap = _dom2.default.create({\n        tag: 'div',\n        attrs: {\n          className: 'stage-wrap'\n        },\n        content: [config.stage, config.settings]\n      });\n      this.stage = stageWrap.firstChild;\n\n      return stageWrap;\n    }\n  }]);\n\n  return Stage;\n}();\n\nexports.default = Stage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvc3RhZ2UuanM/ZTgzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XHJcbmltcG9ydCBpMThuIGZyb20gJ21pMThuJztcclxuaW1wb3J0IHtkYXRhLCBmb3JtRGF0YSwgcmVnaXN0ZXJlZEZpZWxkcyBhcyByRmllbGRzfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XHJcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcclxuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcclxuaW1wb3J0IHt1dWlkfSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xyXG5cclxubGV0IHN0YWdlT3B0cyA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIFN0YWdlIGlzIHdoZXJlIGZpZWxkcyBhbmQgZWxlbWVudHMgYXJlIGRyYWdnZWQgdG8uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFnZSB7XHJcbiAgLyoqXHJcbiAgICogUHJvY2VzcyBvcHRpb25zIGFuZCBsb2FkIGV4aXN0aW5nIGZpZWxkcyBmcm9tIGRhdGEgdG8gdGhlIHN0YWdlXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBmb3JtZW9PcHRpb25zXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBzdGFnZUlEIHV1aWRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZm9ybWVvT3B0aW9ucywgc3RhZ2VJRCkge1xyXG4gICAgLy8gZm9ybURhdGEgPSBkYXRhLmdldCgpO1xyXG4gICAgdGhpcy5zdGFnZUlEID0gc3RhZ2VJRCB8fCB1dWlkKCk7XHJcbiAgICBsZXQgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIGZvcm1TZXR0aW5nczogW3tcclxuICAgICAgICB0YWc6ICdpbnB1dCcsXHJcbiAgICAgICAgaWQ6ICdmb3JtLXRpdGxlJyxcclxuICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS10aXRsZScsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogaTE4bi5nZXQoJ1VudGl0bGVkIEZvcm0nKSxcclxuICAgICAgICAgIHZhbHVlOiBpMThuLmdldCgnVW50aXRsZWQgRm9ybScpLFxyXG4gICAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnRm9ybSBUaXRsZScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxyXG4gICAgICAgIGlkOiAnZm9ybS1ub3ZhbGlkYXRlJyxcclxuICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS1ub3ZhbGlkYXRlJyxcclxuICAgICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICAgIHR5cGU6ICdjaGVja2JveCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdGb3JtIG5vdmFsaWRhdGUnKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgIHRhZzogJ2lucHV0JyxcclxuICAgICAgICBpZDogJ2Zvcm0tdGFncycsXHJcbiAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tdGFncycsXHJcbiAgICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdUYWdzJylcclxuICAgICAgICB9XHJcbiAgICAgIH1dXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YWdlT3B0cyA9IE9iamVjdC5hc3NpZ24oc3RhZ2VPcHRzLCBkZWZhdWx0T3B0aW9ucywgZm9ybWVvT3B0aW9ucyk7XHJcblxyXG4gICAgaWYgKCFmb3JtRGF0YS5zdGFnZXMuZ2V0KHRoaXMuc3RhZ2VJRCkpIHtcclxuICAgICAgbGV0IGRlZmF1bHRTdGFnZURhdGEgPSB7XHJcbiAgICAgICAgICBpZDogdGhpcy5zdGFnZUlELFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHt9LFxyXG4gICAgICAgICAgcm93czogW11cclxuICAgICAgICB9O1xyXG4gICAgICBmb3JtRGF0YS5zdGFnZXMuc2V0KHRoaXMuc3RhZ2VJRCwgZGVmYXVsdFN0YWdlRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhZ2VXcmFwID0gdGhpcy5sb2FkU3RhZ2UoKTtcclxuXHJcbiAgICByZXR1cm4gc3RhZ2VXcmFwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUHJlcCBzdGFnZSB0byByZWNlaXZlIHJvd3NcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XHJcbiAgICovXHJcbiAgbG9hZFN0YWdlKCkge1xyXG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG4gICAgbGV0IHN0YWdlV3JhcCA9IHRoaXMuZG9tO1xyXG4gICAgY29uc3Qgc29ydGFibGUgPSBTb3J0YWJsZS5jcmVhdGUoc3RhZ2VXcmFwLmZpcnN0Q2hpbGQsIHtcclxuICAgICAgYW5pbWF0aW9uOiAxNTAsXHJcbiAgICAgIGZhbGxiYWNrQ2xhc3M6ICdyb3ctbW92aW5nJyxcclxuICAgICAgZm9yY2VGYWxsYmFjazogdHJ1ZSxcclxuICAgICAgZmFsbGJhY2tUb2xlcmFuY2U6IDAsXHJcbiAgICAgIGdyb3VwOiB7bmFtZTogJ3N0YWdlcycsIHB1bGw6IHRydWUsIHB1dDogW1xyXG4gICAgICAgICdjb250cm9scycsXHJcbiAgICAgICAgJ3Jvd3MnLFxyXG4gICAgICAgICdjb2x1bW5zJ1xyXG4gICAgICBdfSxcclxuICAgICAgLy8gRWxlbWVudCBpcyBkcm9wcGVkIGludG8gdGhlIGxpc3QgZnJvbSBhbm90aGVyIGxpc3RcclxuICAgICAgb25BZGQ6IF90aGlzLm9uQWRkLmJpbmQoX3RoaXMpLFxyXG4gICAgICBvblJlbW92ZTogX3RoaXMub25SZW1vdmUuYmluZChfdGhpcyksXHJcbiAgICAgIC8vIG9uRHJvcDogX3RoaXMub25BZGQuYmluZChfdGhpcyksXHJcbiAgICAgIHNvcnQ6IHRydWUsXHJcbiAgICAgIG9uU3RhcnQ6IGV2dCA9PiB7XHJcbiAgICAgICAgZG9tLmFjdGl2ZVN0YWdlID0gX3RoaXMuc3RhZ2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uVXBkYXRlOiBldnQgPT4ge1xyXG4gICAgICAgIGRhdGEuc2F2ZVJvd09yZGVyKCk7XHJcbiAgICAgICAgZGF0YS5zYXZlKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uU29ydDogX3RoaXMub25Tb3J0LFxyXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2Utcm93cycsXHJcbiAgICAgIGhhbmRsZTogJy5pdGVtLWhhbmRsZSdcclxuICAgIH0pO1xyXG4gICAgZG9tLnN0YWdlcy5zZXQodGhpcy5zdGFnZUlELCB7XHJcbiAgICAgIHN0YWdlOiB0aGlzLnN0YWdlLFxyXG4gICAgICBzb3J0YWJsZVxyXG4gICAgfSk7XHJcbiAgICBkb20uYWN0aXZlU3RhZ2UgPSB0aGlzLnN0YWdlO1xyXG4gICAgaWYgKGZvcm1EYXRhLnN0YWdlcy5nZXQodGhpcy5zdGFnZUlEKS5yb3dzLmxlbmd0aCkge1xyXG4gICAgICBkb20ubG9hZFJvd3ModGhpcy5zdGFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0YWdlV3JhcDtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSB0aGUgZWxlbWVudHMgdGhhdCBtYWtlIHVwIHRoZSBTdGFnZVxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gc3RhZ2UgZWxlbWVudHMsIHNldHRpbmdzLCBzdGFnZSB1bFxyXG4gICAqL1xyXG4gIGVsZW1lbnRDb25maWdzKCkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgIGxldCBjb25maWcgPSB7XHJcbiAgICAgICAgc3RhZ2U6IHtcclxuICAgICAgICAgIHRhZzogJ3VsJyxcclxuICAgICAgICAgIGF0dHJzOiB7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogW1xyXG4gICAgICAgICAgICAgICdzdGFnZScsXHJcbiAgICAgICAgICAgICAgJ2VtcHR5LXN0YWdlcydcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgaWQ6IF90aGlzLnN0YWdlSURcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmVHlwZTogJ3N0YWdlcydcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybWVvLXNldHRpbmdzJyxcclxuICAgICAgICAgICAgaWQ6IGAke190aGlzLnN0YWdlSUR9LXNldHRpbmdzYFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZUeXBlOiAnc2V0dGluZ3MnXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIGNvbmZpZy5zZXR0aW5ncy5jb250ZW50ID0gc3RhZ2VPcHRzLmZvcm1TZXR0aW5ncy5zbGljZSgpO1xyXG5cclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmb3Igd2hlbiBhIHJvdyBpcyBzb3J0ZWRcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxyXG4gICAqL1xyXG4gIG9uU29ydChldnQpIHtcclxuICAgIGRhdGEuc2F2ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWV0aG9kIGZvciBoYW5kbGluZyBzdGFnZSBkcm9wXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1EYXRhXHJcbiAgICovXHJcbiAgb25BZGQoZXZ0KSB7XHJcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgZG9tLmFjdGl2ZVN0YWdlID0gX3RoaXMuc3RhZ2U7XHJcbiAgICBsZXQge2Zyb20sIGl0ZW0sIHRvfSA9IGV2dDtcclxuICAgIGxldCBuZXdJbmRleCA9IGguaW5kZXhPZk5vZGUoaXRlbSwgdG8pO1xyXG4gICAgbGV0IHJvdyA9IGZyb20uZlR5cGUgPT09ICdzdGFnZXMnID8gaXRlbSA6IGRvbS5hZGRSb3coKTtcclxuICAgIGxldCBmcm9tQ29sdW1uID0gZnJvbS5mVHlwZSA9PT0gJ2NvbHVtbnMnO1xyXG4gICAgbGV0IGZyb21Sb3cgPSBmcm9tLmZUeXBlID09PSAncm93cyc7XHJcbiAgICBsZXQgY29sdW1uO1xyXG5cclxuICAgIGlmIChmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJykge1xyXG4gICAgICBsZXQgbWV0YSA9IHJGaWVsZHNbaXRlbS5pZF0ubWV0YTtcclxuICAgICAgaWYgKG1ldGEuZ3JvdXAgIT09ICdsYXlvdXQnKSB7XHJcbiAgICAgICAgY29sdW1uID0gZG9tLmFkZENvbHVtbihyb3cuaWQpO1xyXG4gICAgICAgIGRvbS5hZGRGaWVsZChjb2x1bW4uaWQsIGl0ZW0uaWQpO1xyXG4gICAgICB9IGVsc2UgaWYgKG1ldGEuaWQgPT09ICdsYXlvdXQtY29sdW1uJykge1xyXG4gICAgICAgIGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcclxuICAgICAgfVxyXG4gICAgICBkb20ucmVtb3ZlKGl0ZW0pO1xyXG4gICAgfSBlbHNlIGlmIChmcm9tQ29sdW1uKSB7XHJcbiAgICAgIGxldCBjb2x1bW4gPSBkb20uYWRkQ29sdW1uKHJvdy5pZCk7XHJcbiAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChpdGVtKTtcclxuICAgICAgZGF0YS5zYXZlRmllbGRPcmRlcihjb2x1bW4pO1xyXG4gICAgICBkb20uZW1wdHlDbGFzcyhjb2x1bW4pO1xyXG4gICAgfSBlbHNlIGlmKGZyb21Sb3cpIHtcclxuICAgICAgcm93LmFwcGVuZENoaWxkKGl0ZW0pO1xyXG4gICAgICBkYXRhLnNhdmVDb2x1bW5PcmRlcihyb3cpO1xyXG4gICAgICBkb20uZW1wdHlDbGFzcyhyb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvLmluc2VydEJlZm9yZShyb3csIHRvLmNoaWxkcmVuW25ld0luZGV4XSk7XHJcbiAgICBkb20uY29sdW1uV2lkdGhzKHJvdyk7XHJcbiAgICBkYXRhLnNhdmVSb3dPcmRlcih0byk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIHJlbW92YWwgb2YgYSByb3cgZnJvbSBzdGFnZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0XHJcbiAgICogQHJldHVybiB7T2JqZWN0fSBmb3JtRGF0YVxyXG4gICAqL1xyXG4gIG9uUmVtb3ZlKGV2dCkge1xyXG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbWFya3VwIGZvciB0aGUgc3RhZ2VcclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0RPTX1cclxuICAgKi9cclxuICBnZXQgZG9tKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhZ2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhZ2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmVsZW1lbnRDb25maWdzKCk7XHJcblxyXG4gICAgbGV0IHN0YWdlV3JhcCA9IGRvbS5jcmVhdGUoe1xyXG4gICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICBhdHRyczoge1xyXG4gICAgICAgIGNsYXNzTmFtZTogJ3N0YWdlLXdyYXAnXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRlbnQ6IFtcclxuICAgICAgICBjb25maWcuc3RhZ2UsIC8vIHN0YWdlIGl0ZW1zXHJcbiAgICAgICAgY29uZmlnLnNldHRpbmdzXHJcbiAgICAgIF1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlV3JhcC5maXJzdENoaWxkO1xyXG5cclxuICAgIHJldHVybiBzdGFnZVdyYXA7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tcG9uZW50cy9zdGFnZS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBSUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQURBO0FBVEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQVJBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBUEE7QUF4QkE7QUFDQTtBQW9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQTBCQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBTEE7QUFPQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFOQTtBQVpBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBak9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n") }, function () { eval('exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ 18)();\n// imports\n\n\n// module\nexports.push([module.i, "@keyframes PLACEHOLDER{0%{height:1px}to{height:15px}}@keyframes DRAG_GHOST{0%{box-shadow:0 0 0 0 #999}to{box-shadow:0 0 30px 0 #999}}@keyframes EDIT_PULSE{0%,to{border-color:#66afe9}50%{border-color:#bfdef6}}.formeo .f-input-group,.formeo.formeo-editor .stage-rows{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch}.formeo .f-addon,.formeo input,.formeo select,.formeo textarea{margin:0;border:1px solid #ccc;width:100%;height:40px;padding:0 20px}.formeo .f-addon:focus,.formeo input:focus,.formeo select:focus,.formeo textarea:focus{border:1px solid #66afe9;outline:none}.formeo.formeo-editor .field-edit-group,.formeo.formeo-editor .formeo-controls ul,.formeo.formeo-editor .panels-wrap ul,.formeo.formeo-editor .stage-columns,.formeo.formeo-editor .stage-wrap .stage{margin:0;padding:0;list-style:none}.formeo input[type=checkbox],.formeo input[type=radio]{opacity:0;width:0;position:absolute;display:inline-block;height:auto}.formeo input[type=checkbox]+.checkable,.formeo input[type=radio]+.checkable{padding-left:1.5em;cursor:pointer;position:relative}.formeo input[type=checkbox]+.checkable:after,.formeo input[type=checkbox]+.checkable:before,.formeo input[type=radio]+.checkable:after,.formeo input[type=radio]+.checkable:before{content:\\"\\";position:absolute;display:inline-block;left:0;top:50%;transform:translateY(-50%);font-size:1em;line-height:1em;color:transparent;font-family:sans;text-align:center;width:1em;height:1em;border-radius:2px}.formeo input[type=checkbox]+.checkable:before,.formeo input[type=radio]+.checkable:before{background:#fff;border:1px solid #666}.formeo input:focus[type=checkbox]+.checkable:before,.formeo input:focus[type=radio]+.checkable:before{border:1px solid #66afe9}.formeo input[type=checkbox]+.checkable:after,.formeo input[type=radio]+.checkable:after{content:\\"\\\\2714\\";background:none;visibility:hidden;opacity:0;font-size:1.15em;color:#000}.formeo input:checked[type=checkbox]+.checkable:after,.formeo input:checked[type=radio]+.checkable:after{color:#666;background:none;visibility:visible;opacity:1}.formeo.formeo-editor .stage-columns:before,.formeo.formeo-editor .stage-fields:before,.formeo.formeo-editor .stage-rows:before{font-size:12px;position:absolute;top:0;width:0;padding:0;height:21px;line-height:23px;text-align:center;overflow:hidden;z-index:100;transition-property:width;transition-duration:.15s;content:attr(data-hover-tag);background-color:#fff}.field-control,.formeo.formeo-editor .formeo-controls .field-control{cursor:move;list-style:none;margin:-1px 0 0;border:1px solid #ccc;text-align:left;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.control-moving.field-control,.formeo.formeo-editor .formeo-controls .control-moving.field-control{border-radius:6px;animation:DRAG_GHOST .5s forwards}.field-control:before,.formeo.formeo-editor .formeo-controls .field-control:before{margin-right:10px;font-size:16px}.field-control:hover,.formeo.formeo-editor .formeo-controls .field-control:hover{background-color:#f2f2f2}.field-control button,.formeo.formeo-editor .formeo-controls .field-control button{box-sizing:border-box;font-size:1em;line-height:1.8em;display:block;height:100%;width:100%;background:transparent;border:0 none;text-align:left;padding:6px;border-radius:0}.field-control button:focus,.formeo.formeo-editor .formeo-controls .field-control button:focus{outline:0 none;background-color:#f2f2f2;box-shadow:inset 0 0 0 1px #66afe9;border-radius:0!important}.field-control button:active,.formeo.formeo-editor .formeo-controls .field-control button:active{transform:none}.field-control button:hover,.formeo.formeo-editor .formeo-controls .field-control button:hover{filter:none}.field-control .glyphicon,.field-control svg,.formeo.formeo-editor .formeo-controls .field-control .glyphicon,.formeo.formeo-editor .formeo-controls .field-control svg{float:left;margin-right:10px}.field-control .glyphicon,.formeo.formeo-editor .formeo-controls .field-control .glyphicon{display:inline-block;text-align:center;width:16px;height:16px;line-height:20px}.formeo.formeo-editor .formeo-controls [dir=rtl] .field-control button,[dir=rtl] .field-control button,[dir=rtl] .formeo.formeo-editor .formeo-controls .field-control button{text-align:right!important}.formeo.formeo-editor .formeo-controls [dir=rtl] .field-control svg,[dir=rtl] .field-control svg,[dir=rtl] .formeo.formeo-editor .formeo-controls .field-control svg{float:right!important;margin:0 0 0 10px!important}.formeo button{border-radius:3px;border:1px solid #666;color:#333;background-color:#fff;padding:.5em 1em}.formeo button:active{transform:scale(.97)}.formeo button:hover{filter:brightness(.9)}.svg-icon{display:inline-block;width:15px;height:15px;pointer-events:none}.icon-remove:hover{fill:#d9534f}button[class*=-remove]:hover{background-color:#d9534f!important}button[class*=-remove]:hover .svg-icon{fill:#fff}button[class*=-clone]:hover{background-color:#93c54b!important}button[class*=-clone]:hover .svg-icon{fill:#fff}.item-edit-toggle:hover{background-color:#325d88!important}.item-edit-toggle:hover .svg-icon{fill:#fff}.formeo *{box-sizing:inherit}.formeo .pill-buttons>button{border-radius:50px}.formeo hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid #ccc}.formeo .f-field-group{-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:8px}.formeo .f-field-group label+.badge{margin-left:10px}.formeo .f-field-group>label{display:inline-block;margin-bottom:10px}.formeo .f-field-group button{margin-right:5px}.formeo input[type=date]{max-width:280px;display:block}.formeo input[type=radio]+.checkable:before{border-radius:2em}.formeo input[type=radio]:checked+.checkable:after{content:\\"\\";background:#666;transform:scale(.5) translateY(-100%);border-radius:50%}.formeo textarea{height:auto}.formeo button{line-height:1.5em}.formeo button.error,.formeo button.primary,.formeo button.success,.formeo button.warning{color:#fff}.formeo button.primary{background-color:#325d88;border-color:#244463}.formeo button.success{background-color:#93c54b;border-color:#79a736}.formeo button.warning{background-color:#f47c3c;border-color:#ef5c0e}.formeo button.error{background-color:#d9534f;border-color:#c9302c}.formeo button[disabled]{background-color:#ccc;color:#fff}.formeo button:focus{border:1px solid #66afe9}.formeo button:focus,.formeo button:hover{outline:0 none}.formeo .f-addon{width:auto}.formeo .f-addon label{margin:1px 0 0 3px}.formeo .f-addon:last-child{margin-left:-1px}.formeo .f-btn-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.formeo .f-btn-group>button{-ms-flex:0 1 auto;flex:0 1 auto}.formeo .f-btn-group>button:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.formeo .f-btn-group>button:last-child:not(:first-child):not(.dropdown-toggle){border-bottom-left-radius:0;border-top-left-radius:0}.formeo .f-btn-group>button:first-child{margin-left:0}.formeo .f-btn-group>button:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.formeo .f-btn-group .f-btn-group+.f-btn-group,.formeo .f-btn-group .f-btn-group+button,.formeo .f-btn-group .f-btn-group-vertical .f-btn-group+.f-btn-group,.formeo .f-btn-group .f-btn-group-vertical .f-btn-group+button,.formeo .f-btn-group .f-btn-group-vertical button+.f-btn-group,.formeo .f-btn-group .f-btn-group-vertical button+button,.formeo .f-btn-group button+.f-btn-group,.formeo .f-btn-group button+button{margin-left:-1px}.formeo .f-checkbox,.formeo .f-radio{margin-bottom:5px}.formeo .f-input-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom}.formeo .f-input-group input+input,.formeo .f-input-group input+select,.formeo .f-input-group select+select{margin-left:-1px}.formeo .f-input-group select{-webkit-appearance:none;background-image:url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDI0IDMyIj4KPHBhdGggZmlsbD0iIzQ0NCIgZD0iTTAgMTJsMTEuOTkyIDExLjk5MiAxMS45OTItMTEuOTkyaC0yMy45ODR6Ij48L3BhdGg+Cjwvc3ZnPgo=\\");background-position:right 10px top 2px;background-repeat:no-repeat;background-size:16px}.formeo .f-input-group .f-addon,.formeo .f-input-group input,.formeo .f-input-group select{-ms-flex:0 1 auto;flex:0 1 auto;border-radius:0}.formeo .f-input-group .f-addon:last-child,.formeo .f-input-group input:last-child,.formeo .f-input-group select:last-child{border-right-width:1px;border-radius:0 3px 3px 0}.formeo .f-input-group .f-addon:first-child,.formeo .f-input-group input:first-child,.formeo .f-input-group select:first-child{border-radius:3px 0 0 3px;border-left-width:1px}.formeo .f-input-group .f-addon:focus+input,.formeo .f-input-group .f-addon:focus+select,.formeo .f-input-group input:focus+input,.formeo .f-input-group input:focus+select,.formeo .f-input-group select:focus+input,.formeo .f-input-group select:focus+select{border-left:1px solid #66afe9}.formeo .text-primary{color:#325d88}.formeo .text-success{color:#93c54b}.formeo .text-warning{color:#f47c3c}.formeo .text-error{color:#d9534f}.formeo:after{content:\\"\\";display:table;clear:both}.formeo.formeo-editor .group-actions{min-width:23px;width:23px;height:23px;overflow:hidden;position:absolute;top:0;line-height:0;z-index:1}.formeo.formeo-editor .group-actions button{width:23px;height:23px;padding:6px;border:0 none;line-height:0;overflow:hidden;background-color:#fff}.formeo.formeo-editor .group-actions button:focus{border:0 none;outline:0 none;box-shadow:none}.formeo.formeo-editor .group-actions .svg-icon{width:11.5px;height:11.5px}.formeo.formeo-editor .group-actions .icon-handle{opacity:.5}.last-field .formeo.formeo-editor .group-actions button:last-child{border-radius:0}.formeo.formeo-editor .column-editing-field .column-actions,.formeo.formeo-editor .group-actions .icon-copy,.formeo.formeo-editor .group-actions .icon-menu,.formeo.formeo-editor .group-actions .icon-move,.formeo.formeo-editor .group-actions .icon-move-vertical{display:none}.formeo.formeo-editor .stage-fields.editing-field .field-actions,.formeo.formeo-editor .stage-fields.hovering-field .field-actions{box-shadow:-1px 1px 1px #ccc;border-color:#93c54b;border-width:1px 1px 0 0;border-style:solid}.formeo.formeo-editor .hovering-column .field-actions,.formeo.formeo-editor .hovering-row .field-actions{display:none}.formeo.formeo-editor .hovering-column .row-actions,.formeo.formeo-editor .hovering-row .row-actions{z-index:10}.formeo.formeo-editor .field-actions{right:0;text-align:right;transition:width .15s;border-bottom-left-radius:3px;border-bottom-right-radius:0;will-change:width}.formeo.formeo-editor .field-actions button{border-radius:0;position:absolute}.formeo.formeo-editor .field-actions button:first-of-type{right:0}.formeo.formeo-editor .field-actions button:nth-of-type(2){right:23px}.formeo.formeo-editor .field-actions button:nth-of-type(3){right:46px}.formeo.formeo-editor .field-actions button:nth-of-type(4){right:69px}.formeo.formeo-editor .field-actions button:nth-of-type(5){right:92px}.formeo.formeo-editor .field-actions button:nth-of-type(6){right:115px}.formeo.formeo-editor .field-actions button:first-child{right:0}.formeo.formeo-editor .group-config{display:none;padding:.5rem}.formeo.formeo-editor .editing-row .column-actions{display:none}.formeo.formeo-editor .column-actions{width:23px;height:23px;padding:0;right:50%;transform:translateX(12px);z-index:1;transition:width .15s}.formeo.formeo-editor .column-actions .action-btn-wrap{position:relative;white-space:nowrap}.formeo.formeo-editor .column-actions button{position:absolute;background-color:transparent;border-radius:0}.formeo.formeo-editor .column-actions button:first-of-type{right:0}.formeo.formeo-editor .column-actions button:nth-of-type(2){right:23px}.formeo.formeo-editor .column-actions button:nth-of-type(3){right:46px}.formeo.formeo-editor .column-actions button:nth-of-type(4){right:69px}.formeo.formeo-editor .column-actions button:nth-of-type(5){right:92px}.formeo.formeo-editor .column-actions button:nth-of-type(6){right:115px}.formeo.formeo-editor .column-actions button:first-child{border-bottom-right-radius:0;right:0}.hovering-column .formeo.formeo-editor .column-actions button:first-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.hovering-column .formeo.formeo-editor .column-actions button:last-child{border-bottom-left-radius:3px}.formeo.formeo-editor .editing-column .column-actions,.formeo.formeo-editor .hovering-column .column-actions{transform:translateX(50%);width:auto;border-bottom-right-radius:0;border-bottom-left-radius:3px}.formeo.formeo-editor .editing-column .column-actions button:first-child,.formeo.formeo-editor .hovering-column .column-actions button:first-child{border-bottom-right-radius:3px;right:0}.formeo.formeo-editor .editing-column .column-actions button:last-child,.formeo.formeo-editor .hovering-column .column-actions button:last-child{border-bottom-left-radius:3px}.formeo.formeo-editor .row-actions{width:23px;height:23px;left:-22px;text-align:right;border-top-left-radius:6px;border-bottom-left-radius:6px;transition:height .15s ease-in-out;white-space:normal;border:1px solid #ccc;border-right:1px solid #fff}.formeo.formeo-editor .row-actions .item-handle .icon-handle{transform:rotate(90deg)}.formeo.formeo-editor .row-actions button{border-radius:0}.formeo.formeo-editor .editing-row .row-actions,.formeo.formeo-editor .hovering-row .row-actions{border:1px solid #325d88}.formeo.formeo-editor .editing-row .row-actions button:first-child,.formeo.formeo-editor .hovering-row .row-actions button:first-child{border-bottom-left-radius:0}.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-copy,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-menu,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-move,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-move-vertical{display:inline-block!important}.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-handle{display:none!important}.formeo.formeo-editor .stage-rows{transition:background-color 125ms ease-in-out;position:relative;clear:both;margin-left:0;margin-bottom:6px;background-color:#fff;padding:5px;min-height:34px;box-shadow:inset 0 0 0 1px #ccc}.formeo.formeo-editor .stage-rows:after{content:\\"\\";display:table}.formeo.formeo-editor .stage-rows:before{border-bottom-right-radius:6px;border:1px solid #325d88;border-width:1px 0;left:0}.formeo.formeo-editor .stage-rows:after{clear:both}.formeo.formeo-editor .stage-rows.control-ghost{padding:10px}.formeo.formeo-editor .stage-rows:first-child{border-top-right-radius:5px;border-top-left-radius:0}.formeo.formeo-editor .stage-rows:last-child{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.formeo.formeo-editor .stage-rows.hovering-row:first-child{border-top-left-radius:0}.formeo.formeo-editor .stage-rows.hovering-row:before{width:100px}.formeo.formeo-editor .stage-rows.hovering-row .stage-columns{opacity:.5}.formeo.formeo-editor .stage-rows.editing-row,.formeo.formeo-editor .stage-rows.editing-row .row-edit{display:block}.formeo.formeo-editor .stage-rows.resizing-columns .stage-columns{transition:none}.formeo.formeo-editor .stage-rows.editing-row.hovering-row .stage-columns{opacity:1}.formeo.formeo-editor .stage-rows.editing-row{box-shadow:inset 0 0 0 1px #325d88}.formeo.formeo-editor .stage-rows.editing-row:before{border-width:1px 0 0;width:80px!important;content:attr(data-editing-hover-tag)}.formeo.formeo-editor .stage-rows.hovering-row{box-shadow:inset 0 0 0 1px #325d88}.formeo.formeo-editor .stage-rows.hovering-row.editing-row:before{border-right-width:0}.formeo.formeo-editor .stage-rows.hovering-row:before{box-shadow:1px 1px 1px #ccc;border-right-width:1px;width:80px!important}.formeo.formeo-editor .stage-rows.row-moving{box-shadow:inset 0 0 0 1px #325d88,0 0 30px 0 #999}.formeo.formeo-editor .stage-rows.empty-rows:after{left:0;transform:translate(10px,-50%)}.formeo.formeo-editor .stage-rows .layout-row-control{display:none}.formeo.formeo-editor .row-edit{padding-top:2rem}.formeo.formeo-editor .input-group-addon label{margin-bottom:0}.formeo.formeo-editor .stage-columns{transition:background-color 125ms ease-in-out,box-shadow 125ms,width .25s;position:relative;background-color:#fff;max-width:none;-ms-flex-direction:column;flex-direction:column;-ms-flex:auto;flex:auto;will-change:width}.formeo.formeo-editor .stage-columns[class*=col-]{padding:0}.formeo.formeo-editor .stage-columns:first-of-type{border-top-right-radius:5px}.formeo.formeo-editor .stage-columns:last-of-type{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.formeo.formeo-editor .stage-columns:last-of-type .resize-x-handle{display:none!important}.formeo.formeo-editor .stage-columns .resize-x-handle{display:none;position:absolute;right:-8px;top:0;bottom:0;width:16px;z-index:2;cursor:ew-resize}.formeo.formeo-editor .stage-columns .resize-x-handle:before{width:0;right:6px;border:1px dashed #29abe0;border-width:0 2px;display:block;top:0;position:absolute;height:100%;content:\\"\\"}.formeo.formeo-editor .stage-columns .resize-x-handle svg{fill:#29abe0;position:absolute;right:1px;width:14px}.formeo.formeo-editor .stage-columns .resize-x-handle svg.icon-triangle-down{top:-14px}.formeo.formeo-editor .stage-columns .resize-x-handle svg.icon-triangle-up{bottom:-14px}.formeo.formeo-editor .stage-columns:before{transition-property:height;transition-duration:.15s;padding:0 10px;left:50%;top:1px;transform:translate(-50%,-100%);width:auto;height:0;border-top-left-radius:5px;border-top-right-radius:5px}.formeo.formeo-editor .stage-columns.hovering-column:first-child{border-top-left-radius:0}.formeo.formeo-editor .stage-columns.hovering-column .stage-fields{opacity:.5}.formeo.formeo-editor .stage-columns.hovering-column:after{opacity:0}.formeo.formeo-editor .stage-columns.editing-column,.formeo.formeo-editor .stage-columns.hovering-column{box-shadow:inset 0 0 0 1px #29abe0}.formeo.formeo-editor .stage-columns.editing-column:before,.formeo.formeo-editor .stage-columns.hovering-column:before{height:23px;border-right:1px solid #29abe0;border-left:1px solid #29abe0;border-top:1px solid #29abe0}.formeo.formeo-editor .stage-columns.column-moving{box-shadow:inset 0 0 0 1px #29abe0,0 0 30px 0 #999}.formeo.formeo-editor .stage-columns.editing-column{overflow:hidden}.formeo.formeo-editor .stage-columns.editing-column .column-edit{display:block}.formeo.formeo-editor .editing-row .empty-columns,.formeo.formeo-editor .editing-row .stage-columns{display:table-cell;border-radius:5px;height:60px;background-color:#e6e6e6}.formeo.formeo-editor .editing-row .empty-columns.empty-columns,.formeo.formeo-editor .editing-row .stage-columns.empty-columns{min-height:0}.formeo.formeo-editor .editing-row .empty-columns .stage-fields,.formeo.formeo-editor .editing-row .stage-columns .stage-fields{display:none}.formeo.formeo-editor .editing-row .empty-columns .resize-x-handle,.formeo.formeo-editor .editing-row .stage-columns .resize-x-handle{display:block}.formeo.formeo-editor .editing-row .empty-columns:after,.formeo.formeo-editor .editing-row .stage-columns:after{color:#333!important;line-height:1em;opacity:1;font-size:1.1em;content:attr(data-col-width)!important;display:block;width:100%;text-align:center;position:absolute;left:50%;margin-top:0;top:50%;transform:translate(-50%,-50%)}.formeo.formeo-editor .editing-field-preview .column-actions{display:none}.formeo.formeo-editor .stage-fields{min-height:26px;position:relative;padding:5px;transition:background-color 125ms ease-in-out}.formeo.formeo-editor .stage-fields.first-field,.formeo.formeo-editor .stage-fields.first-field .field-actions{border-top-right-radius:3px}.formeo.formeo-editor .stage-fields.last-field{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.formeo.formeo-editor .stage-fields [contenteditable]{padding:1px 1px 0;transition:border-color .25s;border-bottom:1px dashed #ccc;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.formeo.formeo-editor .stage-fields [contenteditable]:focus{border:1px solid #66afe9;outline:none;padding:0}.formeo.formeo-editor .stage-fields .form-check{margin-left:1.25em}.formeo.formeo-editor .stage-fields .form-check-input:only-child{position:absolute}.formeo.formeo-editor .stage-fields:before{display:none;position:absolute;top:0;padding:0 10px;right:0;transform:translateX(-69px);border-bottom-right-radius:0;border-bottom-left-radius:6px}.formeo.formeo-editor .stage-fields.editing-field,.formeo.formeo-editor .stage-fields.hovering-field{box-shadow:inset 0 0 0 1px #93c54b}.formeo.formeo-editor .stage-fields.editing-field:before,.formeo.formeo-editor .stage-fields.hovering-field:before{line-height:23px!important;border-left:1px solid #93c54b;border-bottom:1px solid #93c54b}.formeo.formeo-editor .stage-fields.field-moving{box-shadow:inset 0 0 0 1px #93c54b,0 0 30px 0 #999;background-color:#fff}.formeo.formeo-editor .stage-fields.editing-field{background-color:#e6e6e6;z-index:1}.formeo.formeo-editor .stage-fields.field-type-hidden{border:1px dashed #ccc}.formeo.formeo-editor .editing-field-preview .field-actions{display:none}.formeo.formeo-editor .field-preview p{white-space:normal}.formeo.formeo-editor .field-edit{margin-top:23px;display:none;overflow:hidden}.formeo.formeo-editor .field-edit label{font-size:.85em}.formeo.formeo-editor .field-edit .panel-nav{margin-bottom:0;padding:0;overflow:hidden}.formeo.formeo-editor .field-edit.field-edit-options{list-style:decimal}.formeo.formeo-editor .field-edit .prop-controls{width:28px;height:28px;text-align:right;position:absolute;right:0;bottom:0;overflow:hidden;white-space:nowrap}.formeo.formeo-editor .field-edit .prop-controls .svg-icon{width:14px;height:14px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.formeo.formeo-editor .field-edit .prop-controls:hover .prop-control:first-child{border-radius:0 3px 3px 0}.formeo.formeo-editor .field-edit .prop-controls:hover .prop-control:last-child{display:inline-block}.formeo.formeo-editor .field-edit .prop-control{width:28px;height:28px;right:0;bottom:0;position:absolute;padding:0}.formeo.formeo-editor .field-edit .prop-control:first-of-type{right:0}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(2){right:28px}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(3){right:56px}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(4){right:84px}.formeo.formeo-editor .field-edit .prop-control:first-child{right:0}:not(.control-count-1) .formeo.formeo-editor .field-edit .prop-control:last-child{border-radius:3px 0 0 3px;margin-right:-1px;display:none}:not(.control-count-1) .formeo.formeo-editor .field-edit .prop-control:first-child{border-radius:3px}.formeo.formeo-editor .field-edit .prop-control:hover:first-child{border-radius:0 3px 3px 0}.formeo.formeo-editor .field-edit .prop-control:hover:first-child:last-child{border-radius:3px}.formeo.formeo-editor .field-edit .prop-control:hover:last-child{display:inline-block}.formeo.formeo-editor .field-edit .prop-control:last-child:first-child{display:inline-block;border-radius:3px;margin-right:0}.formeo.formeo-editor .field-edit .prop-wrap{position:relative;padding-right:31px;margin-bottom:10px;min-height:28px}.formeo.formeo-editor .field-edit .prop-wrap:last-child{margin-bottom:0}.formeo.formeo-editor .field-edit .field-edit-group{padding:10px}.formeo.formeo-editor .field-edit .prop-controls,.formeo.formeo-editor .field-edit .prop-inputs{transition:width .15s;will-change:width}.formeo.formeo-editor .field-edit .prop-controls .f-addon,.formeo.formeo-editor .field-edit .prop-controls input,.formeo.formeo-editor .field-edit .prop-controls select,.formeo.formeo-editor .field-edit .prop-controls textarea,.formeo.formeo-editor .field-edit .prop-inputs .f-addon,.formeo.formeo-editor .field-edit .prop-inputs input,.formeo.formeo-editor .field-edit .prop-inputs select,.formeo.formeo-editor .field-edit .prop-inputs textarea{font-size:.825em}.formeo.formeo-editor .field-edit .prop-inputs,.formeo.formeo-editor .field-edit .prop-inputs .f-field-group{width:100%;display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom}.formeo.formeo-editor .field-edit .prop-inputs .f-field-group{margin-bottom:0}.formeo.formeo-editor .field-edit .prop-inputs .f-checkbox{margin-top:7px;margin-bottom:0}.formeo.formeo-editor .field-edit .prop-inputs label{display:block}.formeo.formeo-editor .field-edit .control-count-2 .prop-controls:hover{width:56px}.formeo.formeo-editor .field-edit .control-count-2 .prop-controls:hover+.prop-inputs{width:calc(100% - 28px)}.formeo.formeo-editor .field-edit.panel-count-1 .panel-nav{border-bottom:1px solid #999}.formeo.formeo-editor .field-edit.panel-count-1 .panel-nav button{display:none}.formeo.formeo-editor .field-edit.panel-count-1 .panel-labels{background-color:transparent}.formeo.formeo-editor .options-panel .prop-wrap{margin-bottom:10px}.formeo.formeo-editor .options-panel .input-group-addon{line-height:0}.formeo.formeo-editor .options-panel .prop-labels{padding:10px 34px 10px 10px}.formeo.formeo-editor .options-panel .prop-labels .input-group-addon{font-size:12px}.formeo.formeo-editor .options-panel .prop-labels label{font-size:12px;width:50%;position:relative;display:table-cell}.formeo.formeo-editor .options-panel .prop-label-disabled,.formeo.formeo-editor .options-panel .prop-label-selected{width:1%!important;white-space:nowrap;vertical-align:middle;border:0 none;background-color:transparent}.formeo.formeo-editor .panel-action-buttons{padding:0 10px 10px}.formeo.formeo-editor .panel-action-buttons:after{content:\\"\\";display:table;clear:both}.formeo.formeo-editor .panel-action-buttons [class^=add-]{float:right}.formeo.formeo-editor .panels-wrap h5{margin:0;padding:.55em 0;color:#666;font-weight:400;display:inline-block;width:100%}.formeo.formeo-editor .panels-wrap nav{position:relative;padding:0;overflow:hidden}.formeo.formeo-editor .panels-wrap nav button{position:absolute;width:24px;color:#000;height:100%;padding:0;line-height:0;z-index:1}.formeo.formeo-editor .panels-wrap nav button:focus{outline:none;border:1px solid #66afe9;box-shadow:none}.formeo.formeo-editor .panels-wrap nav button .svg-icon{width:20px;height:20px}.formeo.formeo-editor .panels-wrap nav button.next-group{right:0;top:0;border-top-left-radius:0;border-bottom-left-radius:0}.formeo.formeo-editor .panels-wrap nav button.prev-group{left:0;top:0;border-top-right-radius:0;border-bottom-right-radius:0}.formeo.formeo-editor .panels-wrap .f-panel{vertical-align:top;display:inline-block;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 100%;flex:1 0 100%}.formeo.formeo-editor .panels-wrap .f-panel>li:last-child{border-radius:0 0 5px 5px}.formeo.formeo-editor .panels-wrap .panels{white-space:nowrap;transition-property:transform,height;transition-duration:.15s;transition-timing-function:ease-in-out;will-change:transform;-ms-flex-direction:row;flex-direction:row}.formeo.formeo-editor .panels-wrap .panel-labels{height:100%;background:#fff;overflow:hidden;text-align:center}.formeo.formeo-editor .panels-wrap .panel-labels div{transition:transform .15s ease-in-out;will-change:transform;white-space:nowrap}.formeo.formeo-editor .tabbed-panels .panel-nav{height:auto}.formeo.formeo-editor .tabbed-panels .panel-nav button{display:none}.formeo.formeo-editor .tabbed-panels .panels{transition:none}.formeo.formeo-editor .tabbed-panels .f-panel{background-color:#fff}.formeo.formeo-editor .tabbed-panels .panel-labels div{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex}.formeo.formeo-editor .tabbed-panels .panel-labels h5{-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;cursor:pointer;background-color:#ccc;box-shadow:inset 0 -1px 6px #999}.formeo.formeo-editor .tabbed-panels .panel-labels h5.active-tab{color:#000;box-shadow:none;background-color:#fff}.formeo.formeo-editor .stage-wrap{position:relative;float:right;width:calc(80% - 5px);box-sizing:border-box;transition:width .25s;margin-right:5px}@media (max-width:481px){.formeo.formeo-editor .stage-wrap{width:calc(100% - 50px)}}.formeo.formeo-editor .stage-wrap .stage{min-height:450px;transition-property:background-color,border-color;transition-duration:.5s,333ms;border:0 dashed transparent;background-color:hsla(0,0%,100%,0);padding-left:22px;padding-bottom:15px;overflow:visible}.formeo.formeo-editor .stage-wrap .stage.empty-stages{border:3px dashed #ccc;background-color:hsla(0,0%,100%,.25)}.formeo.formeo-editor .stage-wrap .stage.removing-all-fields .stage-rows{transition:margin-top .25s ease-in}.formeo.formeo-editor .stage-wrap.editing-stage .formeo-settings{display:block}.formeo.formeo-editor .stage-wrap.editing-stage .stage{display:none}.formeo.formeo-editor .stage-wrap .f-field-group{margin-bottom:0}.formeo.formeo-editor [class*=empty-][class*=editing-]:after{opacity:0}.formeo.formeo-editor [class*=empty-]:after{opacity:1;font-size:24px;position:absolute;top:50%;left:50%;color:#999;transition:opacity .2s ease-in-out;will-change:opacity;text-align:center;transform:translate(-50%,-50%);content:attr(data-hover-tag)}.formeo.formeo-editor .formeo-settings{display:none}.formeo.formeo-editor .formeo-controls{float:left;width:20%;overflow:hidden}.formeo.formeo-editor .formeo-controls.pull-left .form-actions{float:left}.formeo.formeo-editor .formeo-controls .filtered-term{background-color:#fff;text-align:center;border-radius:3px 3px 0 0;border:1px solid #ccc;border-bottom:0 none;width:calc(100% - 2px)}.formeo.formeo-editor .formeo-controls nav{position:relative;padding:0 23px;overflow:hidden}.formeo.formeo-editor .formeo-controls nav h5{font-size:13px;line-height:22px}.formeo.formeo-editor .formeo-controls nav button{position:absolute;width:23px;color:#000;height:calc(100% + 1px);padding:0;line-height:0;margin:0;border-color:#ccc}.formeo.formeo-editor .formeo-controls nav button.next-group{right:0;top:0;border-top-left-radius:0;border-top-right-radius:6px;border-bottom-left-radius:0;border-bottom-right-radius:0}.formeo.formeo-editor .formeo-controls nav button.prev-group{border-top-left-radius:6px;border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .panels-wrap{font-size:.85em;line-height:1.8em}.formeo.formeo-editor .formeo-controls .panel-labels{border-top:1px solid #ccc}.formeo.formeo-editor .formeo-controls .panel-count-1{border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .panel-count-1 .panel-nav{display:none}.formeo.formeo-editor .formeo-controls .panel-count-1 .control-group li:first-child{border-radius:6px 6px 0 0}.formeo.formeo-editor .formeo-controls .control-group{vertical-align:top;display:inline-block;width:100%;border-top:1px solid #ccc}.formeo.formeo-editor .formeo-controls .control-group>li:first-child{border-top-right-radius:0}.formeo.formeo-editor .formeo-controls .control-group>li:last-child{border-radius:0 0 6px 6px}.formeo.formeo-editor .formeo-controls.filtered .panel-nav{display:none}.formeo.formeo-editor .formeo-controls.filtered .control-group{display:block}.formeo.formeo-editor .formeo-controls.filtered .control-group>li{border-radius:0}.formeo.formeo-editor .formeo-controls.filtered .control-group:last-child>li:last-child{border-radius:0 0 0 3px}.formeo.formeo-editor .formeo-controls .control-groups{white-space:nowrap}.formeo.formeo-editor .formeo-controls .control-group-labels{height:100%;background:#fff;overflow:hidden}.formeo.formeo-editor .formeo-controls .control-group-labels div{white-space:nowrap}.formeo.formeo-editor .formeo-controls .control-group-labels h4{display:inline-block;width:100%}.formeo.formeo-editor .formeo-controls .form-actions{float:right;margin-top:5px}.formeo.formeo-editor .formeo-controls .form-actions .svg-icon{fill:#666;display:none}.formeo.formeo-editor .formeo-controls .form-actions .svg-icon:hover{fill:#000}.formeo.formeo-editor .formeo-controls .form-actions .clear-form:hover,.formeo.formeo-editor .formeo-controls .form-actions .save-form:hover{color:#fff}.formeo.formeo-editor .formeo-controls .form-actions .save-form:hover{background-color:#325d88}.formeo.formeo-editor .formeo-controls .form-actions .clear-form:hover{background-color:#d9534f}@media (max-width:481px){.formeo.formeo-editor .formeo-controls{width:45px}.formeo.formeo-editor .formeo-controls .control-group{text-indent:-9999px}.formeo.formeo-editor .formeo-controls .form-actions{display:inline-block;width:100%;position:relative;vertical-align:middle;float:none;margin-top:10px}.formeo.formeo-editor .formeo-controls .form-actions>button+button{margin-top:-1px;margin-left:0}.formeo.formeo-editor .formeo-controls .form-actions>button{max-width:100%;padding:10px;border-radius:0;line-height:0;width:100%;float:none;position:relative;display:block}.formeo.formeo-editor .formeo-controls .form-actions>button:not(:first-child):not(:last-child){border-radius:0}.formeo.formeo-editor .formeo-controls .form-actions>button:first-child:not(:last-child){border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .form-actions>button:last-child:not(:first-child){border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-top-right-radius:0;border-top-left-radius:0}.formeo.formeo-editor .formeo-controls .form-actions .glyphicon,.formeo.formeo-editor .formeo-controls .form-actions .svg-icon{display:inline-block;margin-right:10px}}.formeo.formeo-editor .formeo-controls .field-control .svg-icon{pointer-events:none}.formeo.formeo-editor[dir=rtl] input[type=checkbox]+.checkable:after,.formeo.formeo-editor[dir=rtl] input[type=checkbox]+.checkable:before,.formeo.formeo-editor[dir=rtl] input[type=radio]+.checkable:after,.formeo.formeo-editor[dir=rtl] input[type=radio]+.checkable:before{right:0;left:auto}.formeo.formeo-editor[dir=rtl] .f-btn-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.formeo.formeo-editor[dir=rtl] .f-btn-group>button{-ms-flex:0 1 auto;flex:0 1 auto}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:last-child:not(:first-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0;border-bottom-left-radius:3px;border-top-left-radius:3px}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:first-child{margin-left:0}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-left-radius:0;border-top-left-radius:0;border-bottom-right-radius:3px;border-top-right-radius:3px}.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group+button,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical .f-btn-group+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical .f-btn-group+button,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical button+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical button+button,.formeo.formeo-editor[dir=rtl] .f-btn-group button+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group button+button{margin-right:-1px}.formeo.formeo-editor[dir=rtl] .formeo-controls,.formeo.formeo-editor[dir=rtl] .formeo-controls .form-actions{float:left}.formeo.formeo-editor[dir=rtl] .stage-wrap{float:right}.formeo.formeo-editor[dir=rtl] .stage-wrap .stage{padding-left:5px;padding-right:23px}.formeo.formeo-editor[dir=rtl] .stage-rows:before{border-bottom-left-radius:6px;border-bottom-right-radius:0;right:0;left:auto}.formeo.formeo-editor[dir=rtl] .stage-rows:first-child{border-top-left-radius:5px;border-top-right-radius:0}.formeo.formeo-editor[dir=rtl] .stage-rows:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row:first-child{border-top-left-radius:0}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row.editing-row:before{border-left-width:0;border-right-width:auto}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row:before{border-left-width:1px}.formeo.formeo-editor[dir=rtl] .stage-rows.empty-rows:after{left:0;right:auto}.formeo.formeo-editor[dir=rtl] .row-actions{right:-23px;left:auto;border-top-right-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:0;border-bottom-left-radius:0;border-left:1px solid #fff}.formeo.formeo-editor[dir=rtl] .field-actions{text-align:left;left:0;right:auto;border-bottom-right-radius:3px;border-bottom-left-radius:0}.formeo.formeo-editor[dir=rtl] .field-actions button:first-of-type{left:0;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(2){left:23px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(3){left:46px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(4){left:69px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(5){left:92px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(6){left:115px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:first-child{left:0}.formeo.formeo-editor[dir=rtl] .stage-fields.editing-field .field-actions,.formeo.formeo-editor[dir=rtl] .stage-fields.hovering-field .field-actions{box-shadow:1px 1px 1px #ccc;border-width:1px 0 0 1px}.formeo.formeo-render .f-row{margin-bottom:1em;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex;background-color:transparent;border-radius:6px;transition:background-color .2s}.formeo.formeo-render .f-row.will-remove{background-color:rgba(217,83,79,.5);box-shadow:inset 0 0 3px 1px #d9534f}.formeo.formeo-render .f-input-group-wrap:after{content:\\"\\";display:table;clear:both}.formeo.formeo-render .f-input-group{position:relative}.formeo.formeo-render .f-input-group:first-child .remove-input-group{display:none}.formeo.formeo-render .add-input-group{float:right;margin-top:10px}.formeo.formeo-render .remove-input-group{position:absolute;left:-32px;transform:translateY(-50%);width:32px;height:32px;top:50%;border:0 none;background:transparent;outline:0 none;line-height:0}.formeo.formeo-render .remove-input-group:hover .svg-icon{fill:#d9534f}.formeo.formeo-render .remove-input-group .svg-icon{pointer-events:none}.formeo.formeo-render .form-check-input:only-child{position:absolute}.formeo.formeo-render .svg-icon{max-width:100%;max-height:100%}.formeo.formeo-render .f-render-column{padding:0 5px;float:left;display:inline-block;max-width:none;-ms-flex-direction:column;flex-direction:column;-ms-flex:auto;flex:auto}.field-control .svg-icon{pointer-events:none}", ""]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL3NyYy9zYXNzL2Zvcm1lby5zY3NzPzU0NDUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGtleWZyYW1lcyBQTEFDRUhPTERFUnswJXtoZWlnaHQ6MXB4fXRve2hlaWdodDoxNXB4fX1Aa2V5ZnJhbWVzIERSQUdfR0hPU1R7MCV7Ym94LXNoYWRvdzowIDAgMCAwICM5OTl9dG97Ym94LXNoYWRvdzowIDAgMzBweCAwICM5OTl9fUBrZXlmcmFtZXMgRURJVF9QVUxTRXswJSx0b3tib3JkZXItY29sb3I6IzY2YWZlOX01MCV7Ym9yZGVyLWNvbG9yOiNiZmRlZjZ9fS5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93Oy1tcy1mbGV4LXBhY2s6c3RhcnQ7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7LW1zLWZsZXgtd3JhcDpub3dyYXA7ZmxleC13cmFwOm5vd3JhcDstbXMtZmxleC1saW5lLXBhY2s6c3RyZXRjaDthbGlnbi1jb250ZW50OnN0cmV0Y2g7LW1zLWZsZXgtYWxpZ246c3RyZXRjaDthbGlnbi1pdGVtczpzdHJldGNofS5mb3JtZW8gLmYtYWRkb24sLmZvcm1lbyBpbnB1dCwuZm9ybWVvIHNlbGVjdCwuZm9ybWVvIHRleHRhcmVhe21hcmdpbjowO2JvcmRlcjoxcHggc29saWQgI2NjYzt3aWR0aDoxMDAlO2hlaWdodDo0MHB4O3BhZGRpbmc6MCAyMHB4fS5mb3JtZW8gLmYtYWRkb246Zm9jdXMsLmZvcm1lbyBpbnB1dDpmb2N1cywuZm9ybWVvIHNlbGVjdDpmb2N1cywuZm9ybWVvIHRleHRhcmVhOmZvY3Vze2JvcmRlcjoxcHggc29saWQgIzY2YWZlOTtvdXRsaW5lOm5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0LWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIHVsLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgdWwsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuc3RhZ2V7bWFyZ2luOjA7cGFkZGluZzowO2xpc3Qtc3R5bGU6bm9uZX0uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb117b3BhY2l0eTowO3dpZHRoOjA7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OmF1dG99LmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZXtwYWRkaW5nLWxlZnQ6MS41ZW07Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246cmVsYXRpdmV9LmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF0rLmNoZWNrYWJsZTpiZWZvcmUsLmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXSsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmlubGluZS1ibG9jaztsZWZ0OjA7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTtmb250LXNpemU6MWVtO2xpbmUtaGVpZ2h0OjFlbTtjb2xvcjp0cmFuc3BhcmVudDtmb250LWZhbWlseTpzYW5zO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjFlbTtoZWlnaHQ6MWVtO2JvcmRlci1yYWRpdXM6MnB4fS5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF0rLmNoZWNrYWJsZTpiZWZvcmUsLmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXSsuY2hlY2thYmxlOmJlZm9yZXtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjNjY2fS5mb3JtZW8gaW5wdXQ6Zm9jdXNbdHlwZT1jaGVja2JveF0rLmNoZWNrYWJsZTpiZWZvcmUsLmZvcm1lbyBpbnB1dDpmb2N1c1t0eXBlPXJhZGlvXSsuY2hlY2thYmxlOmJlZm9yZXtib3JkZXI6MXB4IHNvbGlkICM2NmFmZTl9LmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTphZnRlcntjb250ZW50OlxcXCJcXFxcMjcxNFxcXCI7YmFja2dyb3VuZDpub25lO3Zpc2liaWxpdHk6aGlkZGVuO29wYWNpdHk6MDtmb250LXNpemU6MS4xNWVtO2NvbG9yOiMwMDB9LmZvcm1lbyBpbnB1dDpjaGVja2VkW3R5cGU9Y2hlY2tib3hdKy5jaGVja2FibGU6YWZ0ZXIsLmZvcm1lbyBpbnB1dDpjaGVja2VkW3R5cGU9cmFkaW9dKy5jaGVja2FibGU6YWZ0ZXJ7Y29sb3I6IzY2NjtiYWNrZ3JvdW5kOm5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnM6YmVmb3JlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3M6YmVmb3Jle2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjA7cGFkZGluZzowO2hlaWdodDoyMXB4O2xpbmUtaGVpZ2h0OjIzcHg7dGV4dC1hbGlnbjpjZW50ZXI7b3ZlcmZsb3c6aGlkZGVuO3otaW5kZXg6MTAwO3RyYW5zaXRpb24tcHJvcGVydHk6d2lkdGg7dHJhbnNpdGlvbi1kdXJhdGlvbjouMTVzO2NvbnRlbnQ6YXR0cihkYXRhLWhvdmVyLXRhZyk7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5maWVsZC1jb250cm9sLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9se2N1cnNvcjptb3ZlO2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46LTFweCAwIDA7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO3RleHQtYWxpZ246bGVmdDtiYWNrZ3JvdW5kOiNmZmY7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5jb250cm9sLW1vdmluZy5maWVsZC1jb250cm9sLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5jb250cm9sLW1vdmluZy5maWVsZC1jb250cm9se2JvcmRlci1yYWRpdXM6NnB4O2FuaW1hdGlvbjpEUkFHX0dIT1NUIC41cyBmb3J3YXJkc30uZmllbGQtY29udHJvbDpiZWZvcmUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2w6YmVmb3Jle21hcmdpbi1yaWdodDoxMHB4O2ZvbnQtc2l6ZToxNnB4fS5maWVsZC1jb250cm9sOmhvdmVyLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YyZjJmMn0uZmllbGQtY29udHJvbCBidXR0b24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgYnV0dG9ue2JveC1zaXppbmc6Ym9yZGVyLWJveDtmb250LXNpemU6MWVtO2xpbmUtaGVpZ2h0OjEuOGVtO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowIG5vbmU7dGV4dC1hbGlnbjpsZWZ0O3BhZGRpbmc6NnB4O2JvcmRlci1yYWRpdXM6MH0uZmllbGQtY29udHJvbCBidXR0b246Zm9jdXMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgYnV0dG9uOmZvY3Vze291dGxpbmU6MCBub25lO2JhY2tncm91bmQtY29sb3I6I2YyZjJmMjtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjNjZhZmU5O2JvcmRlci1yYWRpdXM6MCFpbXBvcnRhbnR9LmZpZWxkLWNvbnRyb2wgYnV0dG9uOmFjdGl2ZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b246YWN0aXZle3RyYW5zZm9ybTpub25lfS5maWVsZC1jb250cm9sIGJ1dHRvbjpob3ZlciwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b246aG92ZXJ7ZmlsdGVyOm5vbmV9LmZpZWxkLWNvbnRyb2wgLmdseXBoaWNvbiwuZmllbGQtY29udHJvbCBzdmcsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgLmdseXBoaWNvbiwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBzdmd7ZmxvYXQ6bGVmdDttYXJnaW4tcmlnaHQ6MTBweH0uZmllbGQtY29udHJvbCAuZ2x5cGhpY29uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIC5nbHlwaGljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtsaW5lLWhlaWdodDoyMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIFtkaXI9cnRsXSAuZmllbGQtY29udHJvbCBidXR0b24sW2Rpcj1ydGxdIC5maWVsZC1jb250cm9sIGJ1dHRvbixbZGlyPXJ0bF0gLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgYnV0dG9ue3RleHQtYWxpZ246cmlnaHQhaW1wb3J0YW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIFtkaXI9cnRsXSAuZmllbGQtY29udHJvbCBzdmcsW2Rpcj1ydGxdIC5maWVsZC1jb250cm9sIHN2ZyxbZGlyPXJ0bF0gLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgc3Zne2Zsb2F0OnJpZ2h0IWltcG9ydGFudDttYXJnaW46MCAwIDAgMTBweCFpbXBvcnRhbnR9LmZvcm1lbyBidXR0b257Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjFweCBzb2xpZCAjNjY2O2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZmZmO3BhZGRpbmc6LjVlbSAxZW19LmZvcm1lbyBidXR0b246YWN0aXZle3RyYW5zZm9ybTpzY2FsZSguOTcpfS5mb3JtZW8gYnV0dG9uOmhvdmVye2ZpbHRlcjpicmlnaHRuZXNzKC45KX0uc3ZnLWljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDtwb2ludGVyLWV2ZW50czpub25lfS5pY29uLXJlbW92ZTpob3ZlcntmaWxsOiNkOTUzNGZ9YnV0dG9uW2NsYXNzKj0tcmVtb3ZlXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGYhaW1wb3J0YW50fWJ1dHRvbltjbGFzcyo9LXJlbW92ZV06aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2ZmZn1idXR0b25bY2xhc3MqPS1jbG9uZV06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojOTNjNTRiIWltcG9ydGFudH1idXR0b25bY2xhc3MqPS1jbG9uZV06aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2ZmZn0uaXRlbS1lZGl0LXRvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMzMjVkODghaW1wb3J0YW50fS5pdGVtLWVkaXQtdG9nZ2xlOmhvdmVyIC5zdmctaWNvbntmaWxsOiNmZmZ9LmZvcm1lbyAqe2JveC1zaXppbmc6aW5oZXJpdH0uZm9ybWVvIC5waWxsLWJ1dHRvbnM+YnV0dG9ue2JvcmRlci1yYWRpdXM6NTBweH0uZm9ybWVvIGhye21hcmdpbi10b3A6MXJlbTttYXJnaW4tYm90dG9tOjFyZW07Ym9yZGVyOjA7Ym9yZGVyLXRvcDoxcHggc29saWQgI2NjY30uZm9ybWVvIC5mLWZpZWxkLWdyb3Vwey1tcy1mbGV4LXdyYXA6d3JhcDtmbGV4LXdyYXA6d3JhcDttYXJnaW4tYm90dG9tOjhweH0uZm9ybWVvIC5mLWZpZWxkLWdyb3VwIGxhYmVsKy5iYWRnZXttYXJnaW4tbGVmdDoxMHB4fS5mb3JtZW8gLmYtZmllbGQtZ3JvdXA+bGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWJvdHRvbToxMHB4fS5mb3JtZW8gLmYtZmllbGQtZ3JvdXAgYnV0dG9ue21hcmdpbi1yaWdodDo1cHh9LmZvcm1lbyBpbnB1dFt0eXBlPWRhdGVde21heC13aWR0aDoyODBweDtkaXNwbGF5OmJsb2NrfS5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7Ym9yZGVyLXJhZGl1czoyZW19LmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkKy5jaGVja2FibGU6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtiYWNrZ3JvdW5kOiM2NjY7dHJhbnNmb3JtOnNjYWxlKC41KSB0cmFuc2xhdGVZKC0xMDAlKTtib3JkZXItcmFkaXVzOjUwJX0uZm9ybWVvIHRleHRhcmVhe2hlaWdodDphdXRvfS5mb3JtZW8gYnV0dG9ue2xpbmUtaGVpZ2h0OjEuNWVtfS5mb3JtZW8gYnV0dG9uLmVycm9yLC5mb3JtZW8gYnV0dG9uLnByaW1hcnksLmZvcm1lbyBidXR0b24uc3VjY2VzcywuZm9ybWVvIGJ1dHRvbi53YXJuaW5ne2NvbG9yOiNmZmZ9LmZvcm1lbyBidXR0b24ucHJpbWFyeXtiYWNrZ3JvdW5kLWNvbG9yOiMzMjVkODg7Ym9yZGVyLWNvbG9yOiMyNDQ0NjN9LmZvcm1lbyBidXR0b24uc3VjY2Vzc3tiYWNrZ3JvdW5kLWNvbG9yOiM5M2M1NGI7Ym9yZGVyLWNvbG9yOiM3OWE3MzZ9LmZvcm1lbyBidXR0b24ud2FybmluZ3tiYWNrZ3JvdW5kLWNvbG9yOiNmNDdjM2M7Ym9yZGVyLWNvbG9yOiNlZjVjMGV9LmZvcm1lbyBidXR0b24uZXJyb3J7YmFja2dyb3VuZC1jb2xvcjojZDk1MzRmO2JvcmRlci1jb2xvcjojYzkzMDJjfS5mb3JtZW8gYnV0dG9uW2Rpc2FibGVkXXtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7Y29sb3I6I2ZmZn0uZm9ybWVvIGJ1dHRvbjpmb2N1c3tib3JkZXI6MXB4IHNvbGlkICM2NmFmZTl9LmZvcm1lbyBidXR0b246Zm9jdXMsLmZvcm1lbyBidXR0b246aG92ZXJ7b3V0bGluZTowIG5vbmV9LmZvcm1lbyAuZi1hZGRvbnt3aWR0aDphdXRvfS5mb3JtZW8gLmYtYWRkb24gbGFiZWx7bWFyZ2luOjFweCAwIDAgM3B4fS5mb3JtZW8gLmYtYWRkb246bGFzdC1jaGlsZHttYXJnaW4tbGVmdDotMXB4fS5mb3JtZW8gLmYtYnRuLWdyb3Vwe2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7dmVydGljYWwtYWxpZ246bWlkZGxlfS5mb3JtZW8gLmYtYnRuLWdyb3VwPmJ1dHRvbnstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvfS5mb3JtZW8gLmYtYnRuLWdyb3VwPmJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItcmFkaXVzOjB9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOmxhc3QtY2hpbGQ6bm90KDpmaXJzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOmZpcnN0LWNoaWxke21hcmdpbi1sZWZ0OjB9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOmZpcnN0LWNoaWxkOm5vdCg6bGFzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uZm9ybWVvIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCsuZi1idG4tZ3JvdXAsLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIGJ1dHRvbisuZi1idG4tZ3JvdXAsLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIGJ1dHRvbitidXR0b24sLmZvcm1lbyAuZi1idG4tZ3JvdXAgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvIC5mLWJ0bi1ncm91cCBidXR0b24rYnV0dG9ue21hcmdpbi1sZWZ0Oi0xcHh9LmZvcm1lbyAuZi1jaGVja2JveCwuZm9ybWVvIC5mLXJhZGlve21hcmdpbi1ib3R0b206NXB4fS5mb3JtZW8gLmYtaW5wdXQtZ3JvdXB7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDt2ZXJ0aWNhbC1hbGlnbjpib3R0b219LmZvcm1lbyAuZi1pbnB1dC1ncm91cCBpbnB1dCtpbnB1dCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIGlucHV0K3NlbGVjdCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdCtzZWxlY3R7bWFyZ2luLWxlZnQ6LTFweH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdHstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMFpXUWdZbmtnU1dOdlRXOXZiaTVwYnlBdExUNEtQQ0ZFVDBOVVdWQkZJSE4yWnlCUVZVSk1TVU1nSWkwdkwxY3pReTh2UkZSRUlGTldSeUF4TGpFdkwwVk9JaUFpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2UjNKaGNHaHBZM012VTFaSEx6RXVNUzlFVkVRdmMzWm5NVEV1WkhSa0lqNEtQSE4yWnlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXpNaUlnZG1sbGQwSnZlRDBpTUNBd0lESTBJRE15SWo0S1BIQmhkR2dnWm1sc2JEMGlJelEwTkNJZ1pEMGlUVEFnTVRKc01URXVPVGt5SURFeExqazVNaUF4TVM0NU9USXRNVEV1T1RreWFDMHlNeTQ1T0RSNklqNDhMM0JoZEdnK0Nqd3ZjM1puUGdvPVxcXCIpO2JhY2tncm91bmQtcG9zaXRpb246cmlnaHQgMTBweCB0b3AgMnB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6MTZweH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBzZWxlY3R7LW1zLWZsZXg6MCAxIGF1dG87ZmxleDowIDEgYXV0bztib3JkZXItcmFkaXVzOjB9LmZvcm1lbyAuZi1pbnB1dC1ncm91cCAuZi1hZGRvbjpsYXN0LWNoaWxkLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6bGFzdC1jaGlsZCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdDpsYXN0LWNoaWxke2JvcmRlci1yaWdodC13aWR0aDoxcHg7Ym9yZGVyLXJhZGl1czowIDNweCAzcHggMH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uOmZpcnN0LWNoaWxkLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6Zmlyc3QtY2hpbGQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBzZWxlY3Q6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czozcHggMCAwIDNweDtib3JkZXItbGVmdC13aWR0aDoxcHh9LmZvcm1lbyAuZi1pbnB1dC1ncm91cCAuZi1hZGRvbjpmb2N1cytpbnB1dCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uOmZvY3VzK3NlbGVjdCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIGlucHV0OmZvY3VzK2lucHV0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6Zm9jdXMrc2VsZWN0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0OmZvY3VzK2lucHV0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0OmZvY3VzK3NlbGVjdHtib3JkZXItbGVmdDoxcHggc29saWQgIzY2YWZlOX0uZm9ybWVvIC50ZXh0LXByaW1hcnl7Y29sb3I6IzMyNWQ4OH0uZm9ybWVvIC50ZXh0LXN1Y2Nlc3N7Y29sb3I6IzkzYzU0Yn0uZm9ybWVvIC50ZXh0LXdhcm5pbmd7Y29sb3I6I2Y0N2MzY30uZm9ybWVvIC50ZXh0LWVycm9ye2NvbG9yOiNkOTUzNGZ9LmZvcm1lbzphZnRlcntjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnN7bWluLXdpZHRoOjIzcHg7d2lkdGg6MjNweDtoZWlnaHQ6MjNweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjF9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIGJ1dHRvbnt3aWR0aDoyM3B4O2hlaWdodDoyM3B4O3BhZGRpbmc6NnB4O2JvcmRlcjowIG5vbmU7bGluZS1oZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyBidXR0b246Zm9jdXN7Ym9yZGVyOjAgbm9uZTtvdXRsaW5lOjAgbm9uZTtib3gtc2hhZG93Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5zdmctaWNvbnt3aWR0aDoxMS41cHg7aGVpZ2h0OjExLjVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgLmljb24taGFuZGxle29wYWNpdHk6LjV9Lmxhc3QtZmllbGQgLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIGJ1dHRvbjpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1lZGl0aW5nLWZpZWxkIC5jb2x1bW4tYWN0aW9ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgLmljb24tY29weSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgLmljb24tbWVudSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgLmljb24tbW92ZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgLmljb24tbW92ZS12ZXJ0aWNhbHtkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuZWRpdGluZy1maWVsZCAuZmllbGQtYWN0aW9ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5ob3ZlcmluZy1maWVsZCAuZmllbGQtYWN0aW9uc3tib3gtc2hhZG93Oi0xcHggMXB4IDFweCAjY2NjO2JvcmRlci1jb2xvcjojOTNjNTRiO2JvcmRlci13aWR0aDoxcHggMXB4IDAgMDtib3JkZXItc3R5bGU6c29saWR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1jb2x1bW4gLmZpZWxkLWFjdGlvbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1yb3cgLmZpZWxkLWFjdGlvbnN7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctY29sdW1uIC5yb3ctYWN0aW9ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLXJvdyAucm93LWFjdGlvbnN7ei1pbmRleDoxMH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnN7cmlnaHQ6MDt0ZXh0LWFsaWduOnJpZ2h0O3RyYW5zaXRpb246d2lkdGggLjE1cztib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjNweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO3dpbGwtY2hhbmdlOndpZHRofS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b257Ym9yZGVyLXJhZGl1czowO3Bvc2l0aW9uOmFic29sdXRlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246Zmlyc3Qtb2YtdHlwZXtyaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoMil7cmlnaHQ6MjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDMpe3JpZ2h0OjQ2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg0KXtyaWdodDo2OXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNSl7cmlnaHQ6OTJweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDYpe3JpZ2h0OjExNXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGR7cmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWNvbmZpZ3tkaXNwbGF5Om5vbmU7cGFkZGluZzouNXJlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5jb2x1bW4tYWN0aW9uc3tkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9uc3t3aWR0aDoyM3B4O2hlaWdodDoyM3B4O3BhZGRpbmc6MDtyaWdodDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTJweCk7ei1pbmRleDoxO3RyYW5zaXRpb246d2lkdGggLjE1c30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIC5hY3Rpb24tYnRuLXdyYXB7cG9zaXRpb246cmVsYXRpdmU7d2hpdGUtc3BhY2U6bm93cmFwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGV7cmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgyKXtyaWdodDoyM3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDMpe3JpZ2h0OjQ2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNCl7cmlnaHQ6NjlweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg1KXtyaWdodDo5MnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDYpe3JpZ2h0OjExNXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7cmlnaHQ6MH0uaG92ZXJpbmctY29sdW1uIC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5ob3ZlcmluZy1jb2x1bW4gLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctY29sdW1uIC5jb2x1bW4tYWN0aW9ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLWNvbHVtbiAuY29sdW1uLWFjdGlvbnN7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoNTAlKTt3aWR0aDphdXRvO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLWNvbHVtbiAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxkLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctY29sdW1uIC5jb2x1bW4tYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6M3B4O3JpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLWNvbHVtbiAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmxhc3QtY2hpbGQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1jb2x1bW4gLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpsYXN0LWNoaWxke2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucm93LWFjdGlvbnN7d2lkdGg6MjNweDtoZWlnaHQ6MjNweDtsZWZ0Oi0yMnB4O3RleHQtYWxpZ246cmlnaHQ7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo2cHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo2cHg7dHJhbnNpdGlvbjpoZWlnaHQgLjE1cyBlYXNlLWluLW91dDt3aGl0ZS1zcGFjZTpub3JtYWw7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yaWdodDoxcHggc29saWQgI2ZmZn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnJvdy1hY3Rpb25zIC5pdGVtLWhhbmRsZSAuaWNvbi1oYW5kbGV7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5yb3ctYWN0aW9ucyBidXR0b257Ym9yZGVyLXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnJvdy1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctcm93IC5yb3ctYWN0aW9uc3tib3JkZXI6MXB4IHNvbGlkICMzMjVkODh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAucm93LWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxkLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctcm93IC5yb3ctYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciBbY2xhc3MqPWhvdmVyaW5nLV0+Lmdyb3VwLWFjdGlvbnMgLnN2Zy1pY29uLmljb24tY29weSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1ob3ZlcmluZy1dPi5ncm91cC1hY3Rpb25zIC5zdmctaWNvbi5pY29uLW1lbnUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9aG92ZXJpbmctXT4uZ3JvdXAtYWN0aW9ucyAuc3ZnLWljb24uaWNvbi1tb3ZlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciBbY2xhc3MqPWhvdmVyaW5nLV0+Lmdyb3VwLWFjdGlvbnMgLnN2Zy1pY29uLmljb24tbW92ZS12ZXJ0aWNhbHtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9aG92ZXJpbmctXT4uZ3JvdXAtYWN0aW9ucyAuc3ZnLWljb24uaWNvbi1oYW5kbGV7ZGlzcGxheTpub25lIWltcG9ydGFudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3N7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDEyNW1zIGVhc2UtaW4tb3V0O3Bvc2l0aW9uOnJlbGF0aXZlO2NsZWFyOmJvdGg7bWFyZ2luLWxlZnQ6MDttYXJnaW4tYm90dG9tOjZweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzo1cHg7bWluLWhlaWdodDozNHB4O2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICNjY2N9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZGlzcGxheTp0YWJsZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3M6YmVmb3Jle2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjZweDtib3JkZXI6MXB4IHNvbGlkICMzMjVkODg7Ym9yZGVyLXdpZHRoOjFweCAwO2xlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3M6YWZ0ZXJ7Y2xlYXI6Ym90aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuY29udHJvbC1naG9zdHtwYWRkaW5nOjEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzOmZpcnN0LWNoaWxke2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjVweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzOmxhc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NXB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5ob3ZlcmluZy1yb3c6Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5ob3ZlcmluZy1yb3c6YmVmb3Jle3dpZHRoOjEwMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5ob3ZlcmluZy1yb3cgLnN0YWdlLWNvbHVtbnN7b3BhY2l0eTouNX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuZWRpdGluZy1yb3csLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmVkaXRpbmctcm93IC5yb3ctZWRpdHtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5yZXNpemluZy1jb2x1bW5zIC5zdGFnZS1jb2x1bW5ze3RyYW5zaXRpb246bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuZWRpdGluZy1yb3cuaG92ZXJpbmctcm93IC5zdGFnZS1jb2x1bW5ze29wYWNpdHk6MX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuZWRpdGluZy1yb3d7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzMyNWQ4OH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuZWRpdGluZy1yb3c6YmVmb3Jle2JvcmRlci13aWR0aDoxcHggMCAwO3dpZHRoOjgwcHghaW1wb3J0YW50O2NvbnRlbnQ6YXR0cihkYXRhLWVkaXRpbmctaG92ZXItdGFnKX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93e2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMzMjVkODh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdy5lZGl0aW5nLXJvdzpiZWZvcmV7Ym9yZGVyLXJpZ2h0LXdpZHRoOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdzpiZWZvcmV7Ym94LXNoYWRvdzoxcHggMXB4IDFweCAjY2NjO2JvcmRlci1yaWdodC13aWR0aDoxcHg7d2lkdGg6ODBweCFpbXBvcnRhbnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLnJvdy1tb3Zpbmd7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzMyNWQ4OCwwIDAgMzBweCAwICM5OTl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmVtcHR5LXJvd3M6YWZ0ZXJ7bGVmdDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTBweCwtNTAlKX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MgLmxheW91dC1yb3ctY29udHJvbHtkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5yb3ctZWRpdHtwYWRkaW5nLXRvcDoycmVtfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaW5wdXQtZ3JvdXAtYWRkb24gbGFiZWx7bWFyZ2luLWJvdHRvbTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uc3t0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgMTI1bXMgZWFzZS1pbi1vdXQsYm94LXNoYWRvdyAxMjVtcyx3aWR0aCAuMjVzO3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtd2lkdGg6bm9uZTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleDphdXRvO2ZsZXg6YXV0bzt3aWxsLWNoYW5nZTp3aWR0aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnNbY2xhc3MqPWNvbC1de3BhZGRpbmc6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnM6Zmlyc3Qtb2YtdHlwZXtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zOmxhc3Qtb2YtdHlwZXtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo1cHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zOmxhc3Qtb2YtdHlwZSAucmVzaXplLXgtaGFuZGxle2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGV7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0Oi04cHg7dG9wOjA7Ym90dG9tOjA7d2lkdGg6MTZweDt6LWluZGV4OjI7Y3Vyc29yOmV3LXJlc2l6ZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZTpiZWZvcmV7d2lkdGg6MDtyaWdodDo2cHg7Ym9yZGVyOjFweCBkYXNoZWQgIzI5YWJlMDtib3JkZXItd2lkdGg6MCAycHg7ZGlzcGxheTpibG9jazt0b3A6MDtwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MTAwJTtjb250ZW50OlxcXCJcXFwifS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucyAucmVzaXplLXgtaGFuZGxlIHN2Z3tmaWxsOiMyOWFiZTA7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MXB4O3dpZHRoOjE0cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGUgc3ZnLmljb24tdHJpYW5nbGUtZG93bnt0b3A6LTE0cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGUgc3ZnLmljb24tdHJpYW5nbGUtdXB7Ym90dG9tOi0xNHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uczpiZWZvcmV7dHJhbnNpdGlvbi1wcm9wZXJ0eTpoZWlnaHQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouMTVzO3BhZGRpbmc6MCAxMHB4O2xlZnQ6NTAlO3RvcDoxcHg7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC0xMDAlKTt3aWR0aDphdXRvO2hlaWdodDowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6NXB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuaG92ZXJpbmctY29sdW1uOmZpcnN0LWNoaWxke2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuaG92ZXJpbmctY29sdW1uIC5zdGFnZS1maWVsZHN7b3BhY2l0eTouNX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuaG92ZXJpbmctY29sdW1uOmFmdGVye29wYWNpdHk6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuZWRpdGluZy1jb2x1bW4sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmhvdmVyaW5nLWNvbHVtbntib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMjlhYmUwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5lZGl0aW5nLWNvbHVtbjpiZWZvcmUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmhvdmVyaW5nLWNvbHVtbjpiZWZvcmV7aGVpZ2h0OjIzcHg7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMjlhYmUwO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjMjlhYmUwO2JvcmRlci10b3A6MXB4IHNvbGlkICMyOWFiZTB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmNvbHVtbi1tb3Zpbmd7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzI5YWJlMCwwIDAgMzBweCAwICM5OTl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmVkaXRpbmctY29sdW1ue292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuZWRpdGluZy1jb2x1bW4gLmNvbHVtbi1lZGl0e2Rpc3BsYXk6YmxvY2t9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuZW1wdHktY29sdW1ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5zdGFnZS1jb2x1bW5ze2Rpc3BsYXk6dGFibGUtY2VsbDtib3JkZXItcmFkaXVzOjVweDtoZWlnaHQ6NjBweDtiYWNrZ3JvdW5kLWNvbG9yOiNlNmU2ZTZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuZW1wdHktY29sdW1ucy5lbXB0eS1jb2x1bW5zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnN0YWdlLWNvbHVtbnMuZW1wdHktY29sdW1uc3ttaW4taGVpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuZW1wdHktY29sdW1ucyAuc3RhZ2UtZmllbGRzLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnN0YWdlLWNvbHVtbnMgLnN0YWdlLWZpZWxkc3tkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuZW1wdHktY29sdW1ucyAucmVzaXplLXgtaGFuZGxlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnN0YWdlLWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZXtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLmVtcHR5LWNvbHVtbnM6YWZ0ZXIsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuc3RhZ2UtY29sdW1uczphZnRlcntjb2xvcjojMzMzIWltcG9ydGFudDtsaW5lLWhlaWdodDoxZW07b3BhY2l0eToxO2ZvbnQtc2l6ZToxLjFlbTtjb250ZW50OmF0dHIoZGF0YS1jb2wtd2lkdGgpIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7bWFyZ2luLXRvcDowO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1maWVsZC1wcmV2aWV3IC5jb2x1bW4tYWN0aW9uc3tkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHN7bWluLWhlaWdodDoyNnB4O3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6NXB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAxMjVtcyBlYXNlLWluLW91dH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maXJzdC1maWVsZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maXJzdC1maWVsZCAuZmllbGQtYWN0aW9uc3tib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMubGFzdC1maWVsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czozcHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgW2NvbnRlbnRlZGl0YWJsZV17cGFkZGluZzoxcHggMXB4IDA7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjI1cztib3JkZXItYm90dG9tOjFweCBkYXNoZWQgI2NjYzstd2Via2l0LXVzZXItc2VsZWN0OnRleHQ7LW1vei11c2VyLXNlbGVjdDp0ZXh0Oy1tcy11c2VyLXNlbGVjdDp0ZXh0O3VzZXItc2VsZWN0OnRleHR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgW2NvbnRlbnRlZGl0YWJsZV06Zm9jdXN7Ym9yZGVyOjFweCBzb2xpZCAjNjZhZmU5O291dGxpbmU6bm9uZTtwYWRkaW5nOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgLmZvcm0tY2hlY2t7bWFyZ2luLWxlZnQ6MS4yNWVtfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzIC5mb3JtLWNoZWNrLWlucHV0Om9ubHktY2hpbGR7cG9zaXRpb246YWJzb2x1dGV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHM6YmVmb3Jle2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtwYWRkaW5nOjAgMTBweDtyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC02OXB4KTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmVkaXRpbmctZmllbGQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuaG92ZXJpbmctZmllbGR7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzkzYzU0Yn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5lZGl0aW5nLWZpZWxkOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5ob3ZlcmluZy1maWVsZDpiZWZvcmV7bGluZS1oZWlnaHQ6MjNweCFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICM5M2M1NGI7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzkzYzU0Yn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maWVsZC1tb3Zpbmd7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzkzYzU0YiwwIDAgMzBweCAwICM5OTk7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmVkaXRpbmctZmllbGR7YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2O3otaW5kZXg6MX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maWVsZC10eXBlLWhpZGRlbntib3JkZXI6MXB4IGRhc2hlZCAjY2NjfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1maWVsZC1wcmV2aWV3IC5maWVsZC1hY3Rpb25ze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLXByZXZpZXcgcHt3aGl0ZS1zcGFjZTpub3JtYWx9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0e21hcmdpbi10b3A6MjNweDtkaXNwbGF5Om5vbmU7b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCBsYWJlbHtmb250LXNpemU6Ljg1ZW19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wYW5lbC1uYXZ7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW59LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0LmZpZWxkLWVkaXQtb3B0aW9uc3tsaXN0LXN0eWxlOmRlY2ltYWx9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xze3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7dGV4dC1hbGlnbjpyaWdodDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO2JvdHRvbTowO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzIC5zdmctaWNvbnt3aWR0aDoxNHB4O2hlaWdodDoxNHB4O2xlZnQ6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sczpob3ZlciAucHJvcC1jb250cm9sOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAzcHggM3B4IDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzOmhvdmVyIC5wcm9wLWNvbnRyb2w6bGFzdC1jaGlsZHtkaXNwbGF5OmlubGluZS1ibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O3JpZ2h0OjA7Ym90dG9tOjA7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmZpcnN0LW9mLXR5cGV7cmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpudGgtb2YtdHlwZSgyKXtyaWdodDoyOHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOm50aC1vZi10eXBlKDMpe3JpZ2h0OjU2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6bnRoLW9mLXR5cGUoNCl7cmlnaHQ6ODRweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpmaXJzdC1jaGlsZHtyaWdodDowfTpub3QoLmNvbnRyb2wtY291bnQtMSkgLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjNweCAwIDAgM3B4O21hcmdpbi1yaWdodDotMXB4O2Rpc3BsYXk6bm9uZX06bm90KC5jb250cm9sLWNvdW50LTEpIC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6M3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmhvdmVyOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAzcHggM3B4IDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6aG92ZXI6Zmlyc3QtY2hpbGQ6bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpob3ZlcjpsYXN0LWNoaWxke2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmxhc3QtY2hpbGQ6Zmlyc3QtY2hpbGR7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym9yZGVyLXJhZGl1czozcHg7bWFyZ2luLXJpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLXdyYXB7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1yaWdodDozMXB4O21hcmdpbi1ib3R0b206MTBweDttaW4taGVpZ2h0OjI4cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLXdyYXA6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5maWVsZC1lZGl0LWdyb3Vwe3BhZGRpbmc6MTBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0c3t0cmFuc2l0aW9uOndpZHRoIC4xNXM7d2lsbC1jaGFuZ2U6d2lkdGh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzIC5mLWFkZG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9scyBpbnB1dCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHMgc2VsZWN0LC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9scyB0ZXh0YXJlYSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtaW5wdXRzIC5mLWFkZG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgaW5wdXQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyBzZWxlY3QsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyB0ZXh0YXJlYXtmb250LXNpemU6LjgyNWVtfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyAuZi1maWVsZC1ncm91cHt3aWR0aDoxMDAlO2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7dmVydGljYWwtYWxpZ246Ym90dG9tfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgLmYtZmllbGQtZ3JvdXB7bWFyZ2luLWJvdHRvbTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgLmYtY2hlY2tib3h7bWFyZ2luLXRvcDo3cHg7bWFyZ2luLWJvdHRvbTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgbGFiZWx7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLmNvbnRyb2wtY291bnQtMiAucHJvcC1jb250cm9sczpob3Zlcnt3aWR0aDo1NnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAuY29udHJvbC1jb3VudC0yIC5wcm9wLWNvbnRyb2xzOmhvdmVyKy5wcm9wLWlucHV0c3t3aWR0aDpjYWxjKDEwMCUgLSAyOHB4KX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQucGFuZWwtY291bnQtMSAucGFuZWwtbmF2e2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM5OTl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0LnBhbmVsLWNvdW50LTEgLnBhbmVsLW5hdiBidXR0b257ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdC5wYW5lbC1jb3VudC0xIC5wYW5lbC1sYWJlbHN7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLm9wdGlvbnMtcGFuZWwgLnByb3Atd3JhcHttYXJnaW4tYm90dG9tOjEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5pbnB1dC1ncm91cC1hZGRvbntsaW5lLWhlaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbHN7cGFkZGluZzoxMHB4IDM0cHggMTBweCAxMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbHMgLmlucHV0LWdyb3VwLWFkZG9ue2ZvbnQtc2l6ZToxMnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbHMgbGFiZWx7Zm9udC1zaXplOjEycHg7d2lkdGg6NTAlO3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6dGFibGUtY2VsbH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLm9wdGlvbnMtcGFuZWwgLnByb3AtbGFiZWwtZGlzYWJsZWQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5wcm9wLWxhYmVsLXNlbGVjdGVke3dpZHRoOjElIWltcG9ydGFudDt3aGl0ZS1zcGFjZTpub3dyYXA7dmVydGljYWwtYWxpZ246bWlkZGxlO2JvcmRlcjowIG5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVsLWFjdGlvbi1idXR0b25ze3BhZGRpbmc6MCAxMHB4IDEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbC1hY3Rpb24tYnV0dG9uczphZnRlcntjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVsLWFjdGlvbi1idXR0b25zIFtjbGFzc149YWRkLV17ZmxvYXQ6cmlnaHR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBoNXttYXJnaW46MDtwYWRkaW5nOi41NWVtIDA7Y29sb3I6IzY2Njtmb250LXdlaWdodDo0MDA7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIG5hdntwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjA7b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyNHB4O2NvbG9yOiMwMDA7aGVpZ2h0OjEwMCU7cGFkZGluZzowO2xpbmUtaGVpZ2h0OjA7ei1pbmRleDoxfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbjpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyOjFweCBzb2xpZCAjNjZhZmU5O2JveC1zaGFkb3c6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIG5hdiBidXR0b24gLnN2Zy1pY29ue3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBuYXYgYnV0dG9uLm5leHQtZ3JvdXB7cmlnaHQ6MDt0b3A6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbi5wcmV2LWdyb3Vwe2xlZnQ6MDt0b3A6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAuZi1wYW5lbHt2ZXJ0aWNhbC1hbGlnbjp0b3A7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleDoxIDAgMTAwJTtmbGV4OjEgMCAxMDAlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgLmYtcGFuZWw+bGk6bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjAgMCA1cHggNXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgLnBhbmVsc3t3aGl0ZS1zcGFjZTpub3dyYXA7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0saGVpZ2h0O3RyYW5zaXRpb24tZHVyYXRpb246LjE1czt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3d9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAucGFuZWwtbGFiZWxze2hlaWdodDoxMDAlO2JhY2tncm91bmQ6I2ZmZjtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXJ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAucGFuZWwtbGFiZWxzIGRpdnt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMTVzIGVhc2UtaW4tb3V0O3dpbGwtY2hhbmdlOnRyYW5zZm9ybTt3aGl0ZS1zcGFjZTpub3dyYXB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1uYXZ7aGVpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1uYXYgYnV0dG9ue2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsc3t0cmFuc2l0aW9uOm5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5mLXBhbmVse2JhY2tncm91bmQtY29sb3I6I2ZmZn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsLWxhYmVscyBkaXZ7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7LW1zLWZsZXgtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDstbXMtZmxleC13cmFwOm5vd3JhcDtmbGV4LXdyYXA6bm93cmFwOy1tcy1mbGV4LWxpbmUtcGFjazpzdHJldGNoO2FsaWduLWNvbnRlbnQ6c3RyZXRjaDstbXMtZmxleC1hbGlnbjpzdHJldGNoO2FsaWduLWl0ZW1zOnN0cmV0Y2g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1sYWJlbHMgaDV7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6MTtmbGV4OjE7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjojY2NjO2JveC1zaGFkb3c6aW5zZXQgMCAtMXB4IDZweCAjOTk5fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAudGFiYmVkLXBhbmVscyAucGFuZWwtbGFiZWxzIGg1LmFjdGl2ZS10YWJ7Y29sb3I6IzAwMDtib3gtc2hhZG93Om5vbmU7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcHtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpyaWdodDt3aWR0aDpjYWxjKDgwJSAtIDVweCk7Ym94LXNpemluZzpib3JkZXItYm94O3RyYW5zaXRpb246d2lkdGggLjI1czttYXJnaW4tcmlnaHQ6NXB4fUBtZWRpYSAobWF4LXdpZHRoOjQ4MXB4KXsuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXB7d2lkdGg6Y2FsYygxMDAlIC0gNTBweCl9fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuc3RhZ2V7bWluLWhlaWdodDo0NTBweDt0cmFuc2l0aW9uLXByb3BlcnR5OmJhY2tncm91bmQtY29sb3IsYm9yZGVyLWNvbG9yO3RyYW5zaXRpb24tZHVyYXRpb246LjVzLDMzM21zO2JvcmRlcjowIGRhc2hlZCB0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLDApO3BhZGRpbmctbGVmdDoyMnB4O3BhZGRpbmctYm90dG9tOjE1cHg7b3ZlcmZsb3c6dmlzaWJsZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAgLnN0YWdlLmVtcHR5LXN0YWdlc3tib3JkZXI6M3B4IGRhc2hlZCAjY2NjO2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjI1KX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAgLnN0YWdlLnJlbW92aW5nLWFsbC1maWVsZHMgLnN0YWdlLXJvd3N7dHJhbnNpdGlvbjptYXJnaW4tdG9wIC4yNXMgZWFzZS1pbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAuZWRpdGluZy1zdGFnZSAuZm9ybWVvLXNldHRpbmdze2Rpc3BsYXk6YmxvY2t9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS13cmFwLmVkaXRpbmctc3RhZ2UgLnN0YWdle2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAgLmYtZmllbGQtZ3JvdXB7bWFyZ2luLWJvdHRvbTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciBbY2xhc3MqPWVtcHR5LV1bY2xhc3MqPWVkaXRpbmctXTphZnRlcntvcGFjaXR5OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9ZW1wdHktXTphZnRlcntvcGFjaXR5OjE7Zm9udC1zaXplOjI0cHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTtjb2xvcjojOTk5O3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZS1pbi1vdXQ7d2lsbC1jaGFuZ2U6b3BhY2l0eTt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7Y29udGVudDphdHRyKGRhdGEtaG92ZXItdGFnKX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1zZXR0aW5nc3tkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHN7ZmxvYXQ6bGVmdDt3aWR0aDoyMCU7b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzLnB1bGwtbGVmdCAuZm9ybS1hY3Rpb25ze2Zsb2F0OmxlZnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpbHRlcmVkLXRlcm17YmFja2dyb3VuZC1jb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4IDNweCAwIDA7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1ib3R0b206MCBub25lO3dpZHRoOmNhbGMoMTAwJSAtIDJweCl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgbmF2e3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MCAyM3B4O292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgaDV7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MjJweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIzcHg7Y29sb3I6IzAwMDtoZWlnaHQ6Y2FsYygxMDAlICsgMXB4KTtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MDttYXJnaW46MDtib3JkZXItY29sb3I6I2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgYnV0dG9uLm5leHQtZ3JvdXB7cmlnaHQ6MDt0b3A6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIG5hdiBidXR0b24ucHJldi1ncm91cHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLnBhbmVscy13cmFwe2ZvbnQtc2l6ZTouODVlbTtsaW5lLWhlaWdodDoxLjhlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAucGFuZWwtbGFiZWxze2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2N9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLnBhbmVsLWNvdW50LTF7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5wYW5lbC1jb3VudC0xIC5wYW5lbC1uYXZ7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5wYW5lbC1jb3VudC0xIC5jb250cm9sLWdyb3VwIGxpOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6NnB4IDZweCAwIDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtZ3JvdXB7dmVydGljYWwtYWxpZ246dG9wO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7Ym9yZGVyLXRvcDoxcHggc29saWQgI2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cD5saTpmaXJzdC1jaGlsZHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5jb250cm9sLWdyb3VwPmxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgNnB4IDZweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAucGFuZWwtbmF2e2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAuY29udHJvbC1ncm91cHtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzLmZpbHRlcmVkIC5jb250cm9sLWdyb3VwPmxpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAuY29udHJvbC1ncm91cDpsYXN0LWNoaWxkPmxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgMCAzcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtZ3JvdXBze3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHN7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDojZmZmO292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHMgZGl2e3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHMgaDR7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25ze2Zsb2F0OnJpZ2h0O21hcmdpbi10b3A6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnMgLnN2Zy1pY29ue2ZpbGw6IzY2NjtkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc3ZnLWljb246aG92ZXJ7ZmlsbDojMDAwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnMgLmNsZWFyLWZvcm06aG92ZXIsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc2F2ZS1mb3JtOmhvdmVye2NvbG9yOiNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc2F2ZS1mb3JtOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzMyNWQ4OH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zIC5jbGVhci1mb3JtOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn1AbWVkaWEgKG1heC13aWR0aDo0ODFweCl7LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHN7d2lkdGg6NDVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cHt0ZXh0LWluZGVudDotOTk5OXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnN7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZmxvYXQ6bm9uZTttYXJnaW4tdG9wOjEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucz5idXR0b24rYnV0dG9ue21hcmdpbi10b3A6LTFweDttYXJnaW4tbGVmdDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnM+YnV0dG9ue21heC13aWR0aDoxMDAlO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjA7bGluZS1oZWlnaHQ6MDt3aWR0aDoxMDAlO2Zsb2F0Om5vbmU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpmaXJzdC1jaGlsZDpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjNweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpsYXN0LWNoaWxkOm5vdCg6Zmlyc3QtY2hpbGQpe2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zIC5nbHlwaGljb24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc3ZnLWljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLXJpZ2h0OjEwcHh9fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIC5zdmctaWNvbntwb2ludGVyLWV2ZW50czpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7cmlnaHQ6MDtsZWZ0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cHtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbnstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXA+YnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCg6bGFzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbjpsYXN0LWNoaWxkOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cD5idXR0b246Zmlyc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbjpmaXJzdC1jaGlsZDpub3QoOmxhc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwK2J1dHRvbiwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cC12ZXJ0aWNhbCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cC12ZXJ0aWNhbCBidXR0b24rYnV0dG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIGJ1dHRvbitidXR0b257bWFyZ2luLXJpZ2h0Oi0xcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mb3JtZW8tY29udHJvbHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9uc3tmbG9hdDpsZWZ0fS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2Utd3JhcHtmbG9hdDpyaWdodH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXdyYXAgLnN0YWdle3BhZGRpbmctbGVmdDo1cHg7cGFkZGluZy1yaWdodDoyM3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2Utcm93czpiZWZvcmV7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo2cHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtyaWdodDowO2xlZnQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3M6Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo1cHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3M6bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjVweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdzpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdy5lZGl0aW5nLXJvdzpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93OmJlZm9yZXtib3JkZXItbGVmdC13aWR0aDoxcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmVtcHR5LXJvd3M6YWZ0ZXJ7bGVmdDowO3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5yb3ctYWN0aW9uc3tyaWdodDotMjNweDtsZWZ0OmF1dG87Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjZweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZmllbGQtYWN0aW9uc3t0ZXh0LWFsaWduOmxlZnQ7bGVmdDowO3JpZ2h0OmF1dG87Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGV7bGVmdDowO3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgyKXtsZWZ0OjIzcHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDMpe2xlZnQ6NDZweDtyaWdodDphdXRvfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNCl7bGVmdDo2OXB4O3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg1KXtsZWZ0OjkycHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDYpe2xlZnQ6MTE1cHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2xlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLWZpZWxkcy5lZGl0aW5nLWZpZWxkIC5maWVsZC1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2UtZmllbGRzLmhvdmVyaW5nLWZpZWxkIC5maWVsZC1hY3Rpb25ze2JveC1zaGFkb3c6MXB4IDFweCAxcHggI2NjYztib3JkZXItd2lkdGg6MXB4IDAgMCAxcHh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLXJvd3ttYXJnaW4tYm90dG9tOjFlbTstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdzstbXMtZmxleC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0Oy1tcy1mbGV4LXdyYXA6bm93cmFwO2ZsZXgtd3JhcDpub3dyYXA7LW1zLWZsZXgtbGluZS1wYWNrOnN0cmV0Y2g7YWxpZ24tY29udGVudDpzdHJldGNoOy1tcy1mbGV4LWFsaWduOnN0cmV0Y2g7YWxpZ24taXRlbXM6c3RyZXRjaDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6NnB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnN9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLXJvdy53aWxsLXJlbW92ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjE3LDgzLDc5LC41KTtib3gtc2hhZG93Omluc2V0IDAgMCAzcHggMXB4ICNkOTUzNGZ9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLWlucHV0LWdyb3VwLXdyYXA6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OnRhYmxlO2NsZWFyOmJvdGh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLWlucHV0LWdyb3Vwe3Bvc2l0aW9uOnJlbGF0aXZlfS5mb3JtZW8uZm9ybWVvLXJlbmRlciAuZi1pbnB1dC1ncm91cDpmaXJzdC1jaGlsZCAucmVtb3ZlLWlucHV0LWdyb3Vwe2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmFkZC1pbnB1dC1ncm91cHtmbG9hdDpyaWdodDttYXJnaW4tdG9wOjEwcHh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5yZW1vdmUtaW5wdXQtZ3JvdXB7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMzJweDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTt3aWR0aDozMnB4O2hlaWdodDozMnB4O3RvcDo1MCU7Ym9yZGVyOjAgbm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O291dGxpbmU6MCBub25lO2xpbmUtaGVpZ2h0OjB9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5yZW1vdmUtaW5wdXQtZ3JvdXA6aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2Q5NTM0Zn0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLnJlbW92ZS1pbnB1dC1ncm91cCAuc3ZnLWljb257cG9pbnRlci1ldmVudHM6bm9uZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmZvcm0tY2hlY2staW5wdXQ6b25seS1jaGlsZHtwb3NpdGlvbjphYnNvbHV0ZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLnN2Zy1pY29ue21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MTAwJX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmYtcmVuZGVyLWNvbHVtbntwYWRkaW5nOjAgNXB4O2Zsb2F0OmxlZnQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWF4LXdpZHRoOm5vbmU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6YXV0bztmbGV4OmF1dG99LmZpZWxkLWNvbnRyb2wgLnN2Zy1pY29ue3BvaW50ZXItZXZlbnRzOm5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vY3NzLWxvYWRlcj97XCJtaW5pbWl6ZVwiOnRydWUsXCJzb3VyY2VNYXBzXCI6dHJ1ZX0hQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vcG9zdGNzcy1sb2FkZXI/e1wicGx1Z2luc1wiOltudWxsXX0hQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz97XCJzb3VyY2VNYXBzXCI6dHJ1ZX0hQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL3NyYy9zYXNzL2Zvcm1lby5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n') }, function () { eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push("@media " + item[2] + "{" + item[1] + "}");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanM/MzA0NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBDOi9Vc2Vycy9lZHdpbi5yb3kvRGVza3RvcC9mb3JtZW8vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n') }, function () { eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../~/css-loader??ref--3-2!../../~/postcss-loader??ref--3-3!../../~/sass-loader/lib/loader.js??ref--3-4!./formeo.scss */ 17);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../../~/style-loader/addStyles.js */ 21)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./formeo.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./formeo.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL3NyYy9zYXNzL2Zvcm1lby5zY3NzPzI2NzQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMiEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0zIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTMtNCEuL2Zvcm1lby5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMiEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0zIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTMtNCEuL2Zvcm1lby5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTIhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS0zLTQhLi9mb3JtZW8uc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL3NyYy9zYXNzL2Zvcm1lby5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n") }, function () { eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vcHJvY2Vzcy9icm93c2VyLmpzPzg0NmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEM6L1VzZXJzL2Vkd2luLnJveS9EZXNrdG9wL2Zvcm1lby9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n") }, function () { eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName("head")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === "undefined") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === "undefined") options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === "top") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === "bottom") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement("style");\n\tstyleElement.type = "text/css";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement("link");\n\tlinkElement.rel = "stylesheet";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute("media", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qcz9kZDM3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XG5cdFx0dmFyIG1lbW87XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gbWVtbztcblx0XHR9O1xuXHR9LFxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qoc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuXHR9KSxcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG5cdH0pLFxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXG5cdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZih0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2Vcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHRcdH1cblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XG5cdHJldHVybiBsaW5rRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG5cdFx0aWYobmV3T2JqKSB7XG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlcztcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdGlmKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XG5cblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKVxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEM6L1VzZXJzL2Vkd2luLnJveS9EZXNrdG9wL2Zvcm1lby9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n') }, function () { eval("\nexports = module.exports = function() {\n\tvar ret = '', value;\n\tfor (var i = 0; i < 32; i++) {\n\t\tvalue = exports.random() * 16 | 0;\n\t\t// Insert the hypens\n\t\tif (i > 4 && i < 21 && ! (i % 4)) {\n\t\t\tret += '-';\n\t\t}\n\t\t// Add the next random character\n\t\tret += (\n\t\t\t(i === 12) ? 4 : (\n\t\t\t\t(i === 16) ? (value & 3 | 8) : value\n\t\t\t)\n\t\t).toString(16);\n\t}\n\treturn ret;\n};\n\nvar uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;\nexports.isUUID = function(uuid) {\n\treturn uuidRegex.test(uuid);\n};\n\nexports.random = function() {\n\treturn Math.random();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovVXNlcnMvZWR3aW4ucm95L0Rlc2t0b3AvZm9ybWVvL34vdXVpZC12NC9pbmRleC5qcz9kYmM1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciByZXQgPSAnJywgdmFsdWU7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuXHRcdHZhbHVlID0gZXhwb3J0cy5yYW5kb20oKSAqIDE2IHwgMDtcblx0XHQvLyBJbnNlcnQgdGhlIGh5cGVuc1xuXHRcdGlmIChpID4gNCAmJiBpIDwgMjEgJiYgISAoaSAlIDQpKSB7XG5cdFx0XHRyZXQgKz0gJy0nO1xuXHRcdH1cblx0XHQvLyBBZGQgdGhlIG5leHQgcmFuZG9tIGNoYXJhY3RlclxuXHRcdHJldCArPSAoXG5cdFx0XHQoaSA9PT0gMTIpID8gNCA6IChcblx0XHRcdFx0KGkgPT09IDE2KSA/ICh2YWx1ZSAmIDMgfCA4KSA6IHZhbHVlXG5cdFx0XHQpXG5cdFx0KS50b1N0cmluZygxNik7XG5cdH1cblx0cmV0dXJuIHJldDtcbn07XG5cbnZhciB1dWlkUmVnZXggPSAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LTRbMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kLztcbmV4cG9ydHMuaXNVVUlEID0gZnVuY3Rpb24odXVpZCkge1xuXHRyZXR1cm4gdXVpZFJlZ2V4LnRlc3QodXVpZCk7XG59O1xuXG5leHBvcnRzLnJhbmRvbSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gTWF0aC5yYW5kb20oKTtcbn07XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIEM6L1VzZXJzL2Vkd2luLnJveS9EZXNrdG9wL2Zvcm1lby9+L3V1aWQtdjQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n") }, function () { eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n') }, function (n, t, i) { i(11); n.exports = i(10) }]);